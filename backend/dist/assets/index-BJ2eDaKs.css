:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--color-bg-base: #f8fafc;--color-bg-elevated: #ffffff;--color-bg-overlay: rgba(255, 255, 255, .95);--color-bg-header: #1e293b;--color-bg-sidebar: #0f172a;--color-bg-surface: #ffffff;--color-bg-surface-hover: #f1f5f9;--color-bg-surface-active: #e2e8f0;--color-text-primary: #0f172a;--color-text-secondary: #475569;--color-text-muted: #64748b;--color-text-disabled: #94a3b8;--color-text-inverse: #f8fafc;--color-text-on-header: #ffffff;--color-border-default: #e2e8f0;--color-border-subtle: rgba(15, 23, 42, .08);--color-border-strong: #cbd5e1;--color-border-focus: #2563eb;--color-accent-primary: #2563eb;--color-accent-primary-hover: #1d4ed8;--color-accent-primary-light: #dbeafe;--color-accent-secondary: #6366f1;--color-accent-secondary-hover: #4f46e5;--color-success: #16a34a;--color-success-light: rgba(16, 185, 129, .12);--color-warning: #f59e0b;--color-warning-light: rgba(251, 191, 36, .16);--color-error: #dc2626;--color-error-light: rgba(248, 113, 113, .16);--color-error-hover: #b91c1c;--color-link: #2563eb;--color-link-hover: #1d4ed8;--color-focus-ring: #93c5fd;--color-focus-ring-offset: #ffffff;--color-btn-default: #1e293b;--color-btn-default-hover: #334155;--color-btn-default-text: #f8fafc;--color-btn-secondary: #e2e8f0;--color-btn-secondary-hover: #cbd5e1;--color-btn-secondary-text: #1e293b;--color-btn-ghost: transparent;--color-btn-ghost-hover: rgba(148, 163, 184, .12);--color-btn-ghost-text: #2563eb;--color-btn-primary: #2563eb;--color-btn-primary-hover: #1d4ed8;--color-btn-primary-text: #ffffff;--color-btn-danger: #dc2626;--color-btn-danger-hover: #b91c1c;--color-btn-danger-text: #ffffff;--shadow-sm: 0 2px 4px rgba(15, 23, 42, .12);--shadow-md: 0 4px 12px rgba(15, 23, 42, .15);--shadow-lg: 0 18px 32px rgba(15, 23, 42, .12);--shadow-xl: 0 24px 48px rgba(15, 23, 42, .15);color:var(--color-text-primary);background-color:var(--color-bg-base)}[data-theme=dark],body.theme-dark{color-scheme:dark;--color-bg-base: #0f1419;--color-bg-elevated: #1a1f2e;--color-bg-overlay: rgba(15, 20, 25, .95);--color-bg-header: #0f172a;--color-bg-sidebar: #020817;--color-bg-surface: #1f2937;--color-bg-surface-hover: #293548;--color-bg-surface-active: #334155;--color-text-primary: #e2e8f0;--color-text-secondary: #cbd5e1;--color-text-muted: #94a3b8;--color-text-disabled: #64748b;--color-text-inverse: #0f172a;--color-text-on-header: #e2e8f0;--color-border-default: #334155;--color-border-subtle: rgba(148, 163, 184, .2);--color-border-strong: #475569;--color-border-focus: #60a5fa;--color-accent-primary: #60a5fa;--color-accent-primary-hover: #93c5fd;--color-accent-primary-light: rgba(59, 130, 246, .25);--color-accent-secondary: #818cf8;--color-accent-secondary-hover: #a5b4fc;--color-success: #34d399;--color-success-light: rgba(34, 197, 94, .18);--color-warning: #fbbf24;--color-warning-light: rgba(251, 191, 36, .16);--color-error: #f87171;--color-error-light: rgba(248, 113, 113, .22);--color-error-hover: #fca5a5;--color-link: #60a5fa;--color-link-hover: #93c5fd;--color-focus-ring: #60a5fa;--color-focus-ring-offset: #0f1419;--color-btn-default: #334155;--color-btn-default-hover: #475569;--color-btn-default-text: #e2e8f0;--color-btn-secondary: rgba(30, 41, 59, .85);--color-btn-secondary-hover: rgba(51, 65, 85, .85);--color-btn-secondary-text: #e2e8f0;--color-btn-ghost: transparent;--color-btn-ghost-hover: rgba(148, 163, 184, .15);--color-btn-ghost-text: #c7d2fe;--color-btn-primary: #2563eb;--color-btn-primary-hover: #3b82f6;--color-btn-primary-text: #ffffff;--color-btn-danger: rgba(248, 113, 113, .25);--color-btn-danger-hover: rgba(248, 113, 113, .35);--color-btn-danger-text: #fecaca;--shadow-sm: 0 2px 4px rgba(2, 6, 23, .4);--shadow-md: 0 4px 12px rgba(2, 6, 23, .5);--shadow-lg: 0 18px 32px rgba(2, 6, 23, .55);--shadow-xl: 0 24px 48px rgba(2, 6, 23, .6)}a{font-weight:500;color:var(--color-link);text-decoration:none;transition:color .2s ease}a:hover{color:var(--color-link-hover)}body{margin:0;min-width:320px;min-height:100vh;background:var(--color-bg-base);color:var(--color-text-primary);display:block}h1,h2,h3,h4,h5{margin:0;font-weight:600;color:var(--color-text-primary)}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:var(--color-btn-default);color:var(--color-btn-default-text);cursor:pointer;transition:background-color .25s,border-color .25s,color .25s}button:hover{background-color:var(--color-btn-default-hover)}button:focus,button:focus-visible{outline:3px solid var(--color-focus-ring);outline-offset:2px}button:disabled{opacity:.6;cursor:not-allowed}svg.lucide,svg.lucide *{stroke:currentColor!important;fill:none!important}.notification-widget{position:relative;display:inline-flex;align-items:center}.notification-widget-button{position:relative;display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;background:transparent;color:inherit;cursor:pointer;border-radius:8px;transition:background .2s ease}.notification-widget-button svg{display:block;width:20px;height:20px;color:currentColor;stroke:currentColor;fill:none;flex-shrink:0;vertical-align:middle}.notification-widget-button:hover{background:#0000000d}body.theme-dark .notification-widget-button:hover{background:#ffffff1a}.notification-widget-badge{position:absolute;top:4px;right:4px;min-width:18px;height:18px;padding:0 4px;background:#dc2626;color:#fff;border-radius:9px;font-size:11px;font-weight:600;display:inline-flex;align-items:center;justify-content:center;line-height:1}.notification-widget-dropdown{position:absolute;top:calc(100% + 8px);right:0;width:360px;max-height:480px;background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:12px;box-shadow:0 8px 24px #00000026;z-index:1000;display:flex;flex-direction:column;overflow:hidden}body.theme-dark .notification-widget-dropdown{background:#1e293b;border-color:#ffffff1a;box-shadow:0 8px 24px #0006}.notification-widget-header{display:flex;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid rgba(0,0,0,.1)}body.theme-dark .notification-widget-header{border-bottom-color:#ffffff1a}.notification-widget-header h3{margin:0;font-size:1rem;font-weight:600}.notification-widget-count{font-size:.85rem;color:#64748b}body.theme-dark .notification-widget-count{color:#94a3b8}.notification-widget-loading,.notification-widget-empty{padding:2rem 1rem;text-align:center;color:#64748b;font-size:.9rem}body.theme-dark .notification-widget-loading,body.theme-dark .notification-widget-empty{color:#94a3b8}.notification-widget-list{flex:1;overflow-y:auto;max-height:320px}.notification-widget-item{display:flex;align-items:flex-start;padding:.75rem 1rem;border-bottom:1px solid rgba(0,0,0,.05);cursor:pointer;transition:background .15s ease;gap:.75rem}body.theme-dark .notification-widget-item{border-bottom-color:#ffffff0d}.notification-widget-item:hover{background:#00000008}body.theme-dark .notification-widget-item:hover{background:#ffffff0d}.notification-widget-item.unread{background:#3b82f60d}body.theme-dark .notification-widget-item.unread{background:#3b82f61a}.notification-widget-item-content{flex:1;display:flex;flex-direction:column;gap:.25rem}.notification-widget-item-message{margin:0;font-size:.9rem;line-height:1.4;color:#1e293b}body.theme-dark .notification-widget-item-message{color:#e2e8f0}.notification-widget-item.unread .notification-widget-item-message{font-weight:600}.notification-widget-item-time{font-size:.75rem;color:#64748b}body.theme-dark .notification-widget-item-time{color:#94a3b8}.notification-widget-item-dot{width:8px;height:8px;background:#3b82f6;border-radius:50%;margin-top:.25rem;flex-shrink:0}.notification-widget-footer{padding:.75rem 1rem;border-top:1px solid rgba(0,0,0,.1)}body.theme-dark .notification-widget-footer{border-top-color:#ffffff1a}.notification-widget-view-all{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#3b82f6;text-decoration:none;font-size:.9rem;font-weight:600;transition:color .2s ease}.notification-widget-view-all:hover{color:#2563eb}body.theme-dark .notification-widget-view-all{color:#60a5fa}body.theme-dark .notification-widget-view-all:hover{color:#93c5fd}.global-search{position:relative;width:100%;max-width:400px}.global-search-input-wrapper{position:relative;display:flex;align-items:center;background:#fff;border:1px solid #e2e8f0;border-radius:6px;padding:.5rem .75rem;gap:.5rem}.global-search-input-wrapper:focus-within:not(.disabled){border-color:#3b82f6;outline:2px solid rgba(59,130,246,.2);outline-offset:0}.global-search-input-wrapper.disabled{opacity:.6;cursor:not-allowed;background:#f1f5f9}.global-search-input-wrapper.disabled .global-search-input{cursor:not-allowed}.global-search-icon{color:#64748b;flex-shrink:0}.global-search-input{flex:1;border:none;outline:none;background:transparent;color:#0f172a;font-size:.9rem;padding:0}.global-search-input::placeholder{color:#94a3b8}.global-search-clear{display:flex;align-items:center;justify-content:center;background:none;border:none;color:#64748b;cursor:pointer;padding:.25rem;border-radius:4px;flex-shrink:0}.global-search-clear:hover{background:#f1f5f9;color:#0f172a}.global-search-dropdown{position:absolute;top:calc(100% + .5rem);left:0;right:0;background:#fff;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 4px 12px #00000026;max-height:400px;overflow-y:auto;z-index:1000}.global-search-loading,.global-search-error,.global-search-empty{padding:1rem;text-align:center;color:#64748b;font-size:.9rem}.global-search-error{color:#b91c1c}.global-search-results-list{display:flex;flex-direction:column;padding:.25rem}.global-search-result-item{display:flex;flex-direction:column;gap:.25rem;padding:.75rem;border:none;background:none;text-align:left;cursor:pointer;border-radius:4px;transition:background-color .15s}.global-search-result-item:hover,.global-search-result-item.selected{background:#f1f5f9}.global-search-result-header{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.global-search-result-name{font-weight:500;color:#0f172a;font-size:.95rem}.global-search-result-type{font-size:.8rem;color:#64748b;background:#f1f5f9;padding:.125rem .5rem;border-radius:4px}.global-search-result-meta{display:flex;align-items:center;gap:.5rem}.global-search-match-type{font-size:.8rem;color:#64748b}.global-search-mobile{position:fixed;inset:0;z-index:1000;display:flex;flex-direction:column}.global-search-mobile-overlay{position:absolute;inset:0;background:#00000080}.global-search-mobile-content{position:relative;background:#fff;padding:1rem;display:flex;flex-direction:column;gap:1rem;max-height:100vh;overflow:hidden}.global-search-mobile .global-search-input-wrapper{width:100%}.global-search-mobile .global-search-results{flex:1;overflow-y:auto;border:1px solid #e2e8f0;border-radius:6px;background:#fff}.global-search-mobile .global-search-results-list{padding:.25rem}body.theme-dark .global-search-input-wrapper{background:#1e293b;border-color:#94a3b84d;color:#e2e8f0}body.theme-dark .global-search-input-wrapper:focus-within{border-color:#60a5fa;outline-color:#60a5fa33}body.theme-dark .global-search-icon{color:#94a3b8}body.theme-dark .global-search-input{color:#e2e8f0}body.theme-dark .global-search-input::placeholder{color:#64748b}body.theme-dark .global-search-clear{color:#94a3b8}body.theme-dark .global-search-clear:hover{background:#94a3b826;color:#e2e8f0}body.theme-dark .global-search-dropdown{background:#1e293b;border-color:#94a3b84d;box-shadow:0 4px 12px #02081799}body.theme-dark .global-search-loading,body.theme-dark .global-search-error,body.theme-dark .global-search-empty{color:#94a3b8}body.theme-dark .global-search-error{color:#f87171}body.theme-dark .global-search-result-item:hover,body.theme-dark .global-search-result-item.selected{background:#94a3b826}body.theme-dark .global-search-result-name{color:#e2e8f0}body.theme-dark .global-search-result-type{color:#cbd5e1;background:#94a3b833}body.theme-dark .global-search-match-type{color:#94a3b8}body.theme-dark .global-search-mobile-content{background:#1e293b}body.theme-dark .global-search-mobile .global-search-results{border-color:#94a3b84d;background:#1e293b}body.theme-dark .global-search-input-wrapper.disabled{background:#0f172a80;opacity:.6}.relationship-builder-v3{display:flex;flex-direction:column;gap:1rem;padding:1rem;background:var(--bg-surface, #fff);border-radius:8px;border:1px solid var(--border-color, #ddd)}.relationship-builder-v3 h2{font-size:1.1rem;font-weight:600;margin-bottom:.25rem;color:var(--text-primary, #222)}.form-row{display:flex;flex-direction:column;gap:.4rem}.form-row label{font-weight:500;font-size:.85rem;color:var(--text-muted, #666)}.form-row select{width:100%;padding:.55rem .75rem;font-size:.9rem;border:1px solid var(--border-color, #ccc);border-radius:6px;background:var(--bg-input, #fff);color:var(--text-primary, #222);outline:none;transition:border-color .2s,box-shadow .2s}.form-row select:hover,.form-row select:focus{border-color:var(--accent, #4a90e2);box-shadow:0 0 0 2px #4a90e226}.form-actions{display:flex;justify-content:flex-end;gap:.6rem;margin-top:.75rem}.form-actions .btn{padding:.5rem .9rem;font-size:.9rem;border-radius:6px;cursor:pointer;font-weight:500;transition:background .2s,color .2s,border-color .2s}.form-actions .btn.primary{background:var(--accent, #4a90e2);color:#fff;border:1px solid var(--accent, #4a90e2)}.form-actions .btn.primary:hover{background:var(--accent-hover, #3a7bd5)}.form-actions .btn.secondary{background:transparent;border:1px solid var(--border-color, #ccc);color:var(--text-primary, #333)}.form-actions .btn.secondary:hover{border-color:var(--accent, #4a90e2);color:var(--accent, #4a90e2)}.relationship-direction{font-size:.85rem;color:var(--text-muted, #666);font-style:italic;margin-top:-.3rem;margin-bottom:.3rem;padding-left:.2rem}.entity-search-select{display:flex;flex-direction:column;gap:.4rem;position:relative;width:100%;font-family:var(--font-ui, "Inter", system-ui, sans-serif)}.entity-search-select label{font-weight:500;font-size:.85rem;color:var(--text-muted, #666)}.entity-search-wrapper{position:relative;display:flex;align-items:center}.entity-search-input{width:100%;padding:.55rem 2rem .55rem .75rem;font-size:.9rem;border:1px solid var(--border-color, #ccc);border-radius:6px;background:var(--bg-input, #fff);color:var(--text-primary, #222);outline:none;transition:border-color .2s,box-shadow .2s,background .2s}.entity-search-input:hover:not(:disabled),.entity-search-input:focus{border-color:var(--accent, #4a90e2);box-shadow:0 0 0 2px #4a90e226}.entity-search-input.selected{background:var(--bg-selected, #f8f9fb);border-color:var(--border-color, #ccc);color:var(--text-secondary, #333)}.entity-search-input:disabled{opacity:.6;cursor:not-allowed}.clear-btn{position:absolute;right:.5rem;background:transparent;border:none;color:var(--text-muted, #888);font-size:1rem;cursor:pointer;padding:0;line-height:1;transition:color .2s ease}.clear-btn:hover{color:var(--accent, #4a90e2)}.entity-results{position:absolute;top:100%;left:0;width:100%;max-height:240px;overflow-y:auto;background:var(--bg-surface, #fff);border:1px solid var(--border-color, #ccc);border-radius:6px;margin-top:4px;box-shadow:0 4px 10px #00000014;z-index:20;list-style:none;padding:0}.entity-results li{padding:.5rem .75rem;cursor:pointer;font-size:.9rem;color:var(--text-primary, #222);transition:background .15s,color .15s}.entity-results li:hover{background:var(--bg-hover, #f1f5fb)}.entity-results li.selected{background:var(--accent-light, rgba(74, 144, 226, .15));color:var(--accent, #4a90e2);font-weight:500}.small.text-muted{font-size:.8rem;color:var(--text-muted, #777);margin-top:.25rem}.entity-results::-webkit-scrollbar{width:6px}.entity-results::-webkit-scrollbar-thumb{background:#00000026;border-radius:3px}.entity-results::-webkit-scrollbar-thumb:hover{background:#00000040}.inline-entity-creator{background:var(--bg-surface, #fafafa);border:1px solid var(--border-color, #ddd);border-radius:6px;padding:.75rem;margin-top:.5rem;display:flex;flex-direction:column;gap:.6rem}.inline-entity-creator h4{font-size:.95rem;font-weight:600;margin-bottom:.2rem}.inline-entity-creator input,.inline-entity-creator select,.inline-entity-creator textarea{font-size:.9rem;padding:.45rem .6rem;border:1px solid var(--border-color, #ccc);border-radius:6px;width:100%}.inline-entity-creator textarea{resize:vertical}.inline-entity-creator .btn.small{font-size:.85rem;padding:.3rem .6rem}.entity-info-drawer-wrapper{position:fixed;inset:0;display:flex;justify-content:flex-end;align-items:stretch;pointer-events:none;z-index:1000}.entity-info-drawer-wrapper--open,.entity-info-drawer-wrapper--opening,.entity-info-drawer-wrapper--closing{pointer-events:auto}.entity-info-drawer__overlay{position:absolute;inset:0;background:#0f172a59;opacity:0;transition:opacity .45s ease-out;pointer-events:auto;z-index:0}.entity-info-drawer-wrapper--opening .entity-info-drawer__overlay,.entity-info-drawer-wrapper--open .entity-info-drawer__overlay{opacity:1}.entity-info-drawer-wrapper--closing .entity-info-drawer__overlay{opacity:0}.entity-info-drawer{position:relative;height:100vh;width:min(420px,92vw);background:#fff;border-left:1px solid #e2e8f0;box-shadow:-2px 0 16px #0f172a1f;padding:24px;display:flex;flex-direction:column;gap:16px;overflow-y:auto;transform:translate(100%);opacity:0;transition:transform .45s ease-out,opacity .45s ease-out;z-index:1}.entity-info-drawer-wrapper--opening .entity-info-drawer,.entity-info-drawer-wrapper--open .entity-info-drawer{transform:translate(0);opacity:1}.entity-info-drawer-wrapper--closing .entity-info-drawer{transform:translate(100%);opacity:0}.entity-info-drawer__header{margin-top:8px;display:flex;flex-direction:column;gap:12px}.entity-info-drawer__header-top{display:flex;flex-wrap:wrap;align-items:center;gap:12px}.entity-info-drawer__actions{display:inline-flex;align-items:center;gap:8px;margin-left:auto;flex-wrap:wrap;justify-content:flex-end}.entity-info-drawer__close{background:transparent;border:none;border-radius:999px;width:34px;height:34px;display:inline-flex;align-items:center;justify-content:center;font-size:1.25rem;line-height:1;color:#64748b;cursor:pointer;transition:background .2s ease,color .2s ease}.entity-info-drawer__close:hover,.entity-info-drawer__close:focus{color:#0f172a;background:#94a3b82e;outline:none}.entity-info-drawer__close:focus-visible{outline:2px solid #4338ca;outline-offset:2px}.entity-info-drawer__type{font-size:.875rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:#6366f1;margin:0;flex:1 1 auto;min-width:0}.entity-info-drawer__title{font-size:1.5rem;font-weight:700;color:#0f172a;margin:0}.entity-info-drawer__summary{font-size:.95rem;color:#475569;line-height:1.5;margin:0;white-space:pre-wrap}.entity-info-drawer__image{width:100%;border-radius:.85rem;border:1px solid #e2e8f0;overflow:hidden;background:#0f172a;display:flex;align-items:center;justify-content:center;padding:.5rem}.entity-info-drawer__image img{width:min(50%,240px);height:auto;max-height:180px;object-fit:contain;object-position:center;display:block;margin:0 auto;background:#0f172a}.entity-info-drawer__status{font-size:.9rem;color:#475569;margin:0}.entity-info-drawer__status--error{color:#dc2626;font-weight:600}.entity-info-drawer__metadata{display:flex;flex-direction:column;gap:12px;margin:0}.entity-info-drawer__metadata-item dt{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8;margin-bottom:4px}.entity-info-drawer__metadata-item dd{margin:0;font-size:.95rem;color:#0f172a;white-space:pre-wrap;word-break:break-word}.entity-info-drawer__link{background:#312e81;color:#fff;border:none;border-radius:6px;font-size:.95rem;font-weight:600;padding:10px 16px;cursor:pointer;transition:background .2s ease-in-out;flex:0 0 auto}.entity-info-drawer__link:hover,.entity-info-drawer__link:focus{background:#4338ca;outline:none}.entity-info-drawer__link:disabled{background:#c7d2fe;color:#e0e7ff;cursor:not-allowed}body.theme-dark .entity-info-drawer__overlay{background:#020617b3}body.theme-dark .entity-info-drawer{background:#0f172a;border-left:1px solid #1e293b;box-shadow:-18px 0 40px #02061799;color:#e2e8f0}body.theme-dark .entity-info-drawer__close{color:#cbd5f5}body.theme-dark .entity-info-drawer__close:hover,body.theme-dark .entity-info-drawer__close:focus{color:#f8fafc;background:#94a3b833}body.theme-dark .entity-info-drawer__close:focus-visible{outline:2px solid #6366f1;outline-offset:2px}body.theme-dark .entity-info-drawer__type{color:#a5b4fc}body.theme-dark .entity-info-drawer__title{color:#f8fafc}body.theme-dark .entity-info-drawer__summary,body.theme-dark .entity-info-drawer__status{color:#cbd5f5}body.theme-dark .entity-info-drawer__image{border-color:#1f2937;background:#020617}body.theme-dark .entity-info-drawer__metadata-item dt{color:#94a3b8}body.theme-dark .entity-info-drawer__metadata-item dd{color:#e2e8f0}body.theme-dark .entity-info-drawer__link{background:#2563eb}body.theme-dark .entity-info-drawer__link:hover,body.theme-dark .entity-info-drawer__link:focus{background:#1d4ed8}body.theme-dark .entity-info-drawer__link:disabled{background:#2563eb40;color:#bfdbfea6}.entity-follow-button{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border:1px solid rgba(0,0,0,.1);background:#fff;color:#64748b;border-radius:8px;cursor:pointer;transition:all .2s ease;flex-shrink:0}body.theme-dark .entity-follow-button{background:#1e293b;border-color:#ffffff1a;color:#94a3b8}.entity-follow-button:hover:not(:disabled){border-color:#3b82f6;color:#3b82f6;background:#3b82f60d}body.theme-dark .entity-follow-button:hover:not(:disabled){border-color:#60a5fa;color:#60a5fa;background:#3b82f61a}.entity-follow-button.following{background:#3b82f61a;border-color:#3b82f6;color:#3b82f6}body.theme-dark .entity-follow-button.following{background:#3b82f633;border-color:#60a5fa;color:#60a5fa}.entity-follow-button:disabled{opacity:.5;cursor:not-allowed}.entity-importance-selector{display:flex;align-items:center;gap:12px;padding:8px 12px;background:#ffffff80;border-radius:8px;border:1px solid rgba(148,163,184,.2)}body.theme-dark .entity-importance-selector{background:#1e293b99;border-color:#94a3b84d}.entity-importance-label{font-size:.875rem;font-weight:600;color:#475569;white-space:nowrap}body.theme-dark .entity-importance-label{color:#cbd5e1}.entity-importance-buttons{display:flex;gap:6px;align-items:center}.entity-importance-button{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:6px;border:1px solid rgba(148,163,184,.3);background:#fff;color:#64748b;font-size:.8125rem;font-weight:500;cursor:pointer;transition:all .15s ease;white-space:nowrap}body.theme-dark .entity-importance-button{background:#1e293b;color:#cbd5e1;border-color:#94a3b866}.entity-importance-button:hover:not(:disabled){background:#f1f5f9;border-color:#94a3b880;transform:translateY(-1px)}body.theme-dark .entity-importance-button:hover:not(:disabled):not(.selected){background:#334155;border-color:#94a3b899;color:#f1f5f9}.entity-importance-button:active:not(:disabled){transform:translateY(0)}.entity-importance-button:disabled{opacity:.6;cursor:not-allowed}.entity-importance-button.selected{background:var(--importance-color, #6b7280);color:#fff;border-color:var(--importance-color, #6b7280);box-shadow:0 2px 4px #0000001a}body.theme-dark .entity-importance-button.selected{background:var(--importance-color, #6b7280)!important;color:#fff!important;border-color:var(--importance-color, #6b7280)!important;box-shadow:0 2px 6px #0000004d}.entity-importance-button.selected:hover:not(:disabled){opacity:.9}body.theme-dark .entity-importance-button.selected:hover:not(:disabled){opacity:.9;filter:brightness(1.05)}.entity-importance-button svg{flex-shrink:0}.entity-importance-button-label{white-space:nowrap}@media (max-width: 768px){.entity-importance-selector{flex-direction:column;align-items:stretch;gap:8px}.entity-importance-buttons{flex-wrap:wrap}.entity-importance-button{flex:1;min-width:0;justify-content:center}.entity-importance-button-label{display:none}}.entity-notes{display:flex;flex-direction:column;gap:1.5rem}.entity-notes-feed{display:flex;flex-direction:column;gap:1rem}.entity-notes-feed-header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:.5rem}.entity-notes-subnav{display:inline-flex;align-items:center;gap:.5rem;padding:.25rem;border-radius:999px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-strong, #f3f6fb);margin-bottom:1rem}.entity-notes-subnav-button{border:none;background:transparent;padding:.35rem .9rem;border-radius:999px;font-weight:600;font-size:.95rem;color:var(--text-muted, #5f6b7a);cursor:pointer;transition:background .15s ease,color .15s ease,box-shadow .15s ease}.entity-notes-subnav-button:hover,.entity-notes-subnav-button:focus-visible{outline:none;color:var(--accent-strong, #36488f)}.entity-notes-subnav-button.active{background:#4f46e529;color:var(--accent-strong, #36488f);box-shadow:0 8px 16px -12px #4f46e58c}.entity-notes-subnav-count{margin-left:.35rem;font-size:.75rem;font-weight:600}.entity-notes-feed-title{display:flex;flex-direction:column;gap:.25rem}.entity-notes-create-button,.entity-notes-actions .primary{display:inline-flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;border:none;box-shadow:0 12px 20px -12px #4f46e5a6;transition:transform .2s ease,box-shadow .2s ease,opacity .2s ease}.entity-notes-create-button{white-space:nowrap}.entity-notes-context{margin:0;font-size:.9rem;color:var(--text-muted, #5f6b7a)}body.theme-dark .entity-notes-context{color:#cbd5e1c7}.entity-notes-filter-bar{display:flex;flex-wrap:wrap;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:10px;background:var(--surface-strong, #f3f6fb);border:1px solid var(--border-subtle, #d6dbe4)}body.theme-dark .entity-notes-filter-bar{background:#0f172ad1;border-color:#94a3b84d;box-shadow:0 18px 32px #0206178c}.entity-notes-filter-bar label{font-weight:600;font-size:.9rem}body.theme-dark .entity-notes-filter-bar label{color:#e2e8f0e0}.entity-notes-filter-bar select{border-radius:6px;border:1px solid var(--border-subtle, #d6dbe4);padding:.35rem .75rem;font:inherit;background:var(--surface-weak, #fff);color:inherit}body.theme-dark .entity-notes-filter-bar select{background:#0f172aeb;border:1px solid rgba(148,163,184,.35);color:#e2e8f0}.entity-notes-filter-bar select:disabled{opacity:.65;cursor:not-allowed}.entity-notes-filter-count{margin-left:auto;font-size:.85rem;color:var(--text-muted, #5f6b7a)}body.theme-dark .entity-notes-filter-count{color:#cbd5e1bf}.entity-notes-mentions{display:flex;flex-direction:column;gap:1rem}.entity-notes-mentions-header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:1rem}.entity-notes-mention-toggle{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem;border-radius:999px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-strong, #f3f6fb)}.entity-notes-mention-toggle-button{border:none;background:transparent;padding:.3rem .85rem;border-radius:999px;font-weight:600;font-size:.9rem;color:var(--text-muted, #5f6b7a);cursor:pointer;transition:background .15s ease,color .15s ease,box-shadow .15s ease}.entity-notes-mention-toggle-button:hover,.entity-notes-mention-toggle-button:focus-visible{outline:none;color:var(--accent-strong, #36488f)}.entity-notes-mention-toggle-button.active{background:#4f46e52e;color:var(--accent-strong, #36488f);box-shadow:0 8px 16px -12px #4f46e58c}.entity-notes-mention-count{margin-left:.4rem;font-size:.75rem;font-weight:600}.entity-notes-refresh-button{display:inline-flex;align-items:center;gap:.4rem;padding:.4rem .9rem;border-radius:8px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-weak, #fff);color:var(--text-muted, #5f6b7a);font-weight:600;cursor:pointer;transition:background .15s ease,color .15s ease,border-color .15s ease}.entity-notes-refresh-button:hover:not(:disabled){border-color:var(--accent, #556cd6);color:var(--accent-strong, #36488f)}.entity-notes-refresh-button:disabled{opacity:.6;cursor:not-allowed}.entity-note-editor-field{position:relative;border-radius:8px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-weak, #fff);box-shadow:inset 0 1px 2px #0f172a0d}.entity-note-textarea{width:100%;border:none;border-radius:8px;padding:.75rem;font:inherit;resize:vertical;min-height:140px;background:transparent;color:inherit;caret-color:var(--text-primary, #1f2933);box-sizing:border-box}.entity-note-textarea::placeholder{color:var(--text-muted, #5f6b7a)}.entity-note-textarea:focus{outline:none}.entity-note-mentions{width:100%;height:100%}.entity-note-mentions__control{background:transparent;border:none;font:inherit}.entity-note-mentions__highlighter,.entity-note-mentions__input{padding:.75rem;min-height:140px;font:inherit;line-height:1.5;box-sizing:border-box;white-space:pre-wrap}.entity-note-mentions__input{color:inherit;background:transparent}.entity-note-mentions__highlighter{pointer-events:none;color:inherit}.entity-note-mentions__suggestions{position:absolute;z-index:10;background:var(--surface-weak, #fff);border:1px solid var(--border-subtle, #d6dbe4);border-radius:10px;box-shadow:0 12px 24px -16px #0f172a40;max-width:min(340px,calc(100% - .5rem))}.entity-note-mentions__suggestions__list{list-style:none;margin:0;padding:0;max-height:240px;overflow-y:auto}.entity-note-mentions__suggestions__item{padding:.65rem .9rem;cursor:pointer;border-bottom:1px solid rgba(148,163,184,.25)}.entity-note-mentions__suggestions__item:last-child{border-bottom:none}.entity-note-mentions__suggestions__item--focused{background:#556cd626;color:var(--accent-strong, #36488f)}.entity-note-mentions .mention{background:#556cd629;padding:.05rem .35rem;border-radius:6px;color:var(--accent-strong, #36488f);font-weight:600}.entity-notes-label{display:block;font-weight:600;margin-bottom:.5rem}.entity-mention-note-context{display:flex;align-items:center;gap:.5rem;margin:.5rem 0 .75rem;font-size:.9rem;color:var(--text-muted, #5f6b7a)}.entity-session-note-list{display:flex;flex-direction:column;gap:.85rem}.entity-session-note{display:flex;flex-direction:column;gap:.75rem;border:1px solid var(--border-subtle, #d6dbe4);border-radius:12px;background:var(--surface-weak, #fff);padding:.85rem 1rem}.entity-session-note-header{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:1rem}.entity-session-note-meta{display:flex;flex-direction:column;gap:.35rem}.entity-session-note-title{font-weight:700;font-size:1rem;color:var(--text-primary, #1f2933)}.entity-session-note-details{display:flex;flex-wrap:wrap;gap:.75rem;font-size:.85rem;color:var(--text-muted, #5f6b7a)}.entity-session-note-actions{display:flex;align-items:center;gap:.75rem}.entity-session-note-timestamp{font-size:.8rem;color:var(--text-muted, #5f6b7a)}.entity-session-note-toggle{border:none;border-radius:999px;padding:.35rem .9rem;font-weight:600;background:var(--surface-strong, #f3f6fb);color:var(--accent-strong, #36488f);cursor:pointer;transition:background .15s ease,color .15s ease,box-shadow .15s ease}.entity-session-note-toggle:hover,.entity-session-note-toggle:focus-visible{outline:none;background:#4f46e529;color:var(--accent-strong, #36488f);box-shadow:0 0 0 2px #4f46e533}.entity-session-note-summary{margin:0;font-size:.9rem;color:var(--text-muted, #5f6b7a)}.entity-session-note-body{border-top:1px solid var(--border-subtle, #d6dbe4);padding-top:.75rem;font-size:.95rem;color:var(--text-primary, #1f2933);display:flex;flex-wrap:wrap;gap:.25rem}body.theme-dark .entity-note-editor-field{background:#0f172acc;border-color:#94a3b859;box-shadow:inset 0 1px 2px #00000059}body.theme-dark .entity-note-textarea{color:#e2e8f0;caret-color:#e2e8f0}body.theme-dark .entity-note-textarea::placeholder{color:#94a3b8cc}body.theme-dark .entity-note-mentions__suggestions{background:#0f172af2;border-color:#94a3b859;box-shadow:0 18px 32px -18px #020617cc}body.theme-dark .entity-note-mentions__suggestions__item{border-bottom:1px solid rgba(148,163,184,.25)}body.theme-dark .entity-note-mentions__suggestions__item--focused,body.theme-dark .entity-note-mentions .mention{background:#6366f140;color:#c7d2fe}body.theme-dark .entity-notes-subnav,body.theme-dark .entity-notes-mention-toggle{background:#1e293ba6;border-color:#94a3b859}body.theme-dark .entity-notes-subnav-button,body.theme-dark .entity-notes-mention-toggle-button{color:#cbd5e1c7}body.theme-dark .entity-notes-subnav-button.active,body.theme-dark .entity-notes-mention-toggle-button.active{background:#6366f152;color:#e0e7ff}body.theme-dark .entity-notes-refresh-button{background:#0f172ab3;border-color:#94a3b859;color:#e2e8f0cc}body.theme-dark .entity-notes-refresh-button:hover:not(:disabled){color:#c7d2fe;border-color:#818cf8a6}body.theme-dark .entity-mention-note-context{color:#cbd5e1c7}body.theme-dark .entity-session-note{background:#0f172ad1;border-color:#94a3b840}body.theme-dark .entity-session-note-title{color:#e2e8f0eb}body.theme-dark .entity-session-note-details,body.theme-dark .entity-session-note-summary,body.theme-dark .entity-session-note-timestamp{color:#cbd5e1bf}body.theme-dark .entity-session-note-body{color:#e2e8f0e6;border-color:#94a3b840}body.theme-dark .entity-session-note-toggle{background:#334155bf;color:#c7d2fe}body.theme-dark .entity-session-note-toggle:hover,body.theme-dark .entity-session-note-toggle:focus-visible{background:#6366f161;color:#eef2ff;box-shadow:0 0 0 2px #818cf859}.entity-notes-share{margin-top:1.5rem;border:1px solid var(--border-subtle, #d6dbe4);border-radius:8px;padding:.75rem;display:flex;flex-direction:column;gap:.5rem}.entity-notes-share legend{padding:0 .4rem;font-weight:600}.entity-notes-share-option{display:flex;align-items:flex-start;gap:.5rem;font-size:.95rem;line-height:1.4}.entity-notes-character{margin-top:1.5rem;display:flex;flex-direction:column;gap:.5rem}.entity-notes-character select{width:100%;border-radius:6px;border:1px solid var(--border-subtle, #d6dbe4);padding:.5rem .75rem;font:inherit;background:var(--surface-weak, #fff);color:inherit}.entity-notes-hint{margin:0;font-size:.85rem;color:var(--text-muted, #5f6b7a)}.entity-notes-alert{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem 1rem;border-radius:8px;font-size:.9rem;margin-top:1rem}.entity-notes-alert svg{flex-shrink:0}.entity-notes-alert.info{background:#556cd614;color:var(--accent-strong, #36488f)}.entity-notes-alert.warning{background:#ffa82e1f;color:#805200}.entity-notes-alert.error{background:#dc26261f;color:#7f1d1d}.entity-notes-alert.success{background:#22c55e1f;color:#0f5132}.entity-notes-actions{margin-top:1.5rem;display:flex;justify-content:flex-end}.entity-notes-create-button:not(:disabled):hover,.entity-notes-actions .primary:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 14px 24px -12px #4f46e5bf}.entity-notes-create-button:disabled,.entity-notes-actions .primary:disabled{opacity:.65;cursor:not-allowed;box-shadow:none;transform:none}.entity-notes-loading{display:flex;align-items:center;gap:.75rem;padding:.75rem 0;color:var(--text-muted, #5f6b7a)}.entity-notes-empty{margin:0 0 1rem;color:var(--text-muted, #5f6b7a)}.entity-notes-list{display:flex;flex-direction:column;gap:1rem}.entity-note-card{border:1px solid var(--border-subtle, #d6dbe4);border-radius:10px;padding:1rem;background:var(--surface-weak, #fff);display:flex;flex-direction:column;gap:.75rem}body.theme-dark .entity-note-card{background:var(--color-bg-surface);border-color:var(--color-border-default);box-shadow:var(--shadow-lg)}.entity-note-card header{display:flex;justify-content:space-between;gap:.75rem;flex-wrap:wrap;align-items:flex-start}.entity-note-header-actions{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.entity-note-meta{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center}.entity-note-timestamp{font-size:.85rem;color:var(--text-muted, #5f6b7a);white-space:nowrap}body.theme-dark .entity-note-timestamp{color:#94a3b8c7}.entity-note-author{font-weight:600}.entity-note-character{font-size:.85rem;color:var(--text-muted, #5f6b7a)}body.theme-dark .entity-note-character{color:#cbd5e1bf}.entity-note-share{display:inline-flex;align-items:center;padding:.15rem .5rem;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.entity-note-share-private{background:#6b728026;color:#374151}.entity-note-share-companions{background:#0ea5e92e;color:#0f5c75}.entity-note-share-dm{background:#f9731629;color:#78350f}.entity-note-share-party{background:#34d3992e;color:#064e3b}body.theme-dark .entity-note-share-private{background:#94a3b838;color:#e2e8f0d9}body.theme-dark .entity-note-share-companions{background:#0ea5e947;color:#e0f2feeb}body.theme-dark .entity-note-share-dm{background:#f973164d;color:#fed7aaeb}body.theme-dark .entity-note-share-party{background:#34d39940;color:#d1fae5eb}.entity-note-body{white-space:pre-wrap;line-height:1.6;color:var(--text-primary, #1f2933)}body.theme-dark .entity-note-body{color:#e2e8f0e6}.entity-note-mention{display:inline-flex;align-items:center;gap:.25rem;padding:.1rem .4rem;margin:0 .15rem;border-radius:999px;background:#556cd626;color:var(--accent-strong, #36488f);font-weight:500}body.theme-dark .entity-note-mention{background:#6366f14d;color:#e0e7ff}.entity-note-mention .entity-info-trigger{padding:.1rem;background:transparent;border:none}.entity-note-mention .entity-info-trigger:hover,.entity-note-mention .entity-info-trigger:focus{background:#36488f1f;border-radius:999px}.entity-note-text{white-space:pre-wrap}.entity-note-edit-button{display:inline-flex;align-items:center;justify-content:center;padding:.35rem .6rem;border-radius:6px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-weak, #fff);color:var(--text-muted, #5f6b7a);cursor:pointer;transition:background .15s ease,color .15s ease,border-color .15s ease;font-size:.85rem}.entity-note-edit-button:hover:not(:disabled),.entity-note-edit-button:focus-visible{outline:none;background:var(--surface-strong, #f3f6fb);color:var(--accent-strong, #36488f);border-color:var(--accent, #556cd6)}.entity-note-edit-button:disabled{opacity:.6;cursor:not-allowed}body.theme-dark .entity-note-edit-button{background:#0f172ab3;border-color:#94a3b859;color:#e2e8f0cc}body.theme-dark .entity-note-edit-button:hover:not(:disabled),body.theme-dark .entity-note-edit-button:focus-visible{background:#334155bf;color:#c7d2fe;border-color:#818cf8a6}.entity-note-cancel-button{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;padding:.55rem 1.1rem;border-radius:8px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-weak, #fff);color:var(--text-primary, #1f2933);font-weight:500;cursor:pointer;transition:background .15s ease,color .15s ease,border-color .15s ease}.entity-note-cancel-button:hover:not(:disabled),.entity-note-cancel-button:focus-visible{outline:none;background:var(--surface-strong, #f3f6fb);border-color:var(--border-subtle, #d6dbe4)}.entity-note-cancel-button:disabled{opacity:.6;cursor:not-allowed}body.theme-dark .entity-note-cancel-button{background:#0f172ab3;border-color:#94a3b859;color:#e2e8f0e6}body.theme-dark .entity-note-cancel-button:hover:not(:disabled),body.theme-dark .entity-note-cancel-button:focus-visible{background:#334155bf;border-color:#94a3b880}.entity-note-edit-form{display:flex;flex-direction:column;gap:1rem;margin-top:.5rem}.entity-note-edit-form .entity-notes-character{margin-top:0}.entity-note-edit-form .entity-notes-character select{background:var(--surface-weak, #fff);border:1px solid var(--border-subtle, #d6dbe4);color:var(--text-primary, #1f2933)}body.theme-dark .entity-note-edit-form .entity-notes-character select{background:#0f172acc;border-color:#94a3b859;color:#e2e8f0}body.theme-dark .entity-note-edit-form .entity-notes-character select:focus{outline:none;border-color:#818cf8a6;box-shadow:0 0 0 2px #818cf833}body.theme-dark .entity-note-edit-form .entity-notes-character label{color:#e2e8f0e0}.entity-note-action-buttons{display:flex;align-items:center;gap:.4rem}.entity-note-delete-button{display:inline-flex;align-items:center;justify-content:center;padding:.35rem .6rem;border-radius:6px;border:1px solid var(--border-subtle, #d6dbe4);background:var(--surface-weak, #fff);color:var(--text-muted, #5f6b7a);cursor:pointer;transition:background .15s ease,color .15s ease,border-color .15s ease;font-size:.85rem}.entity-note-delete-button:hover:not(:disabled),.entity-note-delete-button:focus-visible{outline:none;background:#dc26261a;color:#dc2626;border-color:#dc26264d}.entity-note-delete-button:disabled{opacity:.6;cursor:not-allowed}body.theme-dark .entity-note-delete-button{background:#0f172ab3;border-color:#94a3b859;color:#e2e8f0cc}body.theme-dark .entity-note-delete-button:hover:not(:disabled),body.theme-dark .entity-note-delete-button:focus-visible{background:#dc262633;color:#f87171;border-color:#f8717166}.react-flow{direction:ltr}.react-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.react-flow__pane{z-index:1;cursor:-webkit-grab;cursor:grab}.react-flow__pane.selection{cursor:pointer}.react-flow__pane.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.react-flow__renderer{z-index:4}.react-flow__selection{z-index:6}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible{outline:none}.react-flow .react-flow__edges{pointer-events:none;overflow:visible}.react-flow__edge-path,.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1;fill:none}.react-flow__edge{pointer-events:visibleStroke;cursor:pointer}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.animated path.react-flow__edge-interaction{stroke-dasharray:none;-webkit-animation:none;animation:none}.react-flow__edge.inactive{pointer-events:none}.react-flow__edge.selected,.react-flow__edge:focus,.react-flow__edge:focus-visible{outline:none}.react-flow__edge.selected .react-flow__edge-path,.react-flow__edge:focus .react-flow__edge-path,.react-flow__edge:focus-visible .react-flow__edge-path{stroke:#555}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-textbg{fill:#fff}.react-flow__edge .react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connectionline{z-index:1001}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:-webkit-grab;cursor:grab}.react-flow__node.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.react-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background:#1a192b;border:1px solid white;border-radius:100%}.react-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__panel{position:absolute;z-index:5;margin:15px}.react-flow__panel.top{top:0}.react-flow__panel.bottom{bottom:0}.react-flow__panel.left{left:0}.react-flow__panel.right{right:0}.react-flow__panel.center{left:50%;transform:translate(-50%)}.react-flow__attribution{font-size:10px;background:#ffffff80;padding:2px 3px;margin:0}.react-flow__attribution a{text-decoration:none;color:#999}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-text{font-size:10px}.react-flow__node.selectable:focus,.react-flow__node.selectable:focus-visible{outline:none}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output,.react-flow__node-group{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid;border-color:#1a192b;background-color:#fff}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover,.react-flow__node-group.selectable:hover{box-shadow:0 1px 4px 1px #00000014}.react-flow__node-default.selectable.selected,.react-flow__node-default.selectable:focus,.react-flow__node-default.selectable:focus-visible,.react-flow__node-input.selectable.selected,.react-flow__node-input.selectable:focus,.react-flow__node-input.selectable:focus-visible,.react-flow__node-output.selectable.selected,.react-flow__node-output.selectable:focus,.react-flow__node-output.selectable:focus-visible,.react-flow__node-group.selectable.selected,.react-flow__node-group.selectable:focus,.react-flow__node-group.selectable:focus-visible{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background-color:#f0f0f040}.react-flow__nodesselection-rect,.react-flow__selection{background:#0059dc14;border:1px dotted rgba(0,89,220,.8)}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible,.react-flow__selection:focus,.react-flow__selection:focus-visible{outline:none}.react-flow__controls{box-shadow:0 0 2px 1px #00000014}.react-flow__controls-button{border:none;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:5px}.react-flow__controls-button:hover{background:#f4f4f4}.react-flow__controls-button svg{width:100%;max-width:12px;max-height:12px}.react-flow__controls-button:disabled{pointer-events:none}.react-flow__controls-button:disabled svg{fill-opacity:.4}.react-flow__minimap{background-color:#fff}.react-flow__minimap svg{display:block}.react-flow__resize-control{position:absolute}.react-flow__resize-control.left,.react-flow__resize-control.right{cursor:ew-resize}.react-flow__resize-control.top,.react-flow__resize-control.bottom{cursor:ns-resize}.react-flow__resize-control.top.left,.react-flow__resize-control.bottom.right{cursor:nwse-resize}.react-flow__resize-control.bottom.left,.react-flow__resize-control.top.right{cursor:nesw-resize}.react-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:#3367d9;transform:translate(-50%,-50%)}.react-flow__resize-control.handle.left{left:0;top:50%}.react-flow__resize-control.handle.right{left:100%;top:50%}.react-flow__resize-control.handle.top{left:50%;top:0}.react-flow__resize-control.handle.bottom{left:50%;top:100%}.react-flow__resize-control.handle.top.left,.react-flow__resize-control.handle.bottom.left{left:0}.react-flow__resize-control.handle.top.right,.react-flow__resize-control.handle.bottom.right{left:100%}.react-flow__resize-control.line{border-color:#3367d9;border-width:0;border-style:solid}.react-flow__resize-control.line.left,.react-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.react-flow__resize-control.line.left{left:0;border-left-width:1px}.react-flow__resize-control.line.right{left:100%;border-right-width:1px}.react-flow__resize-control.line.top,.react-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.react-flow__resize-control.line.top{top:0;border-top-width:1px}.react-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.cluster-popup-overlay{position:absolute;inset:0;pointer-events:none;font-family:Inter,Segoe UI,system-ui,-apple-system,BlinkMacSystemFont,Helvetica Neue,Arial,sans-serif}.cluster-popup-panel{position:absolute;pointer-events:auto;width:420px;max-height:70vh;display:flex;flex-direction:column;border-radius:20px;background:#fffffff2;border:1px solid rgba(148,163,184,.45);box-shadow:0 24px 48px #0f172a33;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:cluster-popup-fade .15s ease;transition:opacity .2s ease;z-index:2600}.cluster-popup-header{position:sticky;top:0;display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fffffff2;border-bottom:1px solid rgba(148,163,184,.35);cursor:grab;-webkit-user-select:none;user-select:none}.cluster-popup-header:active{cursor:grabbing}.cluster-popup-title{padding-right:12px;min-width:0}.cluster-popup-relationship{font-size:11px;letter-spacing:.08em;font-weight:600;text-transform:uppercase;color:#64748b;margin-bottom:2px}.cluster-popup-label{font-size:16px;font-weight:700;color:#1f2937;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cluster-popup-close{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:999px;border:1px solid rgba(30,41,59,.35);background:#0f172a14;color:#0f172a;box-shadow:0 2px 6px #0f172a1f;transition:background-color .12s ease,color .12s ease,border-color .12s ease,box-shadow .12s ease}.cluster-popup-close span{font-size:18px;font-weight:600;line-height:1}.cluster-popup-close:hover{background:#1f2937;color:#f8fafc;border-color:#1f2937;box-shadow:0 6px 18px #0f172a3d}.cluster-popup-close:focus-visible{outline:3px solid rgba(96,165,250,.7);outline-offset:2px}.cluster-popup-instructions{font-size:11px;color:#64748b;background:#f8fafcf2;border-bottom:1px solid rgba(148,163,184,.25);padding:10px 16px}.cluster-popup-entities{flex:1;overflow-y:auto;padding:16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.cluster-popup-entity{border-radius:14px;border:1px solid rgba(203,213,225,.6);background:#fff;padding:12px;box-shadow:0 8px 20px #0f172a14;cursor:pointer;pointer-events:auto;-webkit-user-select:none;user-select:none;display:flex;flex-direction:column;gap:12px;transition:box-shadow .15s ease,transform .15s ease,background-color .15s ease,border-color .15s ease,opacity .15s ease}.cluster-popup-entity-header{display:flex;align-items:flex-start;justify-content:space-between;gap:8px}.cluster-popup-entity-meta{font-size:12px;font-weight:500;color:#475569;background:#e2e8f0a6;border:1px solid rgba(203,213,225,.6);border-radius:999px;padding:4px 10px;display:inline-flex;align-items:center;width:fit-content;gap:6px}.cluster-popup-entity-actions{display:flex;align-items:center;justify-content:flex-end;gap:6px}.cluster-popup-entity:hover{box-shadow:0 12px 24px #0f172a2e;transform:translateY(-1px)}.cluster-popup-entity.is-selected{border-color:#3b82f699;box-shadow:0 10px 20px #3b82f626}.cluster-popup-entity.is-placed{opacity:.75;background:#f8fafc;border-color:#94a3b88c;box-shadow:none;cursor:default}.cluster-popup-entity.is-placed:hover{transform:none;box-shadow:none}.cluster-popup-entity-action{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:8px;border:1px solid #e2e8f0;background:#f8fafc;color:#334155;box-shadow:0 1px 2px #0f172a1a;transition:background-color .12s ease,color .12s ease,border-color .12s ease,transform .1s ease}.cluster-popup-entity-action svg{stroke:currentColor!important;fill:none!important;width:16px;height:16px;flex-shrink:0;color:inherit}.cluster-popup-entity-action.is-primary{background:#3b82f6;border-color:#3b82f6;color:#fff}.cluster-popup-entity-action.is-primary svg{stroke:#fff!important}.cluster-popup-entity-action:hover:not(:disabled),.cluster-popup-entity-action:focus-visible:not(:disabled){background:#e2e8f0;transform:translateY(-1px)}.cluster-popup-entity-action.is-primary:hover:not(:disabled),.cluster-popup-entity-action.is-primary:focus-visible:not(:disabled){background:#2563eb;border-color:#2563eb}.cluster-popup-entity-action:active:not(:disabled){transform:translateY(1px)}.cluster-popup-entity-action:focus-visible{outline:3px solid rgba(96,165,250,.6);outline-offset:2px}.cluster-popup-entity-action:disabled{opacity:.4;cursor:not-allowed;transform:none}.cluster-popup-entity-name{font-size:15px;font-weight:600;color:#1f2937;line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cluster-popup-empty{grid-column:1 / -1;text-align:center;font-size:13px;color:#64748b;padding:24px 12px}@keyframes cluster-popup-fade{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.entity-node{position:relative;display:flex;flex-direction:column;align-items:stretch;justify-content:center;gap:.75rem;min-width:200px;max-width:260px;padding:1rem 1.25rem;border-radius:1rem;border:1px solid rgba(148,163,184,.6);background:#fff;color:#1f2937;font-size:.95rem;font-weight:600;box-shadow:0 10px 25px #0f172a14;cursor:grab;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease;text-align:center}.entity-node:hover{transform:translateY(-2px);border-color:#64748be6;box-shadow:0 14px 30px #0f172a1f}.entity-node:active{cursor:grabbing}.entity-node--center{border:1px solid rgba(59,130,246,.6);background:linear-gradient(135deg,#bfdbfea6,#fff 40%,#dbeafed9);color:#1e3a8a;box-shadow:0 18px 40px #3b82f62e}.entity-node--standard{background:#fff;color:#0f172a}.entity-node__content{width:100%;display:flex;flex-direction:column;align-items:stretch;gap:.55rem}.entity-node__row{display:flex;align-items:center;gap:.5rem}.entity-node__row--title{justify-content:center;flex-wrap:nowrap}.entity-node__row--meta{justify-content:space-between}.entity-node__label{flex:1 1 auto;min-width:0;font-size:1rem;line-height:1.25;color:currentColor;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-node__avatar{width:40px;height:40px;border-radius:50%;overflow:hidden;border:2px solid rgba(255,255,255,.85);box-shadow:0 6px 16px #0f172a2e;background:#0f172a;flex-shrink:0}.entity-node__avatar img{width:100%;height:100%;object-fit:cover;display:block}.entity-node__type-pill{display:inline-flex;align-items:center;justify-content:center;padding:.35rem .75rem;border-radius:999px;font-size:.7rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;background:#e2e8f0e6;color:#475569;flex:1 1 auto;min-width:0}.entity-node__type-pill.is-center{background:#3b82f61f;color:#1d4ed8}.entity-node__center-indicator{position:absolute;top:-10px;right:24px;width:12px;height:12px;border-radius:999px;background:#3b82f6;box-shadow:0 0 0 6px #3b82f640;pointer-events:none}.cluster-node{position:relative;display:flex;flex-direction:column;align-items:center;gap:.75rem;min-width:200px;max-width:260px;padding:1rem 1.5rem;border-radius:1.5rem;border:1px solid rgba(251,191,36,.6);background:linear-gradient(160deg,#fef3c7d9,#fff 45%,#fcd34d59);color:#78350f;font-size:.9rem;font-weight:600;cursor:pointer;box-shadow:0 12px 28px #78350f2e;transition:transform .2s ease,box-shadow .2s ease;text-align:center}.cluster-node:hover{transform:translateY(-2px);box-shadow:0 18px 36px #78350f38}.cluster-node__header{display:flex;align-items:center;justify-content:center}.cluster-node__badge{min-width:3.25rem;padding:.25rem .75rem;border-radius:999px;font-size:1.75rem;font-weight:700;letter-spacing:.04em;background:#fbbf2447;color:#92400e}.cluster-node__label{font-size:1.1rem;font-weight:700;line-height:1.25}.cluster-node__count{font-size:.78rem;color:#78350fd9}@media (prefers-reduced-motion: reduce){.entity-node,.cluster-node{transition:none}}.entity-node__actions{display:flex;align-items:center;gap:6px;margin-left:auto}.entity-node__action{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:999px;border:1px solid rgba(100,116,139,.45);background:#e2e8f0f2;color:#0f172a;box-shadow:0 2px 6px #0f172a1f;transition:background-color .12s ease,color .12s ease,border-color .12s ease,box-shadow .12s ease,transform .12s ease}.entity-node__action svg{width:16px;height:16px;stroke:currentColor;stroke-width:2.25px}.entity-node__action:hover:not(:disabled),.entity-node__action:focus-visible:not(:disabled){background:#1f2937;color:#f8fafc;border-color:#1f2937;box-shadow:0 6px 16px #0f172a3d;transform:translateY(-1px)}.entity-node__action:focus-visible{outline:3px solid rgba(96,165,250,.6);outline-offset:2px}.entity-node__action:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}.entity-node__action:disabled svg{opacity:.9}.entity-node__action svg{width:16px;height:16px;stroke:currentColor!important;fill:none!important;flex-shrink:0;color:inherit}.entity-node__action.is-primary{background:#3b82f6;border-color:#3b82f6;color:#fff}.entity-node__action.is-primary svg{stroke:#fff!important}.entity-node__action:hover:not(:disabled),.entity-node__action:focus-visible:not(:disabled){background:#e2e8f0;transform:translateY(-1px)}.entity-node__action.is-primary:hover:not(:disabled),.entity-node__action.is-primary:focus-visible:not(:disabled){background:#2563eb;border-color:#2563eb}.entity-node__action:active:not(:disabled){transform:translateY(1px)}.relationship-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px;padding:14px 24px;width:100%;box-sizing:border-box;background:linear-gradient(180deg,#f8fafc,#e2e8f0);border-bottom:1px solid rgba(148,163,184,.35);box-shadow:0 2px 4px #0f172a14;position:relative;z-index:5}.relationship-toolbar__actions{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.relationship-toolbar__button{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:8px;border:none;background:linear-gradient(135deg,#2563eb,#4f46e5);color:#fff;font-size:.875rem;font-weight:600;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background .2s ease;box-shadow:0 6px 16px #4f46e533}.relationship-toolbar__button:hover{transform:translateY(-1px)}.relationship-toolbar__button:active{transform:translateY(0)}.relationship-toolbar__button:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.relationship-toolbar__button svg{width:18px;height:18px}.relationship-toolbar__levels{display:flex;align-items:center;gap:12px;padding:10px 16px;background:#fffffff2;border-radius:10px;border:1px solid rgba(148,163,184,.35);box-shadow:inset 0 1px #fff9}.relationship-toolbar__levels-label{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:#475569}.relationship-toolbar__levels-controls{display:flex;align-items:center;gap:8px}.relationship-toolbar__levels-button{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:6px;border:none;background:#fff;color:#1e293b;cursor:pointer;transition:background .12s ease,transform .12s ease;box-shadow:inset 0 0 0 1px #94a3b859}.relationship-toolbar__levels-button:hover:not(:disabled){background:#e2e8f0;transform:translateY(-1px)}.relationship-toolbar__levels-button:disabled{opacity:.5;cursor:not-allowed;transform:none}.relationship-toolbar__levels-button:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.relationship-toolbar__levels-button svg{width:16px;height:16px}.relationship-toolbar__levels-value{min-width:24px;text-align:center;font-size:.875rem;font-weight:600;color:#1f2937}@media (max-width: 768px){.relationship-toolbar{flex-direction:column;align-items:stretch;gap:12px}.relationship-toolbar__levels{justify-content:space-between}}.relationship-toolbar__button svg,.relationship-toolbar__levels-button svg{stroke:currentColor!important;fill:none!important;color:inherit;flex-shrink:0;width:18px;height:18px}.relationship-toolbar__button svg{stroke-width:2.25px;stroke:#fff!important}.relationship-toolbar__levels-button svg{stroke:currentColor!important;stroke-width:2.25px}.relationship-toolbar__button:hover svg{opacity:.9}.relationship-toolbar-inline .relationship-toolbar{width:auto;background:transparent;border:none;box-shadow:none;padding:0;flex-wrap:wrap;height:auto;gap:12px}.relationship-toolbar--compact{padding:0!important;margin:0!important;width:auto!important;min-height:auto!important;background:none!important;border:none!important;box-shadow:none!important;flex-wrap:nowrap!important;gap:8px!important}.relationship-toolbar--compact .relationship-toolbar__actions{gap:8px!important}.relationship-toolbar--compact .relationship-toolbar__button{padding:4px 8px!important;box-shadow:none!important}.relationship-toolbar--compact .relationship-toolbar__levels{padding:4px 8px!important;border:none!important;box-shadow:none!important}.step-card{background:var(--surface-elevated, #fff);border-radius:16px;border:1px solid rgba(15,23,42,.08);padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;box-shadow:0 20px 30px -22px #0f172a59;transition:border-color .2s ease,box-shadow .2s ease,transform .2s ease}.step-card:hover{border-color:#4f46e573;box-shadow:0 24px 40px -24px #4f46e573;transform:translateY(-2px)}.step-card--disabled{opacity:.6;pointer-events:none}.step-card__header{display:flex;align-items:center;gap:1rem}.step-card__badge{display:inline-flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;border-radius:14px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;font-weight:600;font-size:1.125rem}.step-card__title{font-size:1.25rem;font-weight:600;margin:0;color:var(--text-strong, #0f172a)}.step-card__subtitle{margin:.25rem 0 0;color:#0f172a99;font-size:.95rem}body.theme-dark .step-card{border-color:#94a3b859;box-shadow:0 24px 36px -24px #020617d9}body.theme-dark .step-card:hover{border-color:#818cf899;box-shadow:0 32px 50px -30px #6366f1b3}body.theme-dark .step-card__subtitle{color:#e2e8f0bf}.step-card__body{display:flex;flex-direction:column;gap:1rem}.uploaded-file-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.75rem}.uploaded-file-list__item{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-radius:12px;border:1px solid rgba(15,23,42,.08);background:#6366f10d;transition:border-color .2s ease,background .2s ease}.uploaded-file-list__item.is-selected{border-color:#6366f199;background:#6366f11f}.uploaded-file-list__select{background:none;border:none;padding:0;display:flex;align-items:center;gap:.75rem;font-weight:600;color:var(--text-strong, #0f172a);cursor:pointer}.uploaded-file-list__select svg{color:#4f46e5e6}.uploaded-file-list__name{flex:1;text-align:left}.uploaded-file-list__meta{font-size:.85rem;color:#0f172a8c}.uploaded-file-list__delete{background:#dc262614;border:none;color:#dc2626;border-radius:10px;width:2.25rem;height:2.25rem;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease,transform .2s ease}.uploaded-file-list__delete:hover{background:#dc262629;transform:scale(1.05)}.uploaded-file-list__empty{margin:0;padding:.25rem 0;color:#0f172a8c}body.theme-dark .uploaded-file-list__item{border-color:#94a3b84d;background:#0f172ab3}body.theme-dark .uploaded-file-list__item.is-selected{border-color:#818cf8a6;background:#6366f147}body.theme-dark .uploaded-file-list__select{color:#f8fafc}body.theme-dark .uploaded-file-list__select svg{color:#c7d2fe}body.theme-dark .uploaded-file-list__meta{color:#e2e8f0b3}body.theme-dark .uploaded-file-list__delete{background:#f8717126;color:#fecaca}body.theme-dark .uploaded-file-list__delete:hover{background:#f871714d}body.theme-dark .uploaded-file-list__empty{color:#e2e8f0b3}.preview-popout{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:flex-end}.preview-popout__overlay{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.preview-popout__panel{position:relative;width:min(520px,100%);height:100%;background:#0f172a;color:#f8fafc;display:flex;flex-direction:column;gap:1.25rem;padding:2rem 2rem 1.75rem;box-shadow:-20px 0 40px -24px #0f172abf;animation:slide-in .3s ease}.preview-popout__header{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.preview-popout__header h2{font-size:1.5rem;margin:0 0 .25rem}.preview-popout__header p{margin:0;color:#f8fafca6}.preview-popout__close{background:#94a3b826;border:none;color:#f8fafc;width:2.5rem;height:2.5rem;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;cursor:pointer;transition:background .2s ease,transform .2s ease}.preview-popout__close:hover{background:#94a3b84d;transform:scale(1.05)}.preview-popout__content{flex:1;overflow-y:auto;padding-right:.5rem}.preview-popout__state{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#f8fafcbf;margin-top:2rem}.spin{animation:spin 1.2s linear infinite}.preview-popout__alert{display:flex;gap:.75rem;align-items:center;padding:.85rem 1rem;border-radius:12px;background:#f871711a;color:#fecaca}.preview-popout__alert--error svg{color:#fca5a5}.preview-popout__summary{display:flex;flex-direction:column;gap:1.25rem}.preview-popout__summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}.summary-metric{position:relative;background:#1e293bcc;border-radius:16px;padding:1rem;display:flex;flex-direction:column;gap:.35rem;border:1px solid rgba(148,163,184,.18)}.summary-metric--success{border-color:#4ade8059}.summary-metric--warn{border-color:#fbbf2459}.summary-metric--error{border-color:#f8717159}.summary-metric__label{font-size:.85rem;color:#f8fafca6}.summary-metric__value{font-size:1.75rem;font-weight:600}.summary-metric__icon{position:absolute;top:.85rem;right:.85rem;color:#f8fafc99}.preview-popout__list{background:#1e293bbf;border-radius:16px;border:1px solid rgba(148,163,184,.2);padding:1rem 1.25rem;display:flex;flex-direction:column;gap:.75rem}.preview-popout__list h3{margin:0;font-size:1rem;color:#f8fafcd9}.preview-popout__list ul{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:.5rem}.preview-popout__list li{display:flex;justify-content:space-between;gap:1rem;color:#f8fafcbf;font-size:.9rem}.preview-popout__list-name{text-align:right}.preview-popout__footer{display:flex;justify-content:flex-end;gap:.75rem;margin-top:auto}.preview-popout__dismiss,.preview-popout__confirm{border:none;border-radius:999px;padding:.65rem 1.35rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;cursor:pointer}.preview-popout__dismiss{background:#94a3b81f;color:#f8fafcbf}.preview-popout__dismiss:hover{background:#94a3b83d}.preview-popout__confirm{background:linear-gradient(135deg,#22c55e,#0ea5e9);color:#0f172a}.preview-popout__confirm:disabled{background:#94a3b82e;color:#0f172a66;cursor:not-allowed}@keyframes slide-in{0%{transform:translate(30px);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 768px){.preview-popout__panel{width:100%;padding:1.75rem 1.5rem}}.bulk-upload-page{--bulk-upload-page-background: linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%);--bulk-upload-card-background: rgba(255, 255, 255, .9);--bulk-upload-accent: #6366f1;--bulk-upload-accent-strong: #4f46e5;--bulk-upload-border-subtle: rgba(15, 23, 42, .08);--bulk-upload-text-strong: #0f172a;--bulk-upload-text-muted: rgba(15, 23, 42, .65);--bulk-upload-surface-muted: rgba(99, 102, 241, .08);--surface-elevated: var(--bulk-upload-card-background);--text-strong: var(--bulk-upload-text-strong);min-height:100%;padding:2.5rem clamp(1rem,5vw,4rem);background:var(--bulk-upload-page-background);display:flex;flex-direction:column;gap:2rem}body.theme-dark .bulk-upload-page{--bulk-upload-page-background: linear-gradient(180deg, #0f172a 0%, #020617 100%);--bulk-upload-card-background: rgba(15, 23, 42, .9);--bulk-upload-accent: #a5b4fc;--bulk-upload-accent-strong: #c7d2fe;--bulk-upload-border-subtle: rgba(148, 163, 184, .35);--bulk-upload-text-strong: #f8fafc;--bulk-upload-text-muted: rgba(226, 232, 240, .75);--bulk-upload-surface-muted: rgba(99, 102, 241, .18)}.bulk-upload-page__header{display:flex;flex-direction:column;gap:.75rem}.bulk-upload-page__title{font-size:clamp(1.75rem,3vw,2.5rem);font-weight:700;color:var(--bulk-upload-text-strong);margin:0}.bulk-upload-page__subtitle{font-size:1rem;color:var(--bulk-upload-text-muted);margin:0;max-width:720px}.bulk-upload-page__grid{display:grid;gap:1.5rem}.bulk-upload-page__status{display:flex;align-items:center;gap:.75rem;padding:.85rem 1rem;border-radius:14px;border:1px solid var(--bulk-upload-border-subtle);background:#16a34a14;color:#166534}.bulk-upload-page__status--error{background:#dc262614;color:#991b1b;border-color:#dc26262e}.entity-type-select{width:100%;padding:.85rem 1rem;border-radius:12px;border:1px solid var(--bulk-upload-border-subtle);font-size:1rem;font-weight:500;background:var(--bulk-upload-card-background);color:var(--bulk-upload-text-strong);transition:border-color .2s ease,box-shadow .2s ease}.entity-type-select:focus{border-color:#6366f180;outline:none;box-shadow:0 0 0 4px #6366f126}.step-actions{display:flex;flex-wrap:wrap;gap:1rem}.primary-action,.secondary-action{display:inline-flex;align-items:center;gap:.5rem;border-radius:14px;border:none;padding:.85rem 1.4rem;font-weight:600;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,opacity .2s ease}.primary-action{background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;box-shadow:0 12px 20px -12px #4f46e599}.primary-action:disabled,.secondary-action:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.primary-action:not(:disabled):hover,.secondary-action:not(:disabled):hover{transform:translateY(-1px)}.secondary-action{background:#6366f11f;color:var(--bulk-upload-accent-strong)}.file-input{display:flex;align-items:center;gap:1rem}.file-input label{flex:1;background:var(--bulk-upload-surface-muted);border:2px dashed rgba(99,102,241,.4);border-radius:14px;padding:1rem;display:flex;align-items:center;gap:.85rem;color:var(--bulk-upload-text-muted);cursor:pointer;transition:border-color .2s ease,background .2s ease}.file-input label:hover{border-color:#6366f199;background:#6366f11f}.file-input__name{font-weight:600}.selected-file-banner{margin-top:.5rem;padding:.6rem .85rem;border-radius:12px;background:#4f46e51a;color:#4f46e5f2;font-size:.95rem;display:inline-flex;align-items:center;gap:.5rem}.bulk-upload-page__empty-state{margin:0;color:var(--bulk-upload-text-muted)}body.theme-dark .bulk-upload-page__status{background:var(--color-success-light);color:var(--color-success);border-color:var(--color-success)}body.theme-dark .bulk-upload-page__status--error{background:var(--color-error-light);color:var(--color-error-hover);border-color:var(--color-error)}body.theme-dark .entity-type-select{background:var(--color-bg-surface);border-color:var(--color-border-subtle);color:var(--color-text-primary);box-shadow:inset 0 1px 2px #0000004d}body.theme-dark .secondary-action{background:var(--color-accent-secondary);color:var(--color-accent-secondary-hover);box-shadow:var(--shadow-md)}body.theme-dark .file-input label{background:var(--color-bg-surface);border-color:var(--color-accent-secondary);color:var(--color-text-primary)}body.theme-dark .file-input label:hover{background:var(--color-accent-secondary);border-color:var(--color-accent-secondary-hover)}body.theme-dark .selected-file-banner{background:var(--color-accent-secondary);color:var(--color-accent-secondary-hover)}@media (min-width: 1024px){.bulk-upload-page__grid{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 640px){.bulk-upload-page{padding:1.75rem 1.25rem}.step-actions{flex-direction:column;align-items:stretch}.primary-action,.secondary-action{width:100%;justify-content:center}}.notes-page{display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem;color:#0f172a}.notes-header{display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;gap:1rem}.notes-title{display:flex;flex-direction:column;gap:.5rem}.notes-title h1{font-size:1.75rem}.notes-title p{margin:0;color:#475569;max-width:56ch}.notes-actions{display:flex;gap:.75rem;align-items:center}.notes-action-button{display:inline-flex;align-items:center;gap:.5rem;background:#1e293b;color:#f8fafc;border:1px solid rgba(15,23,42,.2);padding:.5rem .9rem;border-radius:8px}.notes-action-button:disabled{opacity:.6;cursor:not-allowed}.notes-filters{display:flex;flex-wrap:wrap;gap:1rem;align-items:flex-end}.notes-filter-group{display:flex;flex-direction:column;gap:.35rem;min-width:200px}.notes-filter-group label{font-size:.85rem;font-weight:600;color:#1e293b}.notes-filter-group select,.notes-filter-group input{padding:.45rem .6rem;border-radius:8px;border:1px solid #cbd5f5;font-size:.95rem;background:#fff;color:inherit}.notes-filter-group select:disabled{opacity:.6;cursor:not-allowed}.notes-meta{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.75rem;color:#475569;font-size:.95rem}.notes-meta strong{color:#1e293b}.notes-list{display:flex;flex-direction:column;gap:1rem}.note-card{background:#fff;border-radius:16px;padding:1.25rem;box-shadow:0 18px 32px #0f172a1f;border:1px solid rgba(15,23,42,.06);display:flex;flex-direction:column;gap:.75rem}.note-card-header{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem}.note-card-header h2{font-size:1.125rem;font-weight:600;line-height:1.3}.note-card-header .entity-name-link{font-size:1.125rem;font-weight:inherit;color:#1d4ed8;text-decoration:none}.note-card-header .entity-name-link:hover,.note-card-header .entity-name-link:focus{text-decoration:underline}.note-entity-meta{display:flex;flex-direction:column;gap:.25rem}.note-entity-meta span{color:#64748b;font-size:.85rem}.note-tags{display:inline-flex;gap:.5rem;align-items:center}.note-tag{padding:.25rem .5rem;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.note-tag.share-private{background:#0f172a1f;color:#0f172a}.note-tag.share-party{background:#3b82f62e;color:#1d4ed8}.note-tag.share-companions{background:#10b98129;color:#0f766e}.note-tag.share-dm{background:#7e22ce29;color:#7c3aed}.note-details{display:flex;flex-wrap:wrap;gap:.75rem;color:#475569;font-size:.85rem}.note-content{white-space:pre-wrap;line-height:1.55;color:#1f2937;font-size:1rem}.note-mention{display:inline-flex;align-items:center;gap:.25rem;padding:.1rem .4rem;margin:0 .15rem;border-radius:999px;background:#3b82f629;color:#1d4ed8;font-size:inherit;font-weight:400}.note-mention .entity-info-trigger{padding:.1rem;background:transparent;border:none}.note-mention .entity-info-trigger:hover,.note-mention .entity-info-trigger:focus{background:#1d4ed81f;border-radius:999px}.note-text{white-space:pre-wrap}.notes-helper,.notes-error,.notes-empty{padding:1.5rem;border-radius:12px;border:1px dashed rgba(15,23,42,.2);background:#94a3b81f;color:#334155;display:flex;flex-direction:column;gap:.5rem}.notes-error{border-color:#dc262666;background:#f871711a;color:#991b1b}.notes-empty strong{color:#0f172a}.notes-placeholder{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;text-align:center;padding:3rem 1.5rem;color:#475569}.notes-placeholder h2{font-size:1.5rem}.notes-placeholder p{margin:0;max-width:48ch}.session-notes-meta{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.75rem;font-size:.95rem;color:#475569}.session-notes-meta span{display:inline-flex;align-items:center;gap:.35rem}.session-notes-autosave{display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .6rem;border-radius:999px;font-size:.85rem;background:#0f172a14;color:#1e293b}.session-notes-autosave.status-saving{background:#3b82f61f;color:#1d4ed8}.session-notes-autosave.status-saved{background:#10b9811f;color:#0f766e}.session-notes-autosave.status-error{background:#f8717129;color:#b91c1c}.session-notes-layout{display:grid;grid-template-columns:minmax(260px,320px) minmax(0,1fr);gap:1.5rem;align-items:stretch}.session-notes-sidebar{display:flex;flex-direction:column;gap:.75rem;background:#fff;border:1px solid rgba(15,23,42,.1);border-radius:14px;padding:1rem;min-height:420px;max-height:calc(100vh - 220px);box-shadow:0 12px 24px #0f172a14}.session-notes-search{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border:1px solid rgba(148,163,184,.45);border-radius:10px;background:#94a3b81f;color:#475569}.session-notes-search input{border:none;background:transparent;font:inherit;color:inherit;flex:1;outline:none}.session-notes-list-container{flex:1;overflow-y:auto;padding-right:.25rem;display:flex;flex-direction:column;gap:.75rem}.session-notes-loading{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.95rem;color:#475569;padding:1rem .5rem}.session-notes-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.5rem}.session-notes-item-button{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.55rem .75rem;border-radius:10px;border:1px solid transparent;background:#0f172a0a;color:#0f172a;transition:background .2s ease,color .2s ease,border-color .2s ease}.session-notes-new-button{justify-content:center;gap:.5rem;background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;border-color:#4f46e580;font-weight:600;box-shadow:0 4px 12px -4px #4f46e566;transition:transform .2s ease,box-shadow .2s ease,opacity .2s ease}.session-notes-new-button:hover:not(:disabled){background:linear-gradient(135deg,#4338ca,#6d28d9);color:#fff;border-color:#4f46e599;box-shadow:0 6px 16px -4px #4f46e580;transform:translateY(-1px)}.session-notes-new-button:disabled{opacity:.6;cursor:not-allowed}.session-notes-item-button:hover{background:#3b82f61f;border-color:#3b82f659;color:#1e3a8a}.session-notes-item.active .session-notes-item-button{background:#3b82f629;border-color:#3b82f680;color:#1d4ed8}.session-note-card-title{flex:1;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.session-note-card-date{font-size:.8rem;color:#64748b;white-space:nowrap}.session-notes-panel{background:#fff;border-radius:16px;padding:1.5rem;border:1px solid rgba(15,23,42,.08);box-shadow:0 18px 32px #0f172a1f;display:flex}.session-note-shell{display:flex;flex-direction:column;gap:1.25rem;width:100%}.session-note-header{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}.session-note-heading{display:flex;flex-direction:column;gap:.4rem}.session-note-heading h2{margin:0;font-size:1.75rem;color:#0f172a}.session-note-heading span{font-size:.95rem;color:#64748b}.session-note-toolbar{display:flex;align-items:center;gap:.6rem}.session-note-action{display:inline-flex;align-items:center;gap:.45rem;padding:.45rem .85rem;border-radius:10px;border:1px solid rgba(148,163,184,.45);background:#94a3b81f;color:#1e293b;font-weight:600;transition:background .2s ease,color .2s ease,border-color .2s ease;min-height:2.25rem;box-sizing:border-box}.session-note-action.primary{background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;border-color:#4f46e580;box-shadow:0 4px 12px -4px #4f46e566}.session-note-action.danger{background:#f8717129;color:#b91c1c;border-color:#f8717166}.session-note-action:hover:not(:disabled){background:#3b82f62e;border-color:#3b82f673;color:#1d4ed8}.session-note-action.primary:hover:not(:disabled){background:linear-gradient(135deg,#4338ca,#6d28d9);color:#fff;box-shadow:0 6px 16px -4px #4f46e580;transform:translateY(-1px)}.session-note-action.danger:hover:not(:disabled){background:#f8717147;color:#991b1b}.session-note-action:disabled{opacity:.6;cursor:not-allowed;border-width:1px}.session-note-error{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:12px;border:1px solid rgba(248,113,113,.35);background:#f8717129;color:#b91c1c;font-size:.9rem}.session-note-form{display:flex;flex-direction:column;gap:1.1rem}.session-note-actions{display:flex;flex-wrap:wrap;align-items:center;gap:.75rem}.session-note-meta{font-size:.85rem;color:#64748b}.session-note-view{display:flex;flex-direction:column;gap:1.25rem;font-size:1rem;line-height:1.7;color:#1f2937}.session-note-view-body{display:block;white-space:pre-wrap}.session-note-view-empty{margin:0;color:#64748b}.session-note-view-meta{display:flex;flex-wrap:wrap;align-items:center;gap:.75rem;font-size:.9rem;color:#475569}.session-note-view-meta span{display:inline-flex;align-items:center;gap:.35rem}.session-note-view-authors{font-size:.85rem;color:#64748b}.session-note-summary{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem .9rem;border:1px solid rgba(148,163,184,.35);border-radius:12px;background:#94a3b81f}.session-note-summary-primary{display:flex;flex-direction:column;gap:.25rem}.session-note-summary-title{font-weight:600;color:#0f172a}.session-note-summary-date{font-size:.85rem;color:#475569}.session-note-summary-updated{font-size:.8rem;color:#475569;white-space:nowrap}.session-note-fields{display:flex;flex-direction:column;gap:.45rem}.session-note-fields-row{flex-direction:row;gap:1rem;align-items:flex-start}.session-note-field{flex:1;display:flex;flex-direction:column;gap:.45rem;min-width:0}.session-note-fields label{font-weight:600;color:#1e293b}.session-note-fields input,.session-note-fields textarea{border-radius:10px;border:1px solid rgba(148,163,184,.65);padding:.6rem .75rem;font:inherit;color:inherit;background:#fff;box-shadow:inset 0 1px 2px #0f172a14}.session-note-editor-field{position:relative;min-height:220px;border-radius:10px;border:1px solid rgba(148,163,184,.65);background:#fff;box-shadow:inset 0 1px 2px #0f172a14;color:inherit}.session-note-save-button{display:flex;justify-content:flex-start;margin-top:.75rem;margin-bottom:.5rem}.session-note-textarea{resize:vertical;min-height:220px;background:transparent;color:#0f172a;caret-color:#0f172a;padding:.6rem .75rem;width:100%;box-sizing:border-box;border:none;outline:none;font:inherit;line-height:inherit;letter-spacing:inherit}.session-note-textarea::placeholder{color:#94a3b8}.session-note-mentions{width:100%;height:100%}.session-note-mentions__control{background:transparent;border:none;font:inherit}.session-note-mentions__highlighter,.session-note-mentions__input{padding:.6rem .75rem;min-height:220px;font:inherit;line-height:1.55;box-sizing:border-box;white-space:pre-wrap}.session-note-mentions__input{color:inherit;background:transparent}.session-note-mentions__highlighter{pointer-events:none;color:inherit}.session-note-mentions__suggestions{position:absolute;z-index:10;background:#fff;border:1px solid rgba(148,163,184,.45);border-radius:10px;box-shadow:0 12px 24px -16px #0f172a47;max-width:min(340px,calc(100% - .5rem))}.session-note-mentions__suggestions__list{list-style:none;margin:0;padding:0;max-height:240px;overflow-y:auto}.session-note-mentions__suggestions__item{padding:.75rem 1rem;cursor:pointer;border-bottom:1px solid rgba(148,163,184,.25)}.session-note-mentions__suggestions__item:last-child{border-bottom:none}.session-note-mentions__suggestions__item--focused{background:#3b82f62e;color:#1d4ed8}.session-note-mentions .mention{background:#eef4ff;padding:.05rem .35rem;border-radius:3px;color:#1d4ed8;font-weight:600}.session-note-preview{display:flex;flex-direction:column;gap:.6rem;margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(148,163,184,.25)}.session-note-preview h3{font-size:.95rem;font-weight:600;color:#1f2937;margin:0}.session-note-preview-content{white-space:pre-wrap;line-height:1.55;color:#1f2937}.session-note-mention{display:inline-flex;align-items:center;gap:.25rem;padding:.02rem .4rem;margin:.05rem .15rem;border-radius:999px;background:#3b82f629;color:#1d4ed8;font-weight:500}.session-note-mention .entity-info-trigger{padding:.1rem;background:transparent;border:none}.session-note-mention .entity-info-trigger:hover,.session-note-mention .entity-info-trigger:focus{background:#1d4ed81f;border-radius:999px}.session-note-text{white-space:pre-wrap}.spinner{animation:spinner-rotate 1s linear infinite}@keyframes spinner-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 960px){.notes-page{padding:1rem;gap:1rem}.notes-title h1{font-size:1.5rem}.session-notes-meta{font-size:.9rem;flex-direction:column;align-items:flex-start;gap:.5rem}.session-notes-autosave{font-size:.8rem;padding:.4rem .65rem}.session-notes-layout{grid-template-columns:1fr;gap:1rem}.session-notes-sidebar,.session-notes-panel{grid-column:1;max-height:none;min-height:auto}.session-notes-panel{padding:1rem;border-radius:12px}.session-note-shell{gap:1rem}.session-note-header{flex-direction:column;align-items:stretch;gap:.75rem}.session-note-heading h2{font-size:1.5rem}.session-note-toolbar{flex-wrap:wrap;gap:.5rem}.session-note-action{min-height:44px;padding:.6rem 1rem;font-size:.95rem;flex:1 1 auto;min-width:calc(50% - .25rem)}.session-note-action span{font-size:inherit}.session-note-fields-row{flex-direction:column;gap:.75rem}.session-note-field{width:100%}.session-note-fields input,.session-note-fields textarea{font-size:16px;padding:.75rem;min-height:44px}.session-note-fields input[type=date]{font-size:16px;min-height:44px}.session-note-editor-field{min-height:200px}.session-note-textarea{min-height:200px;font-size:16px;padding:.75rem}.session-note-mentions__highlighter,.session-note-mentions__input{min-height:200px;padding:.75rem;font-size:16px}.session-note-actions{flex-direction:column;gap:.75rem;align-items:stretch}.session-note-action.primary{width:100%;min-height:48px;font-size:1rem;font-weight:600}.session-note-meta{font-size:.85rem;text-align:center;padding:.5rem 0}.session-note-preview{margin-top:.75rem;padding-top:.75rem}.session-note-preview h3{font-size:.9rem}}@media (max-width: 640px){.notes-page{padding:.75rem;gap:.75rem}.notes-title h1{font-size:1.35rem}.notes-title p{font-size:.9rem}.session-notes-sidebar{padding:.75rem;border-radius:12px}.session-notes-panel{padding:.75rem}.session-note-heading h2{font-size:1.35rem}.session-note-toolbar{flex-direction:column}.session-note-action{width:100%;min-width:100%;justify-content:center}.session-note-fields{gap:.5rem}.session-note-fields label{font-size:.9rem}.session-note-editor-field,.session-note-textarea,.session-note-mentions__highlighter,.session-note-mentions__input{min-height:180px}.session-notes-search{padding:.6rem .75rem}.session-notes-search input{font-size:16px}.session-notes-list-container{padding-right:.15rem}.session-notes-item-button{padding:.65rem .75rem;min-height:48px}.session-notes-new-button{min-height:48px;padding:.65rem 1rem}.session-note-action.primary span{font-size:1rem}.session-note-preview{margin-top:.5rem;padding-top:.5rem}}@media (max-width: 480px){.notes-page{padding:.5rem}.session-notes-sidebar,.session-notes-panel{padding:.75rem .5rem}.session-note-heading h2{font-size:1.2rem;line-height:1.3}.session-note-heading span{font-size:.85rem}.session-note-action{font-size:.9rem;padding:.65rem .85rem}.session-note-action.primary{font-size:.95rem}.session-note-fields input,.session-note-textarea{font-size:16px}}body.theme-dark .notes-page{color:var(--color-text-primary)}body.theme-dark .notes-title p,body.theme-dark .notes-meta,body.theme-dark .note-entity-meta span,body.theme-dark .note-details,body.theme-dark .notes-helper,body.theme-dark .notes-empty,body.theme-dark .notes-filter-group label{color:var(--color-text-secondary)}body.theme-dark .notes-meta strong{color:var(--color-text-inverse)}body.theme-dark .notes-empty strong{color:var(--color-text-primary)}body.theme-dark .notes-action-button{background:var(--color-btn-primary);border-color:var(--color-border-subtle)}body.theme-dark .notes-filter-group select,body.theme-dark .notes-filter-group input{background:var(--color-bg-surface);border-color:var(--color-border-subtle);color:var(--color-text-primary)}body.theme-dark .note-card{background:var(--color-bg-surface);border-color:var(--color-border-subtle);box-shadow:var(--shadow-xl)}body.theme-dark .note-content{color:var(--color-text-primary)}body.theme-dark .notes-error{background:var(--color-error-light);color:var(--color-error-hover);border-color:var(--color-error)}body.theme-dark .session-notes-autosave{background:var(--color-bg-surface-hover);color:var(--color-text-primary)}body.theme-dark .session-notes-autosave.status-saving{background:var(--color-accent-secondary);color:var(--color-accent-secondary-hover)}body.theme-dark .session-notes-autosave.status-saved{background:var(--color-success-light);color:var(--color-success)}body.theme-dark .session-notes-autosave.status-error{background:var(--color-error-light);color:var(--color-error-hover)}body.theme-dark .session-notes-sidebar,body.theme-dark .session-notes-panel{background:var(--color-bg-surface);border-color:var(--color-border-subtle);box-shadow:var(--shadow-xl)}body.theme-dark .session-notes-search{background:var(--color-bg-elevated);border-color:var(--color-border-subtle);color:var(--color-text-secondary)}body.theme-dark .session-notes-search input{color:inherit}body.theme-dark .session-notes-loading{color:var(--color-text-secondary)}body.theme-dark .session-notes-item-button{background:var(--color-bg-header);color:var(--color-text-primary)}body.theme-dark .session-notes-new-button{background:linear-gradient(135deg,var(--color-accent-secondary),var(--color-accent-secondary-hover));border-color:var(--color-border-default);color:var(--color-text-inverse);box-shadow:var(--shadow-md)}body.theme-dark .session-notes-new-button:hover:not(:disabled){background:linear-gradient(135deg,var(--color-accent-secondary-hover),var(--color-accent-secondary));border-color:var(--color-border-strong);box-shadow:var(--shadow-lg)}body.theme-dark .session-notes-item-button:hover{background:var(--color-accent-primary-light);border-color:var(--color-border-default)}body.theme-dark .session-notes-item.active .session-notes-item-button{background:var(--color-accent-primary);color:var(--color-text-inverse)}body.theme-dark .session-note-card-date{color:var(--color-text-secondary)}body.theme-dark .session-note-heading h2{color:var(--color-text-primary)}body.theme-dark .session-note-heading span,body.theme-dark .session-note-view-meta,body.theme-dark .session-note-meta{color:var(--color-text-secondary)}body.theme-dark .session-note-view{color:var(--color-text-primary)}body.theme-dark .session-note-view-empty{color:var(--color-text-muted)}body.theme-dark .session-note-action{background:var(--color-bg-surface);border-color:var(--color-border-subtle);color:var(--color-text-primary)}body.theme-dark .session-note-action.primary{background:linear-gradient(135deg,var(--color-accent-secondary),var(--color-accent-secondary-hover));color:var(--color-text-inverse);border-color:var(--color-border-default);box-shadow:var(--shadow-md)}body.theme-dark .session-note-action.danger{background:var(--color-btn-danger);color:var(--color-btn-danger-text);border-color:var(--color-error)}body.theme-dark .session-note-error{background:var(--color-error-light);color:var(--color-error-hover);border-color:var(--color-error)}body.theme-dark .session-note-fields label{color:var(--color-text-primary)}body.theme-dark .session-note-fields input,body.theme-dark .session-note-fields textarea{background:var(--color-bg-elevated);border-color:var(--color-border-subtle);color:var(--color-text-primary)}body.theme-dark .session-note-editor-field{background:var(--color-bg-elevated);border-color:var(--color-border-subtle);box-shadow:inset 0 1px 3px #0000004d;color:var(--color-text-primary)}body.theme-dark .session-note-textarea{background:transparent;color:var(--color-text-primary);caret-color:var(--color-text-primary)}body.theme-dark .session-note-mentions__control,body.theme-dark .session-note-mentions__input,body.theme-dark .session-note-mentions__highlighter{color:var(--color-text-primary)}body.theme-dark .session-note-mentions__input{background:transparent}body.theme-dark .session-note-mentions__highlighter{color:var(--color-text-primary);opacity:.9}body.theme-dark .session-note-textarea::placeholder{color:var(--color-text-muted)}body.theme-dark .session-note-summary{background:var(--color-bg-surface-hover);border-color:var(--color-border-subtle)}body.theme-dark .session-note-summary-title{color:var(--color-text-primary)}body.theme-dark .session-note-summary-date,body.theme-dark .session-note-summary-updated{color:var(--color-text-secondary)}body.theme-dark .session-note-mentions__suggestions{background:var(--color-bg-overlay);border-color:var(--color-border-subtle);box-shadow:var(--shadow-xl)}body.theme-dark .session-note-mentions__suggestions__item{border-color:var(--color-border-subtle)}body.theme-dark .session-note-mentions__suggestions__item--focused{background:var(--color-accent-secondary);color:var(--color-accent-secondary-hover)}body.theme-dark .session-note-preview h3,body.theme-dark .session-note-preview-content{color:var(--color-text-primary)}body.theme-dark .session-note-mention,body.theme-dark .session-note-mentions .mention{background:var(--color-accent-secondary);color:var(--color-accent-secondary-hover)}.bulk-access-page{padding:2rem;display:flex;flex-direction:column;gap:1.5rem}.bulk-access-header{display:flex;align-items:flex-end;justify-content:space-between;gap:1rem}.bulk-access-eyebrow{font-size:.85rem;text-transform:uppercase;letter-spacing:.08em;color:#64748b;margin-bottom:.35rem}.bulk-access-header h1{margin:0;font-size:1.75rem}.bulk-access-header-actions{display:flex;gap:.5rem}.bulk-access-topline{margin:-.5rem 0 .5rem;color:#475569}.bulk-access-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.5rem}.bulk-access-card{background:#fff;border:1px solid #e2e8f0;border-radius:14px;padding:1.5rem;box-shadow:0 12px 30px -20px #0f172a59}.bulk-access-card--form{display:flex;flex-direction:column}.bulk-access-card--form form{flex:1}.bulk-access-card header{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-bottom:1rem}.bulk-access-card h2{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;margin:0}.bulk-access-entity-actions{display:flex;gap:.5rem}.bulk-access-entity-collapsed-summary{border:1px dashed #cbd5f5;border-radius:10px;padding:1rem;text-align:center;color:#334155;font-weight:500}.entity-selector-list{border:1px solid #e2e8f0;border-radius:10px;padding:.5rem;max-height:420px;overflow-y:auto;background:#f8fafc}.entity-row{display:flex;align-items:flex-start;gap:.75rem;padding:.5rem .65rem;border-radius:10px;cursor:pointer}.entity-row+.entity-row{margin-top:.15rem}.entity-row:hover{background:#4f46e514}.entity-row input{margin:0;margin-top:.25rem}.entity-filter{display:flex;flex-direction:column;gap:.75rem}.entity-filter__row{display:flex;flex-wrap:wrap;gap:.75rem}.entity-filter__row--search{display:grid;grid-template-columns:minmax(0,1.6fr) minmax(220px,.8fr);gap:.75rem;align-items:end}.entity-filter__input,.entity-filter__scope,.entity-filter__date-field{display:flex;flex-direction:column;gap:.35rem}.entity-filter__input{flex:1 1 240px}.entity-filter__scope{flex:0 0 220px;min-width:200px}.entity-filter__dates{align-items:flex-end}.entity-filter__date-field{flex:1 1 160px}.entity-filter label{font-size:.85rem;font-weight:600;color:#475569}.entity-filter input,.entity-filter select{border:1px solid #cbd5f5;border-radius:8px;padding:.55rem .75rem;font-size:.95rem;width:100%}.entity-filter__clear-dates{align-self:flex-end;margin-left:auto;white-space:nowrap}@media (max-width: 640px){.entity-filter__scope,.entity-filter__date-field{flex:1 1 100%}}@media (max-width: 900px){.entity-filter__row--search{grid-template-columns:1fr}}.entity-name{font-weight:600;flex:1;color:#0f172a}.entity-row__main{flex:1;display:flex;flex-direction:column;gap:.2rem;min-width:0}.entity-row__meta{display:flex;align-items:center;flex-wrap:wrap;gap:.45rem}.entity-row__meta-text{font-size:.8rem;color:#475569}.entity-type{font-size:.8rem;color:#4338ca;background:#e0e7ff;border-radius:999px;padding:.15rem .6rem}.entity-row__summary{margin:0;font-size:.82rem;color:#475569;line-height:1.35}.entity-row__preview{color:#94a3b8;margin-left:auto;align-self:center}.bulk-access-selection-mode{display:flex;gap:1rem;margin-bottom:1rem}.bulk-access-selection-mode label{display:flex;align-items:center;gap:.35rem;font-weight:500}.bulk-access-collection-panel{border:1px solid #e2e8f0;border-radius:10px;padding:1rem;background:#f8fafc;display:flex;flex-direction:column;gap:.75rem}.bulk-access-collection-panel select{border:1px solid #cbd5f5;border-radius:8px;padding:.5rem .75rem}.bulk-access-collection-preview{border:1px dashed #cbd5f5;border-radius:8px;padding:.75rem;background:#fff}.bulk-access-collection-preview ul{margin:.5rem 0 0;padding-left:1.1rem;color:#475569;font-size:.9rem}.bulk-access-form{display:flex;flex-direction:column;gap:.75rem}.bulk-access-form select,.bulk-access-form textarea{width:100%;border:1px solid #cbd5f5;border-radius:10px;padding:.6rem .75rem;font-size:.95rem}.bulk-access-form textarea{resize:none}.bulk-access-description textarea{min-height:42px}.access-section{border:1px solid #e2e8f0;border-radius:12px;padding:1rem;display:flex;flex-direction:column;gap:.75rem}.access-section__header{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.access-section__eyebrow{text-transform:uppercase;font-size:.7rem;letter-spacing:.08em;color:#94a3b8;margin:0 0 .25rem}.access-mode-select{display:flex;flex-direction:column;gap:.25rem;font-size:.9rem;color:#475569}.access-mode-select select{border:1px solid #cbd5f5;border-radius:8px;padding:.4rem .6rem;font-size:.9rem}.access-helper-text{margin:0}.access-section__content{display:flex;flex-direction:column;gap:.75rem}.access-section__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.75rem}.token-selector{display:flex;flex-direction:column;gap:.35rem}.token-selector__label-row{display:flex;justify-content:space-between;font-weight:600;color:#0f172a}.token-selector__count{font-weight:500;color:#64748b}.token-selector__chips{border:1px solid #cbd5f5;border-radius:10px;padding:.5rem;display:flex;flex-wrap:wrap;gap:.4rem;max-height:150px;overflow-y:auto;background:#f8fafc}.token-selector__chip{border:1px solid #cbd5f5;border-radius:999px;padding:.25rem .75rem;font-size:.85rem;background:#fff;cursor:pointer}.token-selector__chip.selected{background:#312e81;border-color:#312e81;color:#fff}.token-selector__chip:disabled{opacity:.5;cursor:not-allowed}.token-selector__empty{font-size:.85rem;color:#475569;margin:0}.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.bulk-access-summary{background:#f8fafc;border:1px solid #e2e8f0;border-radius:10px;padding:.85rem 1rem;font-size:.95rem;line-height:1.4;display:flex;flex-direction:column;gap:.25rem}.bulk-access-helper{font-size:.9rem;color:#475569;display:flex;align-items:center;gap:.35rem}.bulk-access-helper.warning{color:#d97706}.bulk-access-footer{position:sticky;bottom:0;background:linear-gradient(180deg,#ffffffe6,#fff);border-top:1px solid #e2e8f0;padding-top:.75rem;margin-top:.5rem;display:flex;align-items:center;justify-content:space-between;gap:1rem}.bulk-access-footer__selection-info{font-size:.9rem;color:#475569}.bulk-access-alert{border-radius:10px;padding:.85rem 1rem;display:flex;align-items:center;gap:.5rem}.bulk-access-alert.success{background:#ecfdf5;color:#047857;border:1px solid #a7f3d0}.bulk-access-alert.error{background:#fef2f2;color:#b91c1c;border:1px solid #fecaca}.bulk-access-alert.warning{background:#fff7ed;color:#b45309;border:1px solid #fed7aa}.bulk-access-context-banner{border-radius:10px;border:1px solid #bfdbfe;background:#eff6ff;color:#1e3a8a;padding:.85rem 1rem;font-weight:500}body.theme-dark .bulk-access-page{color:#e2e8f0}body.theme-dark .bulk-access-header h1,body.theme-dark .bulk-access-card h2,body.theme-dark .bulk-access-card h3{color:#f8fafc}body.theme-dark .bulk-access-eyebrow,body.theme-dark .bulk-access-topline,body.theme-dark .bulk-access-helper,body.theme-dark .entity-row__meta-text,body.theme-dark .entity-row__summary{color:#cbd5f5}body.theme-dark .bulk-access-card{background:#0f172a;border-color:#1f2937;box-shadow:0 18px 35px -25px #020617e6}body.theme-dark .bulk-access-context-banner{background:#1e1b4b;border-color:#312e81;color:#e0e7ff}body.theme-dark .entity-filter label{color:#cbd5f5}body.theme-dark .entity-filter input,body.theme-dark .entity-filter select,body.theme-dark .bulk-access-form select,body.theme-dark .bulk-access-form textarea{background:var(--color-bg-header);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-filter__clear-dates{color:var(--color-text-secondary)}body.theme-dark .entity-selector-list{background:var(--color-bg-elevated);border-color:var(--color-border-default)}body.theme-dark .entity-name{color:var(--color-text-primary)}body.theme-dark .entity-type{background:var(--color-accent-secondary);color:var(--color-accent-secondary-hover)}body.theme-dark .entity-row__preview{color:var(--color-text-secondary)}body.theme-dark .entity-row:hover{background:var(--color-accent-secondary)}body.theme-dark .bulk-access-selection-mode label{color:var(--color-text-primary)}body.theme-dark .bulk-access-collection-panel,body.theme-dark .bulk-access-collection-preview,body.theme-dark .bulk-access-summary{background:var(--color-bg-header);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .bulk-access-collection-preview{border-color:var(--color-border-default)}body.theme-dark .bulk-access-summary .bulk-access-helper,body.theme-dark .bulk-access-summary p{color:inherit}body.theme-dark .bulk-access-footer{background:linear-gradient(180deg,var(--color-bg-header),var(--color-bg-sidebar));border-top-color:var(--color-border-default)}body.theme-dark .bulk-access-footer__selection-info,body.theme-dark .bulk-access-card--form .access-mode-select,body.theme-dark .bulk-access-card--form .access-helper-text{color:var(--color-text-secondary)}.primary-button{background:linear-gradient(135deg,#4338ca,#7c3aed);color:#fff;border:none;border-radius:999px;padding:.85rem 1.5rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.4rem}.primary-button:disabled{opacity:.6;cursor:not-allowed}.ghost-button{border:1px solid var(--color-border-default);background:transparent;color:var(--color-text-secondary);border-radius:8px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;cursor:pointer;transition:background .2s ease,border-color .2s ease,color .2s ease}.ghost-button:hover:not(:disabled){background:var(--color-bg-surface-hover);border-color:var(--color-border-strong);color:var(--color-text-primary)}.ghost-button:disabled{opacity:.5;cursor:not-allowed}body.theme-dark .ghost-button{border-color:var(--color-border-default);color:var(--color-text-secondary)}body.theme-dark .ghost-button:hover:not(:disabled){background:var(--color-bg-surface-hover);border-color:var(--color-border-strong);color:var(--color-text-primary)}.inline-link{margin-left:.35rem;color:#4c1d95;font-weight:600}.link-button{border:none;background:none;color:#4c1d95;cursor:pointer;padding:0}@media (max-width: 640px){.bulk-access-card{padding:1.25rem}.bulk-access-header{flex-direction:column;align-items:flex-start}}.bulk-audit-page{padding:2rem;display:flex;flex-direction:column;gap:1.25rem}.bulk-audit-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.5rem}.audit-run-list{display:flex;flex-direction:column;gap:.5rem;max-height:520px;overflow-y:auto}.audit-run-row{border:1px solid #e2e8f0;border-radius:12px;padding:.9rem 1rem;display:flex;align-items:center;justify-content:space-between;gap:.75rem;background:#f8fafc;cursor:pointer;text-align:left;transition:all .2s ease}.audit-run-row:hover{border-color:#cbd5e1;background:#f1f5f9;box-shadow:0 2px 8px #0f172a14}.audit-run-row.active{border-color:#a5b4fc;background:#eef2ff}.audit-run-row.active:hover{border-color:#8b9aff;background:#e0e7ff;box-shadow:0 2px 8px #4f46e526}.audit-run-title{margin:0;font-weight:600}.audit-run-meta{margin:0;font-size:.85rem;color:#475569}.status-pill{border-radius:999px;padding:.2rem .75rem;font-size:.85rem;font-weight:600}.status-pill.active{background:#dbeafe;color:#1d4ed8}.status-pill.reverted{background:#fee2e2;color:#b91c1c}.audit-detail{display:flex;flex-direction:column;gap:1rem}.audit-detail-meta{background:#f1f5f9;border-radius:10px;padding:1rem;border:1px solid #e2e8f0;line-height:1.5}.audit-changes{display:flex;flex-direction:column;gap:1rem;max-height:520px;overflow-y:auto}.audit-change-card{border:1px solid #e2e8f0;border-radius:12px;padding:1.25rem;background:#fff}.audit-change-header{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid #e2e8f0}.audit-change-title{margin:0;font-weight:600}.audit-change-subtitle{font-size:.85rem;color:#64748b}.audit-change-body{display:flex;flex-direction:column;gap:.4rem;padding-top:.25rem}.audit-diff-row{display:grid;grid-template-columns:140px 1fr;align-items:center;gap:1rem;padding:.5rem 0}.audit-diff-label{font-weight:500;color:#475569;font-size:.9rem}.audit-diff-values{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:.75rem;font-size:.9rem;min-width:0}.audit-diff-values .old{color:#b91c1c;text-align:right;word-break:break-word;overflow-wrap:break-word}.audit-diff-values .new{color:#15803d;font-weight:600;text-align:left;word-break:break-word;overflow-wrap:break-word}.audit-diff-values svg{flex-shrink:0;color:#64748b;opacity:.7}@media (max-width: 640px){.audit-diff-row{grid-template-columns:1fr;gap:.5rem}.audit-diff-label{font-size:.85rem}.audit-diff-values{grid-template-columns:1fr auto 1fr;gap:.5rem}.audit-diff-values .old,.audit-diff-values .new{font-size:.85rem}}body.theme-dark .bulk-audit-page{color:#e2e8f0}body.theme-dark .audit-run-row{border-color:#94a3b859;background:#0f172abf}body.theme-dark .audit-run-row.active{border-color:#818cf8a6;background:#4f46e540}body.theme-dark .audit-run-meta{color:#e2e8f0cc}body.theme-dark .status-pill.active{background:#3b82f633;color:#bfdbfe}body.theme-dark .status-pill.reverted{background:#ef444433;color:#fecaca}body.theme-dark .audit-detail-meta{background:#0f172acc;border-color:#94a3b859}body.theme-dark .audit-change-card{background:#0f172ae6;border-color:#94a3b859;box-shadow:0 18px 36px #020617a6}body.theme-dark .audit-change-header{border-bottom-color:#94a3b840}body.theme-dark .audit-change-subtitle,body.theme-dark .audit-diff-label{color:#e2e8f0bf}body.theme-dark .audit-diff-values .old{color:#fca5a5}body.theme-dark .audit-diff-values .new{color:#86efac}body.theme-dark .audit-diff-values svg{color:#94a3b899}.collections-page{padding:24px;display:flex;flex-direction:column;gap:16px}.collections-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px}.collections-eyebrow{font-size:.85rem;text-transform:uppercase;color:#64748b;margin-bottom:4px}.collections-helper{color:#64748b;font-size:.9rem;display:flex;align-items:center;gap:6px}.collections-alert{display:flex;align-items:center;gap:8px;padding:12px 16px;border-radius:8px;font-weight:500}.collections-alert.error{background:#fee2e2;color:#b91c1c}.collections-alert.warning{background:#fef3c7;color:#b45309}.collections-alert.success{background:#dcfce7;color:#15803d}.collections-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px}.collections-card{background:#fff;border-radius:12px;border:1px solid #e2e8f0;padding:20px;min-height:320px;display:flex;flex-direction:column}.collections-card header{margin-bottom:16px}.collections-table-wrapper{overflow-x:auto}.collections-table{width:100%;border-collapse:collapse}.collections-table th,.collections-table td{text-align:left;padding:.75rem .65rem;border-bottom:1px solid var(--color-border-default)}.collections-table th{font-weight:500;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--color-accent-primary);background:var(--color-accent-primary-light)}.collections-table tr.active{background:#eff6ff}.collection-name{font-weight:600;display:block}.collection-description{display:block;font-size:.85rem;color:#64748b}.shared-chip{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:999px;background:#e0f2fe;color:#0369a1;font-size:.8rem}.shared-chip.private{background:#e2e8f0;color:#475569}.collections-placeholder{flex:1;display:flex;align-items:center;justify-content:center;color:#475569;font-style:italic}.collections-form{display:flex;flex-direction:column;gap:16px}.collections-form label{display:flex;flex-direction:column;gap:6px;font-weight:500}.collections-form input[type=text],.collections-form textarea{border:1px solid #cbd5f5;border-radius:8px;padding:8px;font-size:1rem}.checkbox-label{flex-direction:row!important;align-items:center;gap:8px!important}.collections-entity-picker{border:1px solid #e2e8f0;border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:10px;height:260px}.collections-entity-toolbar{display:flex;justify-content:space-between;gap:12px;align-items:center}.collections-entity-toolbar input{flex:1;border:1px solid #cbd5f5;border-radius:8px;padding:6px 8px}.collections-entity-list{flex:1;overflow-y:auto}.collections-entity-list ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:4px}.collections-entity-list li label{display:flex;gap:8px;align-items:center;padding:4px;border-radius:6px}.collections-entity-list li label:hover{background:#f8fafc}.entity-name{font-weight:500}.entity-type{color:#94a3b8;font-size:.85rem}.collections-form-actions{display:flex;flex-wrap:wrap;gap:12px}.collections-header-actions{display:flex;gap:8px}.collections-page .primary-button,.collections-page .ghost-button,.collections-page .link-button{border-radius:8px;border:none;cursor:pointer;padding:8px 14px;font-weight:600}.collections-page .primary-button{background:#2563eb;color:#fff}.collections-page .primary-button:disabled{opacity:.7;cursor:not-allowed}.collections-page .ghost-button,.collections-page .link-button{background:transparent;color:#2563eb}.collections-page .link-button{padding:0}body.theme-dark .collections-page{color:var(--color-text-primary)}body.theme-dark .collections-eyebrow,body.theme-dark .collections-helper{color:var(--color-text-secondary)}body.theme-dark .collections-alert{border:1px solid transparent}body.theme-dark .collections-alert.error{background:var(--color-error-light);color:var(--color-error-hover);border-color:var(--color-error)}body.theme-dark .collections-alert.warning{background:var(--color-warning-light);color:var(--color-warning);border-color:var(--color-warning)}body.theme-dark .collections-alert.success{background:var(--color-success-light);color:var(--color-success);border-color:var(--color-success)}body.theme-dark .collections-card{background:var(--color-bg-surface);border-color:var(--color-border-default);box-shadow:var(--shadow-xl)}body.theme-dark .collections-placeholder{color:var(--color-text-muted)}body.theme-dark .collections-table th,body.theme-dark .collections-table td{border-color:var(--color-border-default)}body.theme-dark .collections-table th{color:var(--color-text-muted);background:var(--color-bg-header);font-weight:500}body.theme-dark .collections-table tr.active{background:var(--color-accent-secondary)}body.theme-dark .collection-description{color:var(--color-text-primary);opacity:.8}body.theme-dark .shared-chip{background:var(--color-accent-primary-light);color:var(--color-accent-primary-hover)}body.theme-dark .shared-chip.private{background:var(--color-bg-surface-active);color:var(--color-text-primary)}body.theme-dark .collections-form label{color:var(--color-text-primary)}body.theme-dark .collections-form input[type=text],body.theme-dark .collections-form textarea,body.theme-dark .collections-entity-toolbar input{background:#0f172abf;border-color:#94a3b873;color:#f8fafc}body.theme-dark .collections-form input::placeholder,body.theme-dark .collections-form textarea::placeholder,body.theme-dark .collections-entity-toolbar input::placeholder{color:#e2e8f08c}body.theme-dark .collections-entity-picker{border-color:#94a3b859;background:#0f172a8c}body.theme-dark .collections-entity-list li label:hover{background:#6366f133}body.theme-dark .entity-type{color:#a5b4fc}body.theme-dark .collections-page .primary-button{background:#4f46e5}body.theme-dark .collections-page .ghost-button,body.theme-dark .collections-page .link-button{color:#93c5fd}.notification-list-page{max-width:900px;margin:0 auto;padding:2rem}.notification-list-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem}.notification-list-header h1{margin:0;font-size:1.75rem;font-weight:700}.notification-list-actions{display:flex;align-items:center;gap:.75rem}.notification-list-mark-all-read{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#3b82f6;color:#fff;border:none;border-radius:8px;font-size:.9rem;font-weight:600;cursor:pointer;transition:background .2s ease}.notification-list-mark-all-read:hover:not(:disabled){background:#2563eb}.notification-list-mark-all-read:disabled{opacity:.6;cursor:not-allowed}.notification-list-filters{display:flex;gap:.75rem;margin-bottom:1.5rem;flex-wrap:wrap}.notification-list-filter{padding:.5rem .75rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;color:#1e293b;font-size:.9rem;cursor:pointer;transition:border-color .2s ease}body.theme-dark .notification-list-filter{background:#1e293b;border-color:#ffffff1a;color:#e2e8f0}.notification-list-filter:hover{border-color:#3b82f6}.notification-list-content{min-height:400px}.notification-list-empty{padding:4rem 2rem;text-align:center;color:#64748b}body.theme-dark .notification-list-empty{color:#94a3b8}.notification-list-empty-hint{margin-top:.5rem;font-size:.9rem;opacity:.8}.notification-list-items{display:flex;flex-direction:column;gap:.5rem}.notification-list-item{display:flex;align-items:flex-start;padding:1rem;background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:12px;cursor:pointer;transition:all .2s ease;gap:1rem}body.theme-dark .notification-list-item{background:#1e293b;border-color:#ffffff1a}.notification-list-item:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a}.notification-list-item.unread{background:#3b82f60d;border-color:#3b82f633}body.theme-dark .notification-list-item.unread{background:#3b82f61a;border-color:#3b82f64d}.notification-list-item-content{flex:1;display:flex;flex-direction:column;gap:.5rem}.notification-list-item-header{display:flex;align-items:flex-start;gap:.75rem}.notification-list-item-message{margin:0;font-size:.95rem;line-height:1.5;color:#1e293b;flex:1}body.theme-dark .notification-list-item-message{color:#e2e8f0}.notification-list-item.unread .notification-list-item-message{font-weight:600}.notification-list-item-dot{width:10px;height:10px;background:#3b82f6;border-radius:50%;margin-top:.25rem;flex-shrink:0}.notification-list-item-meta{display:flex;align-items:center;gap:.75rem;font-size:.85rem;color:#64748b}body.theme-dark .notification-list-item-meta{color:#94a3b8}.notification-list-item-time{font-weight:500}.notification-list-item-campaign{padding:.125rem .5rem;background:#3b82f61a;border-radius:4px;font-weight:600}body.theme-dark .notification-list-item-campaign{background:#3b82f633}.notification-list-item-mark-read{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;background:transparent;color:#64748b;cursor:pointer;border-radius:6px;transition:all .2s ease;flex-shrink:0}body.theme-dark .notification-list-item-mark-read{color:#94a3b8}.notification-list-item-mark-read:hover{background:#0000000d;color:#3b82f6}body.theme-dark .notification-list-item-mark-read:hover{background:#ffffff1a;color:#60a5fa}.notification-list-load-more{margin-top:2rem;text-align:center}.notification-list-load-more button{padding:.75rem 2rem;background:transparent;color:#3b82f6;border:2px solid #3b82f6;border-radius:8px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease}.notification-list-load-more button:hover:not(:disabled){background:#3b82f6;color:#fff}.notification-list-load-more button:disabled{opacity:.6;cursor:not-allowed}body.theme-dark .notification-list-load-more button{color:#60a5fa;border-color:#60a5fa}body.theme-dark .notification-list-load-more button:hover:not(:disabled){background:#60a5fa;color:#1e293b}.followed-entities-page{max-width:900px;margin:0 auto;padding:2rem}.followed-entities-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.followed-entities-header h1{margin:0;font-size:1.75rem;font-weight:700}.followed-entities-actions{display:flex;align-items:center;gap:.75rem}.followed-entities-filter{padding:.5rem .75rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;color:#1e293b;font-size:.9rem;cursor:pointer;transition:border-color .2s ease}body.theme-dark .followed-entities-filter{background:#1e293b;border-color:#ffffff1a;color:#e2e8f0}.followed-entities-filter:hover{border-color:#3b82f6}.followed-entities-content{min-height:400px}.followed-entities-empty{padding:4rem 2rem;text-align:center;color:#64748b}body.theme-dark .followed-entities-empty{color:#94a3b8}.followed-entities-empty-hint{margin-top:.5rem;font-size:.9rem;opacity:.8}.followed-entities-list{display:flex;flex-direction:column;gap:2rem}.followed-entities-group{display:flex;flex-direction:column;gap:1rem}.followed-entities-group-title{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b;padding-bottom:.5rem;border-bottom:2px solid rgba(0,0,0,.1)}body.theme-dark .followed-entities-group-title{color:#e2e8f0;border-bottom-color:#ffffff1a}.followed-entities-items{display:flex;flex-direction:column;gap:.5rem}.followed-entities-item{display:flex;align-items:center;padding:1rem;background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:12px;transition:all .2s ease;gap:1rem}body.theme-dark .followed-entities-item{background:#1e293b;border-color:#ffffff1a}.followed-entities-item:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a}.followed-entities-item-link{flex:1;text-decoration:none;color:inherit}.followed-entities-item-content{display:flex;flex-direction:column;gap:.25rem}.followed-entities-item-name{margin:0;font-size:1rem;font-weight:600;color:#1e293b}body.theme-dark .followed-entities-item-name{color:#e2e8f0}.followed-entities-item-link:hover .followed-entities-item-name{color:#3b82f6}body.theme-dark .followed-entities-item-link:hover .followed-entities-item-name{color:#60a5fa}.followed-entities-item-type{font-size:.85rem;color:#64748b;font-weight:500}body.theme-dark .followed-entities-item-type{color:#94a3b8}.followed-entities-item-unfollow{display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border:1px solid rgba(0,0,0,.1);background:#fff;color:#64748b;border-radius:8px;cursor:pointer;transition:all .2s ease;flex-shrink:0}body.theme-dark .followed-entities-item-unfollow{background:#1e293b;border-color:#ffffff1a;color:#94a3b8}.followed-entities-item-unfollow:hover:not(:disabled){border-color:#dc2626;color:#dc2626;background:#dc26260d}body.theme-dark .followed-entities-item-unfollow:hover:not(:disabled){border-color:#ef4444;color:#ef4444;background:#dc26261a}.followed-entities-item-unfollow:disabled{opacity:.5;cursor:not-allowed}.request-status-badge{display:inline-block;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.025em}.request-status-badge--blue{background-color:#dbeafe;color:#1e40af}.request-status-badge--orange{background-color:#fed7aa;color:#9a3412}.request-status-badge--green{background-color:#bbf7d0;color:#14532d}.request-status-badge--gray{background-color:#e5e7eb;color:#374151}.request-status-badge--purple{background-color:#e9d5ff;color:#581c87}.request-status-badge--yellow{background-color:#fef3c7;color:#92400e}body.theme-dark .request-status-badge--blue{background-color:#3b82f633;color:#93c5fd}body.theme-dark .request-status-badge--orange{background-color:#fb923c33;color:#fdba74}body.theme-dark .request-status-badge--green{background-color:#22c55e33;color:#86efac}body.theme-dark .request-status-badge--gray{background-color:#94a3b826;color:#cbd5e1}body.theme-dark .request-status-badge--purple{background-color:#a855f733;color:#c084fc}body.theme-dark .request-status-badge--yellow{background-color:#eab30833;color:#fde047}.request-card{display:block;padding:1.5rem;border:2px solid #e2e8f0;border-radius:1rem;background:#fff;text-decoration:none;color:inherit;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;position:relative;overflow:hidden}.request-card:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2);transform:scaleX(0);transform-origin:left;transition:transform .3s}.request-card:hover{border-color:#667eea;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;transform:translateY(-4px)}.request-card:hover:before{transform:scaleX(1)}.request-card__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.request-card__type{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280}.request-card__type-icon{color:#3b82f6}.request-card__type-label{font-weight:500}.request-card__title{font-size:1.25rem;font-weight:700;margin:0 0 .75rem;color:#1e293b;line-height:1.4}.request-card__description{font-size:.9375rem;color:#64748b;margin:0 0 1.25rem;line-height:1.6}.request-card__footer{display:flex;justify-content:space-between;align-items:center;font-size:.75rem;color:#9ca3af}.request-card__meta{display:flex;gap:.75rem}.request-card__creator,.request-card__assignee{font-weight:500}.request-card__time{display:flex;align-items:center;gap:.25rem}body.theme-dark .request-card{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155)}body.theme-dark .request-card:hover{border-color:#667eea;box-shadow:0 20px 25px -5px #0000004d,0 10px 10px -5px #0003}body.theme-dark .request-card__type{color:#94a3b8}body.theme-dark .request-card__type-icon{color:#60a5fa}body.theme-dark .request-card__title{color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-card__description{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-card__footer{color:#94a3b8}.request-list-page{max-width:min(1400px,calc(100vw - 4rem));margin:0 auto;padding:2rem;background:linear-gradient(to bottom,#f8fafc,#fff);min-height:100vh;width:100%;box-sizing:border-box}.request-list-page__header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2.5rem;padding-bottom:2rem;border-bottom:2px solid #e2e8f0}.request-list-page__header h1{font-size:2.5rem;font-weight:800;margin:0 0 .5rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.request-list-page__subtitle-wrapper{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.request-list-page__subtitle{color:#64748b;margin:0;font-size:1rem;font-weight:500}.request-list-page__admin-badge{display:inline-flex;align-items:center;padding:.375rem .875rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:9999px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 2px 4px #667eea4d}.request-list-page__create-button{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;text-decoration:none;border-radius:.75rem;font-weight:600;font-size:.9375rem;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 6px -1px #667eea4d,0 2px 4px -1px #667eea33}.request-list-page__create-button:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #667eea66,0 4px 6px -2px #667eea4d}.request-list-page__filters{display:flex;gap:1.25rem;align-items:center;margin-bottom:2.5rem;padding:1.5rem;background:#fff;border-radius:1rem;border:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;flex-wrap:wrap}.request-list-page__filter-group{display:flex;align-items:center;gap:.75rem}.request-list-page__filter-group label{font-size:.875rem;font-weight:600;color:#475569}.request-list-page__filter-select{padding:.625rem 1rem;border:2px solid #e2e8f0;border-radius:.625rem;font-size:.875rem;background:#fff;font-weight:500;color:#334155;transition:all .2s;cursor:pointer}.request-list-page__filter-select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.request-list-page__clear-filters{padding:.625rem 1.25rem;background:#f1f5f9;border:2px solid #e2e8f0;border-radius:.625rem;font-size:.875rem;font-weight:600;color:#475569;cursor:pointer;transition:all .2s;margin-left:auto}.request-list-page__clear-filters:hover{background:#e2e8f0;border-color:#cbd5e1;transform:translateY(-1px)}.request-list-page__loading,.request-list-page__empty{padding:5rem 2rem;text-align:center;color:#64748b;font-size:1.125rem}.request-list-page__empty p{margin:0 0 1rem;font-weight:600;color:#475569}.request-list-page__empty-link{display:inline-flex;align-items:center;gap:.5rem;margin-top:1rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;text-decoration:none;font-weight:600;border-radius:.625rem;transition:all .3s;box-shadow:0 4px 6px -1px #667eea4d}.request-list-page__empty-link:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #667eea66}.request-list-page__grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:1.75rem;margin-bottom:2.5rem}.request-list-page__pagination{display:flex;justify-content:center;align-items:center;gap:1.5rem;margin-top:3rem;padding-top:2.5rem;border-top:2px solid #e2e8f0}.request-list-page__pagination-button{padding:.75rem 1.5rem;background:#fff;border:2px solid #e2e8f0;border-radius:.625rem;font-size:.875rem;font-weight:600;color:#475569;cursor:pointer;transition:all .2s}.request-list-page__pagination-button:hover:not(:disabled){background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent;transform:translateY(-2px);box-shadow:0 4px 6px -1px #667eea4d}.request-list-page__pagination-button:disabled{opacity:.4;cursor:not-allowed;background:#f1f5f9}.request-list-page__pagination-info{font-size:.9375rem;font-weight:600;color:#64748b}body.theme-dark .request-list-page{background:linear-gradient(to bottom,#0f172a,#1e293b)}body.theme-dark .request-list-page__subtitle{color:#94a3b8}body.theme-dark .request-list-page__header{border-bottom-color:var(--color-border-default, #334155)}body.theme-dark .request-list-page__filters{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155)}body.theme-dark .request-list-page__filter-group label{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-list-page__filter-select{background:#0f172a80;border-color:var(--color-border-default, #334155);color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-list-page__filter-select:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea26}body.theme-dark .request-list-page__clear-filters{background:#94a3b826;border-color:var(--color-border-default, #334155);color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-list-page__clear-filters:hover{background:#94a3b840;border-color:#475569}body.theme-dark .request-list-page__loading,body.theme-dark .request-list-page__empty{color:#94a3b8}body.theme-dark .request-list-page__empty p{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-list-page__pagination{border-top-color:var(--color-border-default, #334155)}body.theme-dark .request-list-page__pagination-button{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155);color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-list-page__pagination-button:disabled{background:#0f172a80;color:#64748b}body.theme-dark .request-list-page__pagination-info{color:#94a3b8}.request-note-form{margin-top:1rem;width:100%;box-sizing:border-box}.request-note-form__textarea{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;font-family:inherit;resize:vertical;min-height:80px;box-sizing:border-box}.request-note-form__textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.request-note-form__actions{display:flex;justify-content:flex-end;margin-top:.5rem}.request-note-form__submit{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#3b82f6;color:#fff;border:none;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s}.request-note-form__submit:hover:not(:disabled){background:#2563eb}.request-note-form__submit:disabled{opacity:.5;cursor:not-allowed}body.theme-dark .request-note-form__textarea{background:#0f172a80;border-color:var(--color-border-default, #334155);color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-note-form__textarea:focus{border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa26}.request-notes{margin-top:2rem;padding-top:2rem;border-top:1px solid #e5e7eb}.request-notes__header{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;font-size:1.125rem;font-weight:600}.request-notes__loading,.request-notes__empty{padding:2rem;text-align:center;color:#9ca3af}.request-notes__list{margin-top:1rem;width:100%}.request-note{padding:1rem;margin-bottom:1rem;background:#f9fafb;border-radius:.5rem;border:1px solid #e5e7eb;width:100%;box-sizing:border-box}.request-note__content{margin-bottom:.75rem;line-height:1.6;white-space:pre-wrap}.request-note__footer{display:flex;justify-content:space-between;align-items:center;font-size:.75rem;color:#6b7280}.request-note__meta{display:flex;gap:.75rem}.request-note__author{font-weight:500}.request-note__actions{display:flex;gap:.5rem}.request-note__action{padding:.25rem;background:transparent;border:none;color:#6b7280;cursor:pointer;border-radius:.25rem;transition:all .2s}.request-note__action:hover{background:#e5e7eb;color:#111827}.request-note__edit{display:flex;flex-direction:column;gap:.5rem}.request-note__edit-textarea{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;font-family:inherit;resize:vertical;min-height:80px}.request-note__edit-textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.request-note__edit-actions{display:flex;gap:.5rem;justify-content:flex-end}.request-note__edit-save,.request-note__edit-cancel{padding:.5rem 1rem;border:none;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s}.request-note__edit-save{background:#3b82f6;color:#fff}.request-note__edit-save:hover{background:#2563eb}.request-note__edit-cancel{background:#e5e7eb;color:#374151}.request-note__edit-cancel:hover{background:#d1d5db}body.theme-dark .request-notes{border-top-color:var(--color-border-default, #334155)}body.theme-dark .request-notes__header{color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-notes__loading,body.theme-dark .request-notes__empty{color:#94a3b8}body.theme-dark .request-note{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155)}body.theme-dark .request-note__content{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-note__footer,body.theme-dark .request-note__action{color:#94a3b8}body.theme-dark .request-note__action:hover{background:#94a3b826;color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-note__edit-textarea{background:#0f172a80;border-color:var(--color-border-default, #334155);color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-note__edit-textarea:focus{border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa26}body.theme-dark .request-note__edit-cancel{background:#94a3b826;color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-note__edit-cancel:hover{background:#94a3b840}.request-detail-page{max-width:min(1400px,calc(100vw - 4rem));margin:0 auto;padding:2rem;width:100%;box-sizing:border-box}.request-detail-page__loading{padding:4rem;text-align:center;color:#6b7280}.request-detail-page__header{margin-bottom:2rem}.request-detail-page__back{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;color:#3b82f6;text-decoration:none;font-size:.875rem;transition:color .2s}.request-detail-page__back:hover{color:#2563eb}.request-detail-page__title-section{display:flex;flex-direction:column;gap:1rem}.request-detail-page__type-badge{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#eff6ff;color:#1e40af;border-radius:.375rem;font-weight:500;width:fit-content}.request-detail-page__type-icon{color:#3b82f6}.request-detail-page__title-section h1{font-size:2rem;font-weight:700;margin:0}.request-detail-page__meta{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.request-detail-page__priority{padding:.25rem .75rem;background:#f3f4f6;border-radius:.25rem;font-size:.875rem;font-weight:500;color:#374151}.request-detail-page__backlog-badge{padding:.25rem .75rem;background:#e9d5ff;color:#581c87;border-radius:.25rem;font-size:.875rem;font-weight:500}.request-detail-page__content{background:#fff;padding:2rem;border-radius:.5rem;border:1px solid #e5e7eb;width:100%;box-sizing:border-box}.request-detail-page__main{width:100%;max-width:100%}.request-detail-page__section{margin-bottom:2rem;width:100%}.request-detail-page__section:last-child{margin-bottom:0}.request-detail-page__section h2{font-size:1.25rem;font-weight:600;margin:0 0 1rem;color:#111827}.request-detail-page__description{line-height:1.8;color:#374151}.request-detail-page__description p{margin:0 0 1rem}.request-detail-page__description p:last-child{margin-bottom:0}.request-detail-page__details{display:grid;grid-template-columns:auto 1fr;gap:.75rem 1.5rem}.request-detail-page__detail-row{display:contents}.request-detail-page__detail-row dt{font-weight:500;color:#6b7280}.request-detail-page__detail-row dd{margin:0;color:#111827}.request-detail-page__admin-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.request-detail-page__admin-toggle{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:.625rem;font-size:.9375rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 6px -1px #667eea4d,0 2px 4px -1px #667eea33}.request-detail-page__admin-toggle:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #667eea66,0 4px 6px -2px #667eea4d}.request-detail-page__admin-toggle--active{background:linear-gradient(135deg,#764ba2,#667eea)}.request-detail-page__admin-toggle-icon{transition:transform .3s}.request-detail-page__admin-toggle-icon--rotated{transform:rotate(180deg)}.request-detail-page__admin-form{padding:1.5rem;background:#f9fafb;border-radius:.5rem;border:1px solid #e5e7eb}.request-detail-page__admin-field{margin-bottom:1rem}.request-detail-page__admin-field:last-of-type{margin-bottom:1.5rem}.request-detail-page__admin-field label{display:block;margin-bottom:.5rem;font-weight:500;color:#374151}.request-detail-page__admin-field input[type=checkbox]{margin-right:.5rem}.request-detail-page__admin-select{width:100%;max-width:300px;padding:.5rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;background:#fff}.request-detail-page__admin-actions{display:flex;gap:1rem}.request-detail-page__admin-save{padding:.75rem 1.5rem;background:#3b82f6;color:#fff;border:none;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s}.request-detail-page__admin-save:hover:not(:disabled){background:#2563eb}.request-detail-page__admin-save:disabled{opacity:.5;cursor:not-allowed}.request-detail-page__admin-delete{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#ef4444;color:#fff;border:none;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s}.request-detail-page__admin-delete:hover{background:#dc2626}body.theme-dark .request-detail-page__loading{color:#9ca3af}body.theme-dark .request-detail-page__back{color:#60a5fa}body.theme-dark .request-detail-page__back:hover{color:#3b82f6}body.theme-dark .request-detail-page__type-badge{background:#3b82f626;color:#93c5fd}body.theme-dark .request-detail-page__type-icon{color:#60a5fa}body.theme-dark .request-detail-page__title-section h1{color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-detail-page__priority{background:#94a3b826;color:#cbd5e1}body.theme-dark .request-detail-page__backlog-badge{background:#a855f733;color:#c084fc}body.theme-dark .request-detail-page__content{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155)}body.theme-dark .request-detail-page__section h2{color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-detail-page__description{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-detail-page__detail-row dt{color:#94a3b8}body.theme-dark .request-detail-page__detail-row dd{color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-detail-page__admin-form{background:#0f172a80;border-color:var(--color-border-default, #334155)}body.theme-dark .request-detail-page__admin-field label{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .request-detail-page__admin-select{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155);color:var(--color-text-primary, #f1f5f9)}body.theme-dark .request-detail-page__admin-select:focus{border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa26}.create-request-page{max-width:900px;margin:0 auto;padding:2rem;background:linear-gradient(to bottom,#f8fafc,#fff);min-height:100vh}.create-request-page__header{margin-bottom:2.5rem;padding-bottom:2rem;border-bottom:2px solid #e2e8f0}.create-request-page__back{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;padding:.75rem 1rem;background:#fff;border:2px solid #e2e8f0;border-radius:.625rem;color:#667eea;cursor:pointer;font-size:.875rem;font-weight:600;transition:all .2s;width:fit-content}.create-request-page__back:hover{background:#f8fafc;border-color:#667eea;transform:translate(-4px)}.create-request-page__header h1{font-size:2.5rem;font-weight:800;margin:0;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.create-request-form{background:#fff;padding:2.5rem;border-radius:1rem;border:1px solid #e2e8f0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.create-request-form__section{margin-bottom:1.5rem}.create-request-form__label{display:block;margin-bottom:.5rem;font-weight:500;color:#374151}.create-request-form__required{color:#ef4444}.create-request-form__type-options{display:flex;gap:1.25rem}.create-request-form__type-option{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;border:2px solid #e2e8f0;border-radius:.75rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;background:#f8fafc}.create-request-form__type-option:hover{border-color:#667eea;background:#fff;transform:translateY(-2px);box-shadow:0 4px 6px -1px #667eea33}.create-request-form__type-option input[type=radio]{margin:0;cursor:pointer}.create-request-form__type-option input[type=radio]:checked+svg+span{font-weight:700}.create-request-form__type-option:has(input[type=radio]:checked){border-color:#667eea;background:linear-gradient(135deg,#667eea1a,#764ba21a);box-shadow:0 4px 6px -1px #667eea4d}.create-request-form__input,.create-request-form__textarea,.create-request-form__select{width:100%;padding:.875rem 1rem;border:2px solid #e2e8f0;border-radius:.625rem;font-size:.9375rem;font-family:inherit;transition:all .2s;background:#fff}.create-request-form__input:focus,.create-request-form__textarea:focus,.create-request-form__select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;background:#fafbfc}.create-request-form__input--error,.create-request-form__textarea--error{border-color:#ef4444}.create-request-form__textarea{resize:vertical;min-height:150px}.create-request-form__error{margin-top:.25rem;font-size:.875rem;color:#ef4444}.create-request-form__actions{display:flex;justify-content:flex-end;gap:1rem;margin-top:2.5rem;padding-top:2rem;border-top:2px solid #e2e8f0}.create-request-form__cancel,.create-request-form__submit{padding:.875rem 2rem;border:none;border-radius:.75rem;font-size:.9375rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}.create-request-form__cancel{background:#fff;color:#475569;border:2px solid #e2e8f0}.create-request-form__cancel:hover:not(:disabled){background:#f8fafc;border-color:#cbd5e1;transform:translateY(-2px);box-shadow:0 4px 6px -1px #0000001a}.create-request-form__submit{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 6px -1px #667eea4d,0 2px 4px -1px #667eea33}.create-request-form__submit:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 15px -3px #667eea66,0 4px 6px -2px #667eea4d}.create-request-form__cancel:disabled,.create-request-form__submit:disabled{opacity:.5;cursor:not-allowed;transform:none}body.theme-dark .create-request-page{background:linear-gradient(to bottom,#0f172a,#1e293b)}body.theme-dark .create-request-page__header{border-bottom-color:var(--color-border-default, #334155)}body.theme-dark .create-request-page__back{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155);color:#60a5fa}body.theme-dark .create-request-page__back:hover{background:#0f172a80;border-color:#667eea}body.theme-dark .create-request-form{background:var(--color-bg-surface, #1e293b);border-color:var(--color-border-default, #334155)}body.theme-dark .create-request-form__label{color:var(--color-text-secondary, #cbd5e1)}body.theme-dark .create-request-form__type-option{background:#0f172a80;border-color:var(--color-border-default, #334155)}body.theme-dark .create-request-form__type-option:hover{background:#0f172ab3;border-color:#667eea}body.theme-dark .create-request-form__type-option:has(input[type=radio]:checked){background:linear-gradient(135deg,#667eea33,#764ba233);border-color:#667eea}body.theme-dark .create-request-form__input,body.theme-dark .create-request-form__textarea,body.theme-dark .create-request-form__select{background:#0f172a80;border-color:var(--color-border-default, #334155);color:var(--color-text-primary, #f1f5f9)}body.theme-dark .create-request-form__input:focus,body.theme-dark .create-request-form__textarea:focus,body.theme-dark .create-request-form__select:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea26;background:#0f172ab3}body.theme-dark .create-request-form__actions{border-top-color:var(--color-border-default, #334155)}body.theme-dark .create-request-form__cancel{background:var(--color-bg-surface, #1e293b);color:var(--color-text-secondary, #cbd5e1);border-color:var(--color-border-default, #334155)}body.theme-dark .create-request-form__cancel:hover:not(:disabled){background:#0f172ab3;border-color:#475569}.app-shell{display:flex;flex-direction:column;height:100vh;width:100%;overflow:hidden}.app-header{display:flex;align-items:center;justify-content:space-between;background:var(--color-bg-header);color:var(--color-text-on-header);height:56px;padding:0 1rem;flex-shrink:0;box-shadow:var(--shadow-sm);gap:1rem}.header-start{display:flex;align-items:center;gap:.75rem}.header-center{flex:1;display:flex;justify-content:center;align-items:center;gap:1rem}.header-end{display:flex;align-items:center;gap:.75rem}.campaign-selector{display:flex;align-items:center;gap:.5rem;background:#0f172a99;border:1px solid rgba(148,163,184,.35);border-radius:999px;padding:.35rem .75rem;min-width:240px;max-width:420px}.campaign-selector label{font-size:.7rem;letter-spacing:.08em;text-transform:uppercase;font-weight:600;color:#e2e8f0bf}.campaign-selector select{flex:1;background:transparent;border:none;color:var(--color-text-on-header);font-size:.95rem;outline:none}.campaign-selector select option{color:var(--color-text-primary);background:var(--color-bg-elevated)}.campaign-selector select:disabled{color:var(--color-text-disabled);cursor:not-allowed}.menu-btn,.history-btn,.context-btn,.search-btn{background:none;border:none;color:inherit;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font:inherit;transition:background-color .2s ease,color .2s ease,border-color .2s ease,opacity .2s ease}.menu-btn.menu-btn-text,.history-btn.history-btn-text,.context-btn.context-btn-text,.search-btn.search-btn-text{background:#94a3b82e;border:1px solid rgba(148,163,184,.45);border-radius:999px;padding:.35rem .9rem;font-size:.9rem;font-weight:600;letter-spacing:.02em}.menu-btn.menu-btn-text:hover,.menu-btn.menu-btn-text:focus-visible,.history-btn.history-btn-text:hover,.history-btn.history-btn-text:focus-visible,.context-btn.context-btn-text:hover,.context-btn.context-btn-text:focus-visible,.search-btn.search-btn-text:hover,.search-btn.search-btn-text:focus-visible{background:#94a3b847;border-color:#94a3b8bf}.menu-btn.menu-btn-icon,.history-btn.history-btn-icon,.context-btn.context-btn-icon,.search-btn.search-btn-icon{padding:.35rem;border-radius:999px;background:none;border:none}.menu-btn.menu-btn-icon:focus-visible,.history-btn.history-btn-icon:focus-visible,.context-btn.context-btn-icon:focus-visible,.search-btn.search-btn-icon:focus-visible{outline:2px solid rgba(148,163,184,.75);outline-offset:2px}.menu-btn.disabled,.history-btn.disabled,.context-btn.disabled,.search-btn.disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.user-icon{background:none;border:none;color:inherit;cursor:pointer;display:flex;align-items:center;justify-content:center}.title{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center}.title-link{color:var(--color-text-on-header);text-decoration:none;transition:color .2s ease}.title-link:hover,.title-link:focus-visible{color:#fffc}@media (max-width: 768px){.header-center{display:none}}.mobile-context-overlay{position:fixed;inset:0;background:#0f172abf;z-index:40;display:flex;justify-content:center;align-items:flex-end;padding:1rem}.mobile-context-overlay-close{position:absolute;inset:0;border:none;background:transparent;cursor:pointer;z-index:0}.mobile-context-panel{position:relative;background:#0f172a;color:#e2e8f0;width:100%;max-width:480px;border-radius:1rem 1rem 0 0;padding:1rem 1.25rem 1.5rem;box-shadow:0 10px 40px #00000073;max-height:85vh;overflow-y:auto;z-index:1}.mobile-context-header{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:.75rem}.mobile-context-header h2{font-size:1rem;margin:0}.mobile-context-header button{background:none;border:none;color:inherit;cursor:pointer;padding:.25rem;border-radius:999px}.mobile-context-header button:focus-visible{outline:2px solid rgba(148,163,184,.75);outline-offset:2px}.mobile-context-body{display:flex;flex-direction:column;gap:.75rem}.mobile-context-body .campaign-selector{flex-direction:column;align-items:flex-start;width:100%;max-width:none;min-width:0;border-radius:.75rem;gap:.35rem}.mobile-context-body .campaign-selector select{width:100%}.app-body{display:flex;flex:1;min-height:0;width:100%;position:relative;overflow:hidden}.sidebar{position:relative;background:var(--color-bg-sidebar);color:var(--color-text-on-header);width:316.8px;flex-shrink:0;height:100%;transition:transform .3s ease,width .3s ease;display:flex;flex-direction:column;z-index:2;overflow:hidden;-webkit-overflow-scrolling:touch}.sidebar-overlay{position:absolute;inset:0;background:transparent;background-color:transparent!important;border:none;cursor:pointer;padding:0;margin:0;z-index:1;color:transparent;box-shadow:none}.sidebar-overlay:hover,.sidebar-overlay:active{background:transparent;background-color:transparent!important}.sidebar-overlay:focus-visible{outline:2px solid rgba(255,255,255,.7);outline-offset:-2px}.sidebar.closed{transform:translate(-100%);width:0;z-index:0;pointer-events:none;opacity:0}.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid rgba(255,255,255,.1);flex-shrink:0}.pin-btn{background:none;border:none;color:#ffffffb3;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;padding:.25rem;border-radius:6px;transition:color .2s ease,background-color .2s ease,box-shadow .2s ease}.pin-btn:hover,.pin-btn:focus-visible{color:#fff;background:#ffffff14}.pin-btn.pinned{color:#0ea5e9;background:#0ea5e929;box-shadow:0 0 0 1px #0ea5e966}.pin-icon{stroke-width:1.75px;fill:transparent;transition:fill .2s ease,opacity .2s ease,stroke-width .2s ease,transform .2s ease;opacity:.55;transform:rotate(-18deg)}.pin-btn.pinned .pin-icon{fill:currentColor;stroke-width:1.25px;opacity:1;transform:rotate(0)}.nav-links{display:flex;flex-direction:column;padding:1rem;gap:.5rem;flex:1 1 auto;overflow-y:auto;min-height:0}.nav-heading{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:#e2e8f0d9;font-weight:700}.nav-group{display:flex;flex-direction:column;gap:.25rem}.nav-heading-btn{display:flex;align-items:center;justify-content:space-between;gap:.25rem;width:100%;background:none;border:none;color:inherit;padding:.25rem .75rem;cursor:pointer;text-align:left}@media (max-width: 768px){.app-body{position:relative}.sidebar{position:absolute;inset:0 auto 0 0;width:min(85vw,320px);box-shadow:0 24px 48px #0f172a73;border-right:1px solid rgba(255,255,255,.1)}.sidebar.closed{box-shadow:none}.pin-btn{display:none}.content{--content-padding: .75rem}}.nav-heading-btn:hover{background:#ffffff14;border-radius:4px}.nav-heading-icon{transition:transform .2s ease}.nav-heading-icon.collapsed{transform:rotate(-90deg)}.nav-sub-links{display:flex;flex-direction:column;gap:.35rem;padding-left:.75rem;transition:max-height .2s ease,opacity .2s ease;max-height:500px;opacity:1}.nav-sub-links>a{padding-left:.75rem}.nav-group.collapsed .nav-sub-links{max-height:0;opacity:0;overflow:hidden;pointer-events:none}.nav-helper{font-size:.75rem;color:#e2e8f0a6;padding:.25rem .75rem}.nav-helper.error{color:#fca5a5}.nav-entity-type,.nav-entity-link{display:flex;align-items:center;gap:.5rem;padding:.35rem .75rem;border-radius:4px}.nav-entity-type{justify-content:space-between}.history-tab{display:flex;flex-direction:column;gap:1.25rem;color:#0f172a}.history-tab-header{display:flex;align-items:center;justify-content:space-between;gap:1rem}.history-tab-title{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#0f172a}.history-clear-btn{border:1px solid rgba(15,23,42,.15);background:transparent;border-radius:999px;padding:.25rem .75rem;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;gap:.35rem;color:#0f172a;cursor:pointer;transition:background-color .2s ease,color .2s ease,border-color .2s ease}.history-clear-btn:disabled{opacity:.4;cursor:not-allowed}.history-clear-btn:not(:disabled):hover,.history-clear-btn:not(:disabled):focus-visible{background:#0f172a14;border-color:#0f172a59}.history-empty{font-size:.9rem;color:#475569;margin:0}.history-group{display:flex;flex-direction:column;gap:.5rem}.history-group-title{font-size:.8rem;text-transform:uppercase;letter-spacing:.08em;color:#64748b;margin:0}.history-entry-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.5rem}.history-entry{border:1px solid rgba(15,23,42,.08);background:#f8fafc;border-radius:.5rem;padding:.6rem .75rem;transition:border-color .2s ease,background-color .2s ease,box-shadow .2s ease}.history-entry-link{display:block;text-decoration:none;color:inherit}.history-entry-link:hover,.history-entry-link:focus-visible{border-color:#0f172a40;background:#fff;box-shadow:0 4px 20px #0f172a1f}.history-entry-link:focus-visible{outline:2px solid rgba(94,234,212,.8);outline-offset:2px}.history-entry-title{font-weight:600;margin:0 0 .25rem;color:#0f172a}.history-entry-meta{display:flex;align-items:center;justify-content:space-between;font-size:.8rem;color:#475569;font-variant-numeric:tabular-nums}.history-entry-type{text-transform:capitalize}.history-entry-time{color:#0f172a}.nav-entity-type .nav-entity-label{flex:1}.nav-entity-count{background:transparent;color:#e2e8f0d9;border:1px solid rgba(226,232,240,.3);border-radius:999px;padding:.15rem .5rem;font-size:.75rem;font-weight:500;transition:opacity .2s ease,color .2s ease,border-color .2s ease}.nav-entity-type:hover .nav-entity-count{color:#e2e8f0f2;border-color:#e2e8f080}body.theme-dark .nav-entity-count{color:#e2e8f0cc;border-color:#e2e8f040}body.theme-dark .nav-entity-type:hover .nav-entity-count{color:#e2e8f0f2;border-color:#e2e8f073}.nav-entity-link .nav-icon{margin-right:.35rem}.nav-links a{color:#e2e8f0;text-decoration:none;padding:.5rem .75rem;border-radius:4px;transition:background .2s;font-weight:500;display:flex;align-items:center;gap:.5rem}.nav-links a:hover{background:#ffffff1a}.nav-icon{flex-shrink:0}.page-placeholder{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:.75rem;min-height:60vh}.content{--content-padding: 1rem;flex:1;background:#f1f5f9;padding:var(--content-padding);overflow-y:auto;z-index:0;transition:all .3s ease;display:flex;flex-direction:column;min-width:0;min-height:0}.content--entity-detail{--content-padding: 0}.relationship-viewer-header{margin-left:calc(-1 * var(--content-padding, 0));margin-right:calc(-1 * var(--content-padding, 0));width:calc(100% + 2 * var(--content-padding, 0));background:linear-gradient(to bottom,#fff,#fafafa);border-bottom:1px solid rgba(0,0,0,.08);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.content.pinned .relationship-viewer-header{left:316.8px;width:calc(100vw - 316.8px);margin-left:0;margin-right:0}.home-page{display:flex;flex-direction:column;gap:2rem;padding:1.5rem;color:#0f172a}.home-hero{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));background:linear-gradient(135deg,#1f2937,#0f172a 65%,#2563eb);color:#f8fafc;border-radius:20px;padding:2.25rem;box-shadow:0 24px 48px #0f172a59;position:relative;overflow:hidden}.home-hero:after{content:"";position:absolute;inset:12% 8% auto auto;width:220px;height:220px;background:radial-gradient(circle,rgba(148,197,255,.28),transparent 65%);pointer-events:none;transform:translate(16%,-18%)}.home-hero-text{position:relative;z-index:1;display:flex;flex-direction:column;gap:1rem}.home-eyebrow{text-transform:uppercase;letter-spacing:.18em;font-size:.75rem;font-weight:600;color:#f1f5f9b8}.home-hero h1{font-size:clamp(2rem,2.8vw + 1.2rem,2.75rem);font-weight:700;margin:0;color:#f8fafc}.home-description{margin:0;max-width:48ch;color:#e2e8f0c7;line-height:1.6}.home-active-campaign{position:relative;z-index:1;background:#0f172a80;border-radius:16px;padding:1.5rem;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(148,197,255,.35);display:flex;flex-direction:column;gap:.35rem;align-self:center;min-width:0}.home-active-label{text-transform:uppercase;font-size:.7rem;letter-spacing:.12em;color:#94c5ffd9}.home-active-campaign h2{margin:0;font-size:1.35rem;font-weight:600;color:#f8fafc}.home-active-campaign p{margin:0;color:#e2e8f0cc}.home-section{background:#fff;border-radius:18px;padding:1.75rem;box-shadow:0 18px 36px #0f172a1f;display:flex;flex-direction:column;gap:1.5rem}.home-section-header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem}.home-section-header h2{margin:0;font-size:1.5rem;color:#0f172a}.home-section-header p{margin:.35rem 0 0;color:#475569}.home-link{display:inline-flex;align-items:center;justify-content:center;padding:.5rem 1.25rem;border-radius:999px;background:#e0f2fe;color:#0c4a6e;font-weight:600;text-decoration:none;transition:transform .2s ease,box-shadow .2s ease,background-color .2s ease,color .2s ease}.home-link:hover,.home-link:focus-visible{background:#bae6fd;color:#082f49;box-shadow:0 10px 20px #0ea5e940;transform:translateY(-1px)}.home-refresh{border:none;border-radius:999px;background:#e0f2fe;color:#0369a1;padding:.5rem 1.25rem;font-weight:600;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,background-color .2s ease}.home-refresh:hover:not(:disabled),.home-refresh:focus-visible:not(:disabled){background:#bae6fd;box-shadow:0 10px 20px #0ea5e940;transform:translateY(-1px)}.home-refresh:disabled{opacity:.65;cursor:not-allowed}.home-card-grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.home-card{border-radius:16px;padding:1.25rem;border:1px solid rgba(15,23,42,.08);background:linear-gradient(155deg,#f8fafc,#e2e8f0);display:flex;flex-direction:column;gap:.75rem;box-shadow:inset 0 1px #fff9}.home-card header{display:flex;align-items:flex-start;justify-content:space-between;gap:.75rem}.home-card h3{margin:0;font-size:1.15rem;color:#0f172a}.home-card-meta{display:flex;flex-wrap:wrap;gap:.5rem;color:#475569;font-size:.9rem}.home-card-meta span{padding:.25rem .65rem;border-radius:999px;background:#3b82f61f;color:#1d4ed8;font-weight:600}.home-card-status{padding:.25rem .6rem;border-radius:999px;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;font-weight:700;align-self:flex-start}.home-card-status.active{background:#22c55e29;color:#047857}.home-card-status.inactive{background:#f8717129;color:#b91c1c}.home-card-player{margin:0;color:#334155;font-size:.9rem}.home-widget-empty,.home-widget-error{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:.5rem;color:#475569;min-height:96px}.home-widget-empty p,.home-widget-error p{margin:0}.home-widget-error{color:#b91c1c}.campaign-grid{display:grid;gap:1.25rem;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.campaign-card{position:relative;display:flex;flex-direction:column;gap:.75rem;align-items:flex-start;padding:1.25rem;border-radius:16px;border:1px solid rgba(15,23,42,.1);background:linear-gradient(160deg,#f8fafc,#e2e8f0);color:inherit;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease;text-align:left}.campaign-card:hover,.campaign-card:focus-visible{transform:translateY(-4px);box-shadow:0 16px 30px #0f172a26;border-color:#3b82f666}.campaign-card header{display:flex;justify-content:space-between;align-items:center;width:100%;gap:.75rem}.campaign-role{display:inline-flex;align-items:center;gap:.45rem;font-weight:600;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;background:#0f172a0f;color:#0f172a}.campaign-card.dm .campaign-role{background:#fbbf242e;color:#92400e}.campaign-card.player .campaign-role{background:#60a5fa33;color:#1d4ed8}.campaign-card.active{border-color:#3b82f699;box-shadow:0 18px 36px #2563eb2e}.campaign-card.active footer span{color:#1d4ed8}.campaign-card .campaign-body{display:flex;flex-direction:column;gap:.25rem}.campaign-card h3{margin:0;font-size:1.15rem;font-weight:600;color:#0f172a}.campaign-card .campaign-world{margin:0;color:#475569;font-size:.9rem}.campaign-card footer{margin-top:auto;width:100%;display:flex;justify-content:flex-start}.campaign-card footer span{font-size:.85rem;color:#334155;font-weight:600}.campaign-pill{padding:.25rem .65rem;border-radius:999px;font-size:.7rem;text-transform:uppercase;letter-spacing:.12em;background:#3b82f633;color:#1d4ed8;font-weight:700}.home-empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.75rem;padding:2rem;color:#475569;text-align:center}.home-empty-state.error{color:#b91c1c}.home-empty-state .home-refresh{margin-top:.5rem}.spin{animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.user-menu{position:relative}.user-dropdown{position:absolute;right:0;top:56px;background:#fff;color:#0f172a;border:1px solid #e2e8f0;border-radius:6px;width:160px;box-shadow:0 4px 12px #00000026;z-index:100}.user-dropdown .user-info{padding:.5rem .75rem;font-size:.9rem;border-bottom:1px solid #e2e8f0}.user-dropdown .dropdown-action{width:100%;padding:.5rem .75rem;border:none;background:none;text-align:left;text-decoration:none;font-size:.9rem;color:inherit;cursor:pointer;display:flex;align-items:center;gap:.5rem}.user-dropdown .dropdown-action:hover{background:#f1f5f9}.user-dropdown .dropdown-action.logout{color:#b91c1c}body.theme-dark .campaign-selector{background:#0f172ad9;border:1px solid var(--color-border-subtle)}body.theme-dark .sidebar-header{border-bottom-color:var(--color-border-subtle)}body.theme-dark .nav-links a:hover{background:var(--color-bg-surface-hover)}body.theme-dark .nav-links a.active{background:var(--color-accent-primary-light)}body.theme-dark .nav-heading-btn:hover{background:var(--color-bg-surface-hover)}body.theme-dark .content{background:var(--color-bg-base);color:var(--color-text-primary)}body.theme-dark .home-page{color:var(--color-text-primary)}body.theme-dark .home-section{background:var(--color-bg-surface);box-shadow:var(--shadow-xl)}body.theme-dark .home-section-header h2{color:var(--color-text-primary)}body.theme-dark .home-section-header p{color:var(--color-text-muted)}body.theme-dark .home-link{background:#94c5ff29;color:#e0f2fe}body.theme-dark .home-link:hover,body.theme-dark .home-link:focus-visible{background:#94c5ff47;color:#f8fafc;box-shadow:0 12px 22px #3b82f659}body.theme-dark .home-refresh{background:#38bdf82e;color:#bae6fd}body.theme-dark .home-refresh:hover:not(:disabled),body.theme-dark .home-refresh:focus-visible:not(:disabled){background:#3b82f63d;box-shadow:0 18px 36px #2563eb59}body.theme-dark .home-card{background:linear-gradient(160deg,#1e293bb8,#0f172ae0);border-color:#94c5ff33;box-shadow:inset 0 1px #94c5ff38}body.theme-dark .home-card h3{color:#f1f5f9}body.theme-dark .home-card-meta{color:#e2e8f0c7}body.theme-dark .home-card-meta span{background:#60a5fa33;color:#bfdbfe}body.theme-dark .home-card-player{color:#e2e8f0b3}body.theme-dark .home-card-status.active{background:#22c55e3d;color:#86efac}body.theme-dark .home-card-status.inactive{background:#f871713d;color:#fecaca}body.theme-dark .home-widget-empty{color:#e2e8f0b3}body.theme-dark .home-widget-error{color:#fca5a5}body.theme-dark .campaign-card{background:linear-gradient(160deg,#1e293bb3,#0f172ae6);border-color:#94a3b840;color:#e2e8f0}body.theme-dark .campaign-card:hover,body.theme-dark .campaign-card:focus-visible{border-color:#818cf88c;box-shadow:0 18px 36px #0f172aa6}body.theme-dark .campaign-card h3{color:#f8fafc}body.theme-dark .campaign-card .campaign-world{color:#cbd5f5}body.theme-dark .campaign-card footer span{color:#cbd5f5}body.theme-dark .campaign-card.active footer span{color:#93c5fd}body.theme-dark .campaign-role{background:#94a3b82e;color:#e2e8f0}body.theme-dark .campaign-card.dm .campaign-role{background:#fbbf243d;color:#fcd34d}body.theme-dark .campaign-card.player .campaign-role{background:#3b82f63d;color:#bfdbfe}body.theme-dark .home-empty-state{color:#cbd5f5}body.theme-dark .home-empty-state.error{color:#fca5a5}body.theme-dark .user-dropdown{background:#1f2937;color:#e2e8f0;border-color:#1e293b;box-shadow:0 12px 30px #02081799}body.theme-dark .user-dropdown .user-info{border-bottom-color:#1f2937}body.theme-dark .user-dropdown .dropdown-action:hover{background:#111827}body.theme-dark .user-dropdown .dropdown-action.logout{color:#fca5a5}body.theme-dark .list-viewer,body.theme-dark .record-form,body.theme-dark .campaign-tab-panel{background:#1f2937;color:#e2e8f0;box-shadow:0 12px 30px #02081773;border:1px solid rgba(148,163,184,.25)}body.theme-dark .search-input.compact,body.theme-dark .form-group select,body.theme-dark .form-group input,body.theme-dark .textarea-field,body.theme-dark .readonly-value{background:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .search-input.compact:focus{border-color:#818cf899;box-shadow:0 0 0 3px #818cf833;background:#0f172ae6}body.theme-dark .search-input.compact:hover:not(:focus){border-color:#94a3b880;background:#1e293bcc}body.theme-dark .search-input.compact::placeholder{color:#94a3b8}body.theme-dark .form-group label,body.theme-dark .login-subtitle,body.theme-dark .form-group.readonly label{color:var(--color-text-secondary)}body.theme-dark .form-group.readonly .readonly-control,body.theme-dark .form-group.readonly input[disabled],body.theme-dark .form-group.readonly select[disabled],body.theme-dark .form-group.readonly textarea[disabled],body.theme-dark .form-group.readonly .textarea-field:disabled{background:var(--color-bg-header);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .form-section h3{color:var(--color-text-primary)}body.theme-dark .empty-state{color:var(--color-text-muted)}body.theme-dark table{color:var(--color-text-primary)}body.theme-dark thead{background:var(--color-bg-header)}body.theme-dark th,body.theme-dark td{border-bottom:1px solid var(--color-border-default)}body.theme-dark th{color:var(--color-text-muted);background:var(--color-bg-header);font-weight:500}body.theme-dark .group-header-row td{background:var(--color-bg-header);color:var(--color-text-primary)}body.theme-dark .group-count{color:var(--color-text-muted)}body.theme-dark .group-toggle{color:var(--color-text-secondary)}body.theme-dark .group-toggle:hover{background:var(--color-bg-surface-hover)}body.theme-dark .group-label{color:var(--color-text-inverse)}body.theme-dark tbody tr:nth-child(2n){background:var(--color-bg-surface)}body.theme-dark tbody tr:hover{background:var(--color-accent-primary-light)}body.theme-dark .icon-btn{color:var(--color-text-secondary)}body.theme-dark .icon-btn:hover{background:var(--color-bg-surface-hover)}body.theme-dark .column-picker-popover{background:var(--color-bg-surface);border-color:var(--color-border-default);box-shadow:var(--shadow-lg)}body.theme-dark .column-picker-popover,body.theme-dark .column-picker-popover label{color:var(--color-text-primary)}body.theme-dark .column-context-menu{background:var(--color-bg-base);border-color:var(--color-border-default);box-shadow:var(--shadow-xl)}body.theme-dark .column-context-menu button{color:var(--color-text-primary)}body.theme-dark .column-context-menu button:hover{background:var(--color-accent-primary-light)}body.theme-dark .list-viewer-header{background:#0f172ad9;border-radius:6px 6px 0 0;padding:.75rem 1rem;margin:-1rem -1rem .75rem;border:1px solid rgba(30,41,59,.8)}body.theme-dark .list-viewer-header h2{color:#f8fafc}body.theme-dark .list-viewer-header .btn.secondary{background:var(--color-btn-secondary);color:var(--color-btn-secondary-text);border-color:var(--color-border-default)}body.theme-dark .list-viewer-header .btn.secondary:hover{background:var(--color-btn-secondary-hover)}body.theme-dark .list-viewer-header .btn.secondary.is-active{background:var(--color-accent-primary);border-color:var(--color-accent-primary)}body.theme-dark .list-controls{background:transparent}body.theme-dark .clickable-row:hover{background:var(--color-accent-primary-light)}body.theme-dark .login-page{background:linear-gradient(135deg,var(--color-bg-sidebar),var(--color-bg-header));color:var(--color-text-primary)}body.theme-dark .login-card{background:var(--color-bg-overlay);color:var(--color-text-primary);box-shadow:var(--shadow-xl)}body.theme-dark .login-title{color:var(--color-link-hover)}body.theme-dark .login-card button[type=submit]{background:var(--color-btn-primary)}body.theme-dark .login-card button[type=submit]:hover{background:var(--color-btn-primary-hover)}body.theme-dark .error-msg{color:var(--color-error-hover);background:var(--color-error-light);border-color:var(--color-error)}body.theme-dark .entity-page-layout{background:#020817;color:#e2e8f0}body.theme-dark .entity-page-header{background:#020617eb;border-bottom:1px solid #1e293b;box-shadow:0 20px 36px #020617a6}body.theme-dark .entity-page-header__tabs .tab-nav{border-color:#1f2937}body.theme-dark .tab-nav{border-bottom-color:#1f2937}body.theme-dark .entity-header-left,body.theme-dark .entity-header-right{color:inherit}body.theme-dark .entity-header-center h1{color:#f8fafc}body.theme-dark .entity-header .btn.secondary{background:#94a3b833;color:#f8fafc;border-color:#94a3b859}body.theme-dark .entity-header .btn.secondary:hover{background:#94a3b84d}body.theme-dark .edit-mode-toggle{color:#e2e8f0}body.theme-dark .edit-mode-toggle-track{background:#1e293b}body.theme-dark .edit-mode-toggle-thumb{background:#0b1120;box-shadow:0 1px 3px #02061773}body.theme-dark .tab-nav-button{color:#cbd5f5}body.theme-dark .tab-nav-button:hover,body.theme-dark .tab-nav-button:focus-visible{color:#f8fafc;background-color:#3b82f633}body.theme-dark .tab-nav-button.is-active{color:#f8fafc;background-color:#2563eb26;border-bottom-color:#60a5fa}body.theme-dark .entity-card{background:var(--color-bg-surface);border-color:var(--color-border-default);box-shadow:var(--shadow-lg)}body.theme-dark .entity-image-card .entity-card-header p{color:#cbd5e1cc}body.theme-dark .entity-image-preview{border-color:#94a3b859;background:#0b1120}body.theme-dark .entity-image-preview.has-image{border-color:#94a3b880}body.theme-dark .entity-image-placeholder{color:#cbd5e1d9}body.theme-dark .entity-image-helper{color:#cbd5e1b3}body.theme-dark .entity-image-status{color:#f1f5f9}body.theme-dark .entity-image-preview-clear{background:#94a3b866;color:#0f172a}body.theme-dark .entity-image-preview-clear:hover,body.theme-dark .entity-image-preview-clear:focus-visible{background:#94a3b88c}body.theme-dark .entity-card--form{border-color:#818cf873;background:linear-gradient(180deg,#1e293bd9,#0f172af2 55%,#080f1efa);box-shadow:0 32px 60px #020617c7}body.theme-dark .entity-card--form .form-section h3,body.theme-dark .entity-card-header h3,body.theme-dark .entity-card-header p,body.theme-dark .entity-card-actions{color:inherit}body.theme-dark .entity-detail-shell .entity-card{background:var(--color-bg-surface);border-color:var(--color-border-default);box-shadow:var(--shadow-md)}body.theme-dark .entity-detail-shell .entity-card .entity-card-title,body.theme-dark .entity-detail-shell .form-group label,body.theme-dark .entity-detail-shell .form-group.readonly label{color:#d4d4d4}body.theme-dark .entity-detail-shell .readonly-value{background:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-card-title{color:#e2e8f0}body.theme-dark .entity-empty-state{color:#cbd5e1bf}body.theme-dark .entity-relationships-filter-mode{color:#cbd5f5}body.theme-dark .entity-relationships-filter-panel{background:var(--color-bg-surface);border:1px solid var(--color-border-default);box-shadow:var(--shadow-lg)}body.theme-dark .entity-relationships-filter-mode select{background-color:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary);background-image:linear-gradient(45deg,transparent 50%,var(--color-text-secondary) 50%),linear-gradient(135deg,var(--color-text-secondary) 50%,transparent 50%),linear-gradient(to right,var(--color-border-default),var(--color-border-default))}body.theme-dark .entity-relationships-filter-mode select:hover{border-color:#2563eb;background-color:#2563eb2e}body.theme-dark .entity-relationships-filter-mode select:focus{border-color:var(--color-focus-ring);background-color:var(--color-bg-surface-hover);box-shadow:0 0 0 3px var(--color-focus-ring)}body.theme-dark .entity-relationships-filter-option{color:#e2e8f0}body.theme-dark .entity-relationships-filter-empty{color:#94a3b8}body.theme-dark .entity-relationships-toggle p{color:#cbd5f5}.sidebar.open{transform:translate(0)}.nav-links a.active{background:#ffffff26;font-weight:600}.login-page{display:flex;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,#1e3a8a,#0f172a);color:#0f172a}.login-card{background:#fffffff2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:12px;box-shadow:0 8px 24px #0003;padding:2rem 2.5rem;width:100%;max-width:400px;display:flex;flex-direction:column;gap:1rem;animation:fadeIn .3s ease-in-out}.login-title{font-size:1.8rem;text-align:center;margin:0;color:#1e3a8a}.login-subtitle{text-align:center;color:#475569;margin-bottom:1rem}.form-group{display:flex;flex-direction:column;gap:.3rem}.entity-detail-shell .form-group label,.entity-detail-shell .form-group.readonly label{font-size:.875rem;font-weight:500;color:#525252;margin-bottom:.25rem;display:block}.form-group label,.form-group.readonly label{font-size:.875rem;color:#64748b;margin-bottom:.375rem;display:block;font-weight:400}.form-group input{padding:.6rem .8rem;border:1px solid #cbd5e1;border-radius:6px;font-size:1rem;outline:none}.form-group input:focus{border-color:#2563eb;box-shadow:0 0 0 2px #2563eb33}.login-card button[type=submit]{width:100%;background:#1e3a8a;color:#fff;border:none;border-radius:6px;padding:.75rem;font-size:1rem;font-weight:600;cursor:pointer;margin-top:.5rem;transition:background .3s}.login-card button[type=submit]:hover{background:#2563eb}.settings-page{padding:2rem;max-width:800px;margin:0 auto}.settings-container{background:#fffffff2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:12px;box-shadow:0 8px 24px #0000001a;padding:2rem 2.5rem;display:flex;flex-direction:column;gap:2rem}.settings-header{border-bottom:1px solid #e2e8f0;padding-bottom:1rem}.settings-title{font-size:1.8rem;margin:0 0 .5rem;color:#1e3a8a}.settings-subtitle{color:#475569;margin:0;font-size:1rem}.settings-section{display:flex;flex-direction:column;gap:1.5rem}.settings-section-title{font-size:1.25rem;margin:0;color:#0f172a;font-weight:600}.settings-section-description{color:#64748b;margin:0;font-size:.95rem;line-height:1.5}.settings-submit-btn{width:100%;background:#1e3a8a;color:#fff;border:none;border-radius:6px;padding:.75rem;font-size:1rem;font-weight:600;cursor:pointer;margin-top:.5rem;transition:background .3s}.settings-submit-btn:hover:not(:disabled){background:#2563eb}.settings-submit-btn:disabled{opacity:.6;cursor:not-allowed}.success-msg{color:#065f46;background:#d1fae5;border:1px solid #a7f3d0;border-radius:6px;padding:.75rem;margin-top:.5rem;font-size:.95rem}body.theme-dark .settings-container{background:#0f172af2;color:#e2e8f0}body.theme-dark .settings-title{color:#93c5fd}body.theme-dark .settings-section-title{color:#e2e8f0}body.theme-dark .settings-submit-btn{background:#1d4ed8}body.theme-dark .settings-submit-btn:hover:not(:disabled){background:#2563eb}body.theme-dark .success-msg{color:#a7f3d0;background:#10b98133;border-color:#10b98166}.error-msg{color:#b91c1c;background:#fee2e2;border:1px solid #fecaca;border-radius:6px;padding:.5rem;font-size:.9rem;text-align:center}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.list-viewer{background:#fff;border-radius:8px;padding:1rem;box-shadow:0 2px 8px #0000001a}.list-viewer-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem;flex-wrap:wrap;gap:.5rem}.list-controls{display:flex;align-items:center;gap:.5rem;position:relative}.list-viewer-table-wrapper{overflow-x:auto}@media (max-width: 768px){.list-viewer{padding:.75rem}.list-viewer-header{flex-direction:column;align-items:stretch;gap:.75rem}.list-viewer-header h2{width:100%;margin-bottom:0}.list-controls{width:100%;flex-wrap:wrap;justify-content:stretch;align-items:stretch;gap:.5rem}.list-controls>*{width:100%}.list-controls .extra-actions{display:flex;flex-wrap:wrap;gap:.5rem}.list-controls .extra-actions>*{flex:1 1 45%}.list-controls .search-input.compact,.list-controls .btn.compact,.list-controls .btn.primary{width:100%}.list-controls .column-picker-wrapper{width:100%;display:flex;justify-content:flex-end}.list-controls .column-picker-wrapper .icon-btn{margin-left:auto}.list-viewer-table-wrapper{overflow:visible}.list-viewer-table-wrapper table,.list-viewer-table-wrapper thead,.list-viewer-table-wrapper tbody,.list-viewer-table-wrapper th,.list-viewer-table-wrapper td,.list-viewer-table-wrapper tr{display:block;width:100%}.list-viewer-table-wrapper thead{display:none}.list-viewer-table-wrapper tbody{display:block}.list-viewer-table-wrapper tr{background:#fff;border:1px solid #e2e8f0;border-radius:10px;margin-bottom:1rem;overflow:hidden}.list-viewer-table-wrapper td{display:flex;align-items:flex-start;justify-content:space-between;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #e2e8f0}.list-viewer-table-wrapper td:last-child{border-bottom:none}.list-viewer-table-wrapper td:before{content:attr(data-column);flex:0 0 40%;font-weight:600;color:#334155;text-transform:none;letter-spacing:0}.list-viewer-table-wrapper td[colspan]{display:block;padding:.75rem 1rem}.list-viewer-table-wrapper td[colspan]:before{content:none}.group-header-row td{display:flex;align-items:center;gap:.5rem;border-bottom:none}.group-header-row .group-label{font-size:.95rem}}.sortable-header{cursor:pointer;-webkit-user-select:none;user-select:none}.header-label{display:inline-flex;align-items:center;gap:.35rem}.sort-indicator{font-size:.75rem;color:#475569}.group-indicator{background:#eef2ff;color:#4338ca;font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;padding:.1rem .4rem;border-radius:999px}.group-header-row td{background:#f8fafc;font-weight:600;color:#0f172a}.group-toggle{background:none;border:none;color:#475569;display:inline-flex;align-items:center;justify-content:center;padding:.15rem;margin-right:.4rem;border-radius:4px;cursor:pointer}.group-toggle:hover{background:#94a3b840}.group-label{font-weight:600;color:#0f172a}.group-count{margin-left:.35rem;color:#64748b;font-weight:500}.search-input.compact{padding:.5rem .85rem;border:1px solid rgba(148,163,184,.35);border-radius:8px;font-size:.9rem;width:240px;background:#94a3b814;color:#0f172a;transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}.search-input.compact:focus{outline:none;border-color:#4f46e580;box-shadow:0 0 0 3px #4f46e526;background:#fff}.search-input.compact:hover:not(:focus){border-color:#94a3b880;background:#94a3b81f}.search-input.compact::placeholder{color:#64748b}.icon-btn{background:none;border:none;color:#475569;cursor:pointer;padding:.3rem;border-radius:6px;transition:background .2s}.icon-btn:hover{background:#f1f5f9}.icon-btn.small{padding:.2rem}.icon-btn.small:disabled{opacity:.4;cursor:not-allowed}.icon-btn.small:disabled:hover{background:transparent}.column-picker-wrapper{position:relative}.column-picker-popover{position:absolute;right:0;top:28px;background:#fff;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 2px 8px #00000026;padding:.5rem;z-index:10;width:160px}.column-context-menu{position:fixed;background:#fff;border:1px solid #e2e8f0;border-radius:8px;box-shadow:0 12px 30px #0f172a2e;padding:.35rem 0;display:flex;flex-direction:column;min-width:180px;z-index:30}.column-context-menu button{background:none;border:none;padding:.45rem .85rem;text-align:left;font-size:.9rem;color:#0f172a;cursor:pointer}.column-context-menu button:hover{background:#f1f5f9}.empty-state{text-align:center;padding:2rem 0;color:#64748b;font-size:.95rem}.empty-actions{margin-top:.75rem}.empty-action-buttons{display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}table{width:100%;border-collapse:collapse}th,td{text-align:left;padding:.5rem .75rem;border-bottom:1px solid #e2e8f0;font-size:.9rem}th{font-weight:500;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--color-accent-primary);background:var(--color-accent-primary-light);padding:.75rem;border-bottom:1px solid var(--color-border-default)}.column-picker{display:flex;flex-direction:column;align-items:stretch;gap:.5rem}.column-picker-list{display:flex;flex-direction:column;max-height:220px;overflow-y:auto;padding-right:.25rem}.column-option{display:flex;align-items:center;font-size:.9rem;padding:.2rem 0;gap:.5rem}.column-option input{accent-color:#2563eb}.reset-btn{margin-top:.5rem;padding:.4rem .6rem;font-size:.85rem;color:#2563eb;background:#eff6ff;border:1px solid #bfdbfe;border-radius:4px;cursor:pointer;transition:background .2s}.reset-btn:hover{background:#dbeafe}.panel{background:#fff;border-radius:8px;box-shadow:0 1px 4px #0f172a1a;margin-top:1.5rem;padding:1rem;display:flex;flex-direction:column;gap:1rem}.panel-header{display:flex;align-items:center;justify-content:space-between}.panel-header h3{margin:0;font-size:1.1rem;color:#0f172a}.panel-header .btn{min-height:2.2rem;padding:.45rem .9rem}.compact-table{width:100%;border-collapse:collapse;font-size:.9rem}.compact-table th,.compact-table td{border-bottom:1px solid #e2e8f0;padding:.5rem .75rem}.compact-table th{background:var(--color-accent-primary-light);font-weight:500;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--color-accent-primary);padding:.65rem .75rem;border-bottom:1px solid var(--color-border-default)}body.theme-dark .compact-table th{color:var(--color-text-muted);background:var(--color-bg-header)}.compact-table button.btn.danger{background:#dc2626;color:#fff;border:none;padding:.35rem .75rem;border-radius:4px;cursor:pointer}.compact-table button.btn.danger:hover{background:#b91c1c}.help-text{font-size:.85rem;color:#64748b;margin-top:.25rem}.help-text.warning{color:#b45309}.campaign-editor{display:flex;flex-direction:column;gap:1.5rem}.campaign-access-cta{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:1rem;padding:1rem 1.25rem;border-radius:1rem;border:1px solid #bfdbfe;background:#eff6ff}.campaign-access-eyebrow{font-size:.8rem;text-transform:uppercase;letter-spacing:.08em;color:#1d4ed8;margin:0 0 .25rem}.campaign-access-cta h3{margin:0;font-size:1.15rem;color:#1e3a8a}.campaign-access-copy{margin:.25rem 0 0;color:#1e3a8a}.campaign-access-actions{display:flex;align-items:center;gap:.75rem}.campaign-view-wrapper{display:flex;flex-direction:column;gap:1.25rem}.campaign-tabs{display:inline-flex;align-items:flex-end;gap:.75rem;border-bottom:1px solid #e2e8f0}.campaign-tab{appearance:none;border:none;background:transparent;padding:.5rem 1rem;font-size:.95rem;font-weight:600;color:#475569;border-bottom:3px solid transparent;border-radius:.5rem .5rem 0 0;cursor:pointer;transition:color .2s ease,border-color .2s ease,background-color .2s ease}.campaign-tab:hover,.campaign-tab:focus-visible{color:#1e3a8a;background-color:#3b82f614;outline:none}.campaign-tab.is-active{color:#1e40af;border-color:#1d4ed8;background-color:#2563eb1f}.campaign-tab-panel{background:#fff;border-radius:.75rem;box-shadow:0 12px 30px #0f172a14;padding:1.5rem}body.theme-dark .campaign-tabs{border-bottom-color:#94a3b840}body.theme-dark .campaign-tab{color:#e2e8f0c7}body.theme-dark .campaign-tab:hover,body.theme-dark .campaign-tab:focus-visible{color:#eef2ff;background-color:#818cf82e}body.theme-dark .campaign-tab.is-active{color:#f8fafc;border-color:#818cf88c;background-color:#4f46e547}.campaign-membership{display:flex;flex-direction:column;gap:1.5rem}.form-section h3{color:#1e3a8a;font-size:1rem;margin-bottom:.5rem}.form-grid{display:grid;gap:1rem}.form-grid.cols-2{grid-template-columns:1fr 1fr}.form-grid.cols-3{grid-template-columns:1fr 1fr 1fr}.readonly-value{background:#f1f5f9;padding:.5rem .7rem;border-radius:4px;border:1px solid #e2e8f0;font-size:.9rem;color:#475569}.form-group.checkbox label{display:flex;align-items:center;gap:.5rem}.clickable-row{cursor:pointer;transition:background .15s}.clickable-row:hover{background:#f8fafc}.record-form{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;gap:1.5rem;position:relative;max-width:900px;width:100%;margin:2rem auto;box-sizing:border-box}.form-title{font-size:1.5rem;color:#1e3a8a;margin-bottom:.75rem}.form-section{margin-bottom:1.5rem}.form-grid{display:grid;gap:1rem;width:100%}.form-grid.cols-1{grid-template-columns:1fr}.form-grid.cols-2{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}.form-grid.cols-3{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.form-group{display:flex;flex-direction:column;gap:.4rem;width:100%;box-sizing:border-box}.form-group select,.form-group input,.textarea-field{width:100%;border:1px solid #cbd5e1;border-radius:6px;padding:.6rem .8rem;font-size:1rem;outline:none;transition:border-color .2s,box-shadow .2s;background:#fff;box-sizing:border-box}.form-group.readonly label{color:#475569}.form-group.readonly .readonly-control,.form-group.readonly input[disabled],.form-group.readonly select[disabled],.form-group.readonly textarea[disabled],.form-group.readonly .textarea-field:disabled{background:#f8fafc;border-color:#e2e8f0;color:#64748b;cursor:not-allowed}.form-group.readonly .readonly-control{cursor:not-allowed}.textarea-field{resize:vertical;min-height:100px}.form-group select:focus,.form-group input:focus,.textarea-field:focus{border-color:#2563eb;box-shadow:0 0 0 2px #2563eb33}.list-collector{display:flex;flex-direction:column;gap:.5rem;position:relative}.list-collector.disabled{opacity:.6;pointer-events:none}.list-collector-input-wrapper{position:relative}.list-collector-input{padding-right:2.2rem}.list-collector-input:focus{border-color:#2563eb;box-shadow:0 0 0 2px #2563eb33}.list-collector-icon{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);font-size:.85rem;color:#64748b;pointer-events:none}.list-collector-dropdown{position:absolute;left:0;right:0;top:calc(100% + .25rem);background:#fff;border:1px solid #dbeafe;border-radius:6px;box-shadow:0 8px 16px #0f172a1f;z-index:20;max-height:240px;overflow-y:auto}.list-collector-dropdown ul{list-style:none;margin:0;padding:.25rem 0}.list-collector-dropdown li{margin:0}.list-collector-option{width:100%;padding:.55rem .85rem;text-align:left;background:transparent;border:none;font-size:.95rem;color:#1f2937;cursor:pointer;transition:background .15s ease-in-out}.list-collector-option:hover,.list-collector-option:focus{background:#eff6ff;outline:none}.list-collector-empty{padding:.75rem .85rem;font-size:.9rem;color:#64748b}.list-collector-pills{display:flex;flex-wrap:wrap;gap:.4rem}.list-collector-pill{display:inline-flex;align-items:center;gap:.35rem;background:#e0f2fe;border:1px solid #bae6fd;color:#0369a1;border-radius:999px;padding:.3rem .65rem;font-size:.85rem}.list-collector-pill .pill-label{max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pill-remove{background:transparent;border:none;color:inherit;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;width:1.25rem;height:1.25rem;border-radius:999px;transition:background .15s ease-in-out}.pill-remove:hover,.pill-remove:focus{background:#0759851f;outline:none}.select-wrapper{position:relative;width:100%}.select-wrapper:after{content:"";position:absolute;right:.75rem;top:50%;transform:translateY(-50%);font-size:.8rem;color:#64748b;pointer-events:none}.form-group.checkbox{flex-direction:row;align-items:center;gap:.5rem;padding-top:.25rem}.form-group.readonly{display:flex;flex-direction:column}.entity-detail-shell .readonly-value{width:100%;background:#f5f5f5;border:1px solid #d4d4d4;border-radius:.375rem;padding:.5rem .75rem;font-size:.95rem;color:#404040;box-sizing:border-box}.entity-detail-shell textarea.readonly-value,.entity-detail-shell .readonly-value[style*=textarea],.entity-detail-shell textarea[readonly]{min-height:120px;resize:none}.readonly-value{background:#f1f5f9;border:1px solid #e2e8f0;border-radius:6px;padding:.6rem .8rem;font-size:.95rem;color:#475569}.record-view{gap:1rem}.record-view .form-actions{justify-content:flex-end}.entity-page-layout{--entity-page-max-width: 1280px;--entity-page-inline-padding: clamp(1rem, 3vw, 1.5rem);--entity-header-height: 120px;background:#f8fafc;padding-bottom:2.5rem;padding-top:calc(56px + var(--entity-header-height));overflow-x:hidden;width:100%}.entity-page-layout__inner{width:100%;display:block}.entity-page-header{position:fixed;top:56px;left:0;right:0;z-index:30;width:100%;background:#fffffff7;border-bottom:1px solid #e2e8f0;box-shadow:0 12px 24px #0f172a14;padding:0;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:left .3s ease,width .3s ease}.content.pinned .entity-page-header{left:316.8px;width:calc(100% - 316.8px)}.entity-page-header__inner{width:min(100%,var(--entity-page-max-width));margin:0 auto;padding:1rem var(--entity-page-inline-padding) .5rem;display:flex;flex-direction:column;gap:.5rem;box-sizing:border-box;position:relative}.entity-page-header__inner .entity-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-left:0;margin-left:0}.entity-page-header__inner .entity-header h1{font-size:1.875rem;line-height:2.25rem;font-weight:600;margin:0}@media (max-width: 767px){.entity-page-header__inner .entity-header h1.entity-header-title-mobile{font-size:1.25rem!important;line-height:1.5rem!important}.entity-page-header__inner .entity-header{margin-bottom:.5rem;padding-right:2.5rem}}.entity-page-header__tabs{width:100%;display:flex;gap:.5rem;margin-bottom:2.5rem}.entity-detail-topbar{position:fixed;top:56px;left:0;right:0;z-index:20;background:#fff;border-bottom:1px solid #ddd}.entity-detail-shell{max-width:1024px;margin-left:auto;margin-right:auto;padding-left:1.5rem;padding-right:1.5rem;padding-top:2rem;padding-bottom:0;display:flex;flex-direction:column;box-sizing:border-box}.entity-detail-body{display:flex;flex-direction:column;gap:1.5rem}.entity-detail-page--mobile.entity-page-layout{--entity-page-inline-padding: 1rem;--entity-header-height: 70px;padding-bottom:2rem;padding-top:calc(56px + var(--entity-header-height))}.entity-detail-page--mobile .entity-page-header__inner{padding:.5rem var(--entity-page-inline-padding) .25rem}.entity-page-header__drag-handle{display:none;position:absolute;top:.5rem;right:var(--entity-page-inline-padding);background:transparent;border:none;padding:.25rem;cursor:pointer;color:#64748b;z-index:10;transition:transform .2s ease,color .2s ease;width:32px;height:32px;align-items:center;justify-content:center}.entity-page-header__drag-handle:hover{color:#1e293b}.entity-page-header__drag-handle svg{display:block;transition:transform .3s ease}.entity-page-header__drag-handle svg.rotated{transform:rotate(180deg)}.entity-page-header__tabs--collapsed{max-height:0;overflow:hidden;margin:0;opacity:0;padding:0;transition:max-height .3s ease,opacity .3s ease,margin .3s ease,padding .3s ease}.entity-page-header__tabs{transition:max-height .3s ease,opacity .3s ease,margin .3s ease}.entity-page-header--collapsed{--entity-header-height: 70px}.entity-page-header--collapsed .entity-page-header__inner{padding-bottom:.5rem}@media (max-width: 767px){.entity-page-header__drag-handle{display:flex}.entity-page-header--collapsed{--entity-header-height: 70px}.entity-detail-page--mobile.entity-page-layout{--entity-header-height: 70px;padding-top:calc(56px + var(--entity-header-height))}.entity-page-header--collapsed .entity-page-header__inner{padding-bottom:.5rem}.entity-page-header:not(.entity-page-header--collapsed){--entity-header-height: auto}.entity-detail-page--mobile.entity-detail-page--header-expanded.entity-page-layout{--entity-header-height: auto;padding-top:196px}}.entity-detail-page--mobile .entity-detail-shell{margin-top:1rem;gap:1rem;padding-top:0}.entity-detail-page--mobile .entity-detail-body{gap:1.25rem}.entity-detail-page--mobile .tab-nav-button{flex:1 0 auto;text-align:center;font-size:.9rem;padding:.5rem .65rem}.entity-header{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.25rem 0}.entity-header-left,.entity-header-right{display:flex;align-items:center;gap:.5rem}.entity-header-right{margin-left:auto}.entity-header-actions{display:flex;align-items:center;gap:.75rem}.edit-mode-toggle{display:inline-flex;align-items:center;gap:.5rem;padding:.25rem .5rem;border:none;background:none;cursor:pointer;font-size:.95rem;font-weight:600;color:#1f2937;border-radius:999px;transition:color .2s ease,box-shadow .2s ease}.edit-mode-toggle:focus-visible{color:inherit;outline:none;box-shadow:0 0 0 3px #2563eb59}.edit-mode-toggle-track{position:relative;width:2.75rem;height:1.5rem;background:#cbd5f5;border-radius:999px;transition:background .2s ease}.edit-mode-toggle-thumb{position:absolute;top:.2rem;left:.2rem;width:1.1rem;height:1.1rem;background:#fff;border-radius:50%;box-shadow:0 1px 3px #0f172a40;transition:transform .2s ease}.edit-mode-toggle.is-active .edit-mode-toggle-track{background:#2563eb}.edit-mode-toggle.is-active .edit-mode-toggle-thumb{transform:translate(1.25rem)}.edit-mode-toggle-text{white-space:nowrap}.entity-header-left{justify-content:flex-start;gap:.75rem}.entity-header-center{flex:1;min-width:200px;display:flex;align-items:center}.entity-header-center h1{margin:0;font-size:1.6rem;font-weight:700;color:#0f172a;line-height:1.2}.entity-dossier-header{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1.5rem;align-items:stretch}@media (min-width: 768px){.entity-dossier-header{grid-template-columns:repeat(3,minmax(0,1fr))}}.entity-dossier-header-content{display:flex;flex-direction:column;gap:1.5rem;min-width:0}@media (min-width: 768px){.entity-dossier-header-content{grid-column:span 2}}.entity-dossier-header-card--editing{border:1px solid rgba(148,163,184,.45);box-shadow:none;padding:1.5rem}.entity-dossier-header--editing{align-items:flex-start}.entity-dossier-description{display:flex;flex-direction:column;gap:.75rem}.entity-card-subtitle{margin:0;margin-bottom:.5rem;font-size:1rem;font-weight:500;color:#475569;letter-spacing:-.025em}.entity-dossier-header-image{display:flex;justify-content:center;align-items:flex-start}@media (min-width: 768px){.entity-dossier-header-image{justify-content:flex-end;align-items:center}}.entity-dossier-header-image img{border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 1px 2px #0000000d;max-width:260px;width:100%;height:auto;object-fit:cover;display:block}.entity-dossier-header-image--manager{width:min(320px,100%);aspect-ratio:auto;border-radius:0;background:transparent;box-shadow:none;padding:0;overflow:visible}.entity-dossier-header-image--manager .entity-image-card--compact{max-width:100%}.entity-edit-form-wrapper{padding:0}.entity-edit-form-container{display:grid;grid-template-columns:minmax(0,1fr) auto;gap:1.5rem;align-items:flex-start;padding:1.25rem}.entity-edit-form-content{min-width:0}.entity-edit-form-image{width:min(320px,100%);flex-shrink:0;padding-top:2.75rem}.entity-edit-form-content .record-form>.form-section:first-child{margin-top:0}.entity-edit-form-content .record-form>h2.form-title:first-child{margin-top:0;margin-bottom:1.25rem}@media (max-width: 768px){.entity-dossier-header{grid-template-columns:1fr}.entity-dossier-header-image{width:100%;justify-content:center;margin:0}.entity-dossier-header-image--manager{width:100%;margin:0}.entity-edit-form-container{grid-template-columns:1fr;gap:1.25rem}.entity-edit-form-image{width:100%;order:-1;padding-top:0}}.tab-nav{display:flex;align-items:center;gap:.25rem;border-bottom:1px solid #e2e8f0;overflow-x:auto;padding:0;margin:0;background:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tab-nav::-webkit-scrollbar{display:none}.tab-nav-button{appearance:none;padding:.55rem .85rem;font-size:.95rem;font-weight:600;color:#334155;border-radius:.65rem .65rem 0 0;cursor:pointer;transition:color .2s ease,background-color .2s ease,border-color .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;position:relative;background-color:#94a3b814;border:1px solid rgba(148,163,184,.2);border-bottom:3px solid transparent}.tab-nav-button:hover,.tab-nav-button:focus-visible{color:#1e3a8a;background-color:#94a3b82e;border-bottom-color:#94a3b899;outline:none}.tab-nav-button::selection{background:transparent;color:inherit}.tab-nav-button::-moz-selection{background:transparent;color:inherit}.tab-nav-button.is-active{color:#1d4ed8;background-color:#2563eb1f;border-color:#2563eb40;border-bottom-color:#2563eb}.entity-tab-content{display:flex;flex-direction:column;gap:1rem}.entity-card{background:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 12px 24px #0f172a14;padding:1.25rem;display:flex;flex-direction:column;gap:1.25rem;width:100%;box-sizing:border-box}.entity-detail-shell .entity-card{background:#fff;border:1px solid #e5e7eb;box-shadow:0 1px 2px #0000000d;border-radius:.75rem;padding:1.5rem;margin-bottom:1.5rem;width:100%;box-sizing:border-box}.entity-detail-shell .entity-card:first-child{margin-top:0}.entity-detail-shell .entity-card:last-child{margin-bottom:0}.entity-detail-shell .entity-card>*{margin-left:0;margin-right:0;padding-left:0;padding-right:0}.entity-image-card .entity-card-header p{color:#64748b;font-size:.95rem;margin-top:.25rem}.entity-image-preview{position:relative;border-radius:.9rem;border:1px dashed #cbd5f5;background:#f8fafc;min-height:220px;display:flex;align-items:center;justify-content:center;overflow:hidden}.entity-image-preview.has-image{border-style:solid;border-color:#94a3b8;background:#0f172a;height:220px}.entity-image-preview img{width:100%;height:100%;object-fit:cover;object-position:center;background:#0f172a;display:block}.image-cropper{width:100%;display:flex;flex-direction:column;gap:.75rem;align-items:center}.image-cropper__frame{position:relative;border-radius:1rem;border:2px dotted #cbd5f5;background:#020617;overflow:hidden;cursor:grab;touch-action:none;display:flex;align-items:center;justify-content:center}.image-cropper__frame.is-dragging{cursor:grabbing}.image-cropper__frame img{position:absolute;top:0;left:0;-webkit-user-select:none;user-select:none;pointer-events:none}.image-cropper__outline{position:absolute;inset:.35rem;border:2px dotted rgba(248,250,252,.85);border-radius:inherit;pointer-events:none}.image-cropper__instructions{position:absolute;bottom:.75rem;left:50%;transform:translate(-50%);background:#020617a6;color:#f8fafc;font-size:.85rem;padding:.25rem .6rem;border-radius:999px;pointer-events:none}.image-cropper__zoom{width:100%;display:flex;flex-direction:column;gap:.35rem;color:#475569;font-size:.9rem}.image-cropper__zoom input[type=range]{accent-color:#6366f1}.image-cropper__zoom--disabled{color:#94a3b8;font-size:.85rem;text-align:center}.entity-image-placeholder{text-align:center;color:#64748b;display:flex;flex-direction:column;gap:.5rem;font-size:.95rem;align-items:center}.entity-image-actions{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.75rem}.entity-image-helper{margin-top:.75rem;font-size:.9rem;color:#6b7280}.entity-image-status{margin-top:.35rem;font-size:.9rem;color:#475569}.entity-image-status--error{color:#b91c1c}.entity-image-preview-clear{position:absolute;top:.75rem;right:.75rem;border:none;border-radius:999px;width:2.25rem;height:2.25rem;background:#0f172acc;color:#fff;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.entity-image-preview-clear:hover,.entity-image-preview-clear:focus-visible{background:#0f172af2}.entity-image-preview-clear:disabled{opacity:.6;cursor:not-allowed}.entity-image-action-label{display:inline-flex;align-items:center;gap:.35rem}.entity-image-card--compact{border-radius:1rem;border:1px solid rgba(148,163,184,.6);padding:1rem;background:#f8fafc;box-shadow:none;max-width:320px;width:100%;gap:1rem}.entity-image-card--compact .entity-card-header{flex-direction:column;align-items:flex-start;gap:.35rem}.entity-image-card--compact .entity-card-header p{margin:0;font-size:.85rem;color:#475569}.entity-image-card--compact .entity-card-title{font-size:1rem}.entity-image-card--compact .entity-card-body{gap:1rem}.entity-image-card--compact .entity-image-preview{min-height:160px}.entity-image-card--compact .entity-image-preview.has-image{height:160px}.entity-image-card--compact .entity-image-actions{flex-direction:column;align-items:stretch}.entity-image-card--compact .entity-image-helper{font-size:.8rem}.entity-image-card--compact .entity-card-actions{width:100%;justify-content:space-between;flex-wrap:wrap;gap:.4rem}.entity-card--form{border:1px solid rgba(99,102,241,.25);box-shadow:0 18px 32px #4f46e514,0 12px 30px #0f172a14;background:linear-gradient(180deg,#edf2ffcc,#ffffffeb 24%,#fff 60%)}.entity-card--form .record-form{margin:0;padding:0;background:transparent;box-shadow:none;max-width:none;width:100%}.entity-card--form .form-section{margin-bottom:1.25rem}.entity-card--form .form-grid{gap:1.25rem}.entity-card--form .form-grid.cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.entity-card--form .form-grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.entity-card--form .form-grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.entity-card--form .form-section h3{color:#0f172a}.entity-card-header{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}.entity-card-actions{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.entity-card-header--subtle{padding-bottom:.75rem;border-bottom:1px solid #e2e8f0}.entity-access-card .entity-access-note{margin-bottom:1rem;color:#64748b}.entity-access-columns{display:grid;gap:1.5rem}@media (min-width: 768px){.entity-access-columns{grid-template-columns:repeat(2,minmax(0,1fr))}}.entity-access-column h3{font-size:1.1rem;margin-bottom:.75rem;color:#0f172a}.entity-access-card .form-group{margin-bottom:1.25rem}.entity-access-card .list-collector{width:100%}.entity-access-card .help-text{margin-top:.5rem}body.theme-dark .entity-access-card .entity-access-note,body.theme-dark .entity-access-card .help-text{color:#cbd5f5}.entity-form .access-settings-toggle{margin:1.5rem 0 .75rem;display:flex;flex-direction:column;gap:.5rem}.entity-form .access-settings-toggle .help-text{margin:0;color:#64748b}body.theme-dark .entity-form .access-settings-toggle .help-text{color:#cbd5f5}.entity-form .drawer-access-card{margin-top:0;padding:1.25rem}.entity-form .drawer-access-card .entity-card-title{margin-bottom:.5rem}body.theme-dark .entity-access-column h3{color:#e2e8f0}.entity-secret-form .help-text{margin-top:.5rem;color:#64748b}.entity-secret-form .help-text:last-child{margin-bottom:0}body.theme-dark .entity-secret-form .help-text{color:#cbd5f5}.entity-secret-form .list-collector{width:100%}.entity-secret-form-body{display:flex;flex-direction:column;gap:1.5rem}.entity-secret-share-grid{display:grid;gap:1.5rem;grid-template-columns:1fr}@media (min-width: 640px){.entity-secret-share-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}.entity-secret-share-grid .form-group{min-width:0}.entity-secret-share-grid .list-collector{width:100%;min-width:0}.entity-secret-actions{display:flex;justify-content:flex-end}.entity-secret-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:1.5rem}.entity-secret-item{background:#f8fafc;border:1px solid #e2e8f0;border-radius:1rem;padding:1.5rem;display:flex;flex-direction:column;gap:1rem}body.theme-dark .entity-secret-item{background:#1f2937;border-color:#334155}.entity-secret-header h3{margin:0;font-size:1.05rem;color:#0f172a}body.theme-dark .entity-secret-header h3{color:#e2e8f0}.entity-secret-meta{display:flex;flex-wrap:wrap;gap:.75rem;font-size:.85rem;color:#64748b}body.theme-dark .entity-secret-meta{color:#cbd5f5}.entity-secret-content{margin:0;white-space:pre-wrap;line-height:1.6;color:#1f2937}body.theme-dark .entity-secret-content{color:#e2e8f0}.entity-secret-shared{display:flex;flex-direction:column;gap:.5rem;font-size:.9rem;color:#334155}body.theme-dark .entity-secret-shared{color:#cbd5f5}.entity-secret-share-list{list-style:none;margin:.35rem 0 0;padding:0;display:flex;flex-wrap:wrap;gap:.5rem}.entity-secret-share-pill{background:#e2e8f0;color:#0f172a;padding:.25rem .75rem;border-radius:999px;font-size:.85rem}body.theme-dark .entity-secret-share-pill{background:#1f2937;border:1px solid #475569;color:#e2e8f0}.entity-detail-shell .entity-card .entity-card-title{font-size:1.25rem;line-height:1.75rem;font-weight:600;margin:0;margin-bottom:1rem;color:#0f172a}.entity-detail-shell .entity-card>.entity-card-body{display:flex;flex-direction:column;gap:1rem}.entity-card-body{display:flex;flex-direction:column;gap:1.5rem}.entity-detail-shell .entity-card .entity-field-grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1.5rem}@media (min-width: 768px){.entity-detail-shell .entity-card .entity-field-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}.entity-detail-shell .entity-card .entity-field-grid[style*="--entity-field-columns: 1"]{grid-template-columns:repeat(1,minmax(0,1fr))}.entity-detail-shell .entity-card .entity-field-grid>*{margin:0!important}.entity-empty-state{margin:0;font-style:italic;color:#64748b}.entity-relationships-table-wrapper{overflow-x:auto}.entity-relationships-filter{position:relative}.entity-relationships-filter-panel{position:absolute;top:calc(100% + .5rem);right:0;width:min(320px,90vw);background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 18px 36px #0f172a1f;padding:1rem;display:flex;flex-direction:column;gap:1rem;z-index:30}.entity-relationships-filter-section{display:flex;flex-direction:column;gap:.5rem}.entity-relationships-filter-mode{display:flex;align-items:center;justify-content:space-between;gap:.75rem;font-size:.95rem;color:#0f172a}.entity-relationships-filter-mode select{flex:0 0 auto;min-width:11rem;padding:.35rem 2.25rem .35rem .75rem;border:1px solid #cbd5f5;border-radius:999px;background-color:#f8fafc;background-image:linear-gradient(45deg,transparent 50%,#1e293b 50%),linear-gradient(135deg,#1e293b 50%,transparent 50%),linear-gradient(to right,#cbd5f5,#cbd5f5);background-position:calc(100% - 1.2rem) center,calc(100% - .8rem) center,calc(100% - 2.2rem) center;background-size:.45rem .45rem,.45rem .45rem,1px 55%;background-repeat:no-repeat;color:#0f172a;font-size:.9rem;font-weight:500;line-height:1.4;appearance:none;cursor:pointer;transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease}.entity-relationships-filter-mode select:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb26;background-color:#fff}.entity-relationships-filter-mode select:hover{border-color:#94a3b8;background-color:#f1f5f9}.entity-relationships-filter-mode select:disabled{cursor:not-allowed;opacity:.7;background-color:#e2e8f0;border-color:#cbd5f5;color:#475569}.entity-relationships-filter-options{max-height:180px;overflow-y:auto;display:flex;flex-direction:column;gap:.4rem;padding-right:.25rem}.entity-relationships-filter-option{display:flex;align-items:center;gap:.5rem;font-size:.9rem;color:#334155}.entity-relationships-filter-option input[type=checkbox]{accent-color:#2563eb}.entity-relationships-filter-empty{margin:0;font-size:.9rem;color:#64748b}.entity-relationships-filter-actions{display:flex;justify-content:space-between;gap:.75rem}.entity-relationships-table{width:100%;border-collapse:collapse;min-width:420px}.entity-relationships-table th,.entity-relationships-table td{text-align:left;padding:.75rem;border-bottom:1px solid var(--color-border-default)}.entity-relationships-table th{font-weight:500;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--color-accent-primary);background:var(--color-accent-primary-light)}body.theme-dark .entity-relationships-table th{color:var(--color-text-muted);background:var(--color-bg-header)}.entity-relationships-table tbody tr:hover{background:#f8fafc}.entity-relationships-toggle{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}.entity-relationships-toggle p{margin:0;font-size:.95rem;color:#475569}@media (max-width: 900px){.entity-page-layout{padding:0 1rem 2rem}.entity-page-header{padding:.75rem 0 .5rem}.entity-detail-shell{margin-top:1rem;padding-top:112px;gap:1rem}.entity-header{flex-direction:column;align-items:flex-start;gap:.75rem}.entity-header-left,.entity-header-right{width:100%;justify-content:flex-start;flex-wrap:wrap}.entity-header-right{margin-left:0}.entity-header-left .btn,.entity-header-right .btn{width:100%}.tab-nav{flex-wrap:wrap;gap:.35rem}.entity-card{padding:1.1rem}.sticky-actions{margin:1.5rem -1.5rem -1.5rem;padding:.85rem 1.5rem}.entity-field-grid{grid-template-columns:1fr}}.record-info{background:#eff6ff;border:1px solid #bfdbfe;color:#1d4ed8;padding:.75rem 1rem;border-radius:6px;margin:0}.form-actions{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;gap:.5rem;flex-wrap:wrap}.sticky-actions{position:sticky;bottom:0;margin:2rem -2rem -2rem;padding:1rem 2rem;background:#fff;border-top:1px solid #e2e8f0;box-shadow:0 -8px 24px #0f172a1a;display:flex;justify-content:space-between;gap:1rem;border-bottom-left-radius:1rem;border-bottom-right-radius:1rem}body.theme-dark .sticky-actions{background:#0f172aeb;border-top:1px solid rgba(148,163,184,.25);box-shadow:0 -14px 32px #020617b3}.left-actions{display:flex;align-items:center;gap:.5rem;min-height:2.5rem}.right-actions{display:flex;gap:.5rem}.form-feedback{margin:0;padding:.75rem 1rem;border-radius:6px;font-size:.95rem;font-weight:500;box-shadow:inset 0 0 0 1px #94a3b859;color:#0f172a;background:#eef2ff}.form-feedback.success{color:#1e3a8a;background:#e0f2fe;box-shadow:inset 0 0 0 1px #3b82f640}.form-feedback.error{color:#991b1b;background:#fee2e2;box-shadow:inset 0 0 0 1px #ef444440}.btn{display:inline-flex;align-items:center;justify-content:center;gap:.35rem;padding:.55rem 1.1rem;min-height:2.5rem;min-width:2.5rem;border-radius:8px;font-size:.95rem;font-weight:500;line-height:1;border:1px solid transparent;cursor:pointer;white-space:nowrap;transition:background-color .2s ease,box-shadow .2s ease,border-color .2s ease,color .2s ease;box-sizing:border-box;background:var(--color-btn-default);color:var(--color-btn-default-text)}.btn.compact{padding:.4rem .8rem;min-height:2rem;font-size:.85rem}.btn:focus-visible{outline:3px solid var(--color-focus-ring);outline-offset:2px}.btn:disabled{opacity:.6;cursor:not-allowed}.btn.secondary{background:var(--color-btn-secondary);color:var(--color-btn-secondary-text);border-color:var(--color-border-default)}.btn.secondary:hover:not(:disabled){background:var(--color-btn-secondary-hover)}.btn.secondary.is-active{background:var(--color-accent-primary);border-color:var(--color-accent-primary);color:var(--color-text-inverse)}.btn.secondary.is-active:hover:not(:disabled){background:var(--color-accent-primary-hover)}.btn.ghost{background:var(--color-btn-ghost);color:var(--color-btn-ghost-text);border-color:var(--color-border-default)}.btn.ghost:hover:not(:disabled){background:var(--color-btn-ghost-hover)}.btn.secondary.compact.is-active{background:var(--color-accent-primary-light);color:var(--color-accent-primary);border-color:var(--color-accent-primary-light)}.btn.cancel{background:var(--color-bg-surface-hover);color:var(--color-text-primary);border-color:var(--color-border-default)}.btn.cancel:hover:not(:disabled){background:var(--color-bg-surface-active)}.btn.submit{background:var(--color-btn-primary);color:var(--color-btn-primary-text)}.btn.submit:hover:not(:disabled){background:var(--color-btn-primary-hover)}.btn.delete{background:var(--color-btn-danger);color:var(--color-btn-danger-text)}.btn.delete:hover:not(:disabled){background:var(--color-btn-danger-hover)}.btn.neutral{background:var(--color-btn-default);color:var(--color-btn-default-text)}.btn.neutral:hover:not(:disabled){background:var(--color-btn-default-hover)}.link-btn{background:none;border:none;color:var(--color-link);font-weight:600;cursor:pointer;padding:0;transition:color .2s ease}.link-btn:hover,.link-btn:focus{color:var(--color-link-hover);text-decoration:underline}.entity-types-page,.entity-type-fields-page{display:flex;flex-direction:column;gap:1rem}.entity-type-fields-header{display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;gap:.75rem}.entity-type-fields-heading{display:flex;flex-direction:column;gap:.35rem}.entity-type-fields-heading h1{margin:0;font-size:1.6rem;color:#0f172a}.entity-type-fields-subtitle{margin:0;color:#64748b;font-size:.95rem}.link-button{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .5rem;border:none;background:transparent;color:#1d4ed8;font-size:.95rem;font-weight:600;cursor:pointer}.link-button:hover,.link-button:focus-visible{color:#1e40af;text-decoration:underline;outline:none}.link-button.disabled{color:#94a3b8;cursor:not-allowed}.link-button.disabled:hover,.link-button.disabled:focus-visible{color:#94a3b8;text-decoration:none}.inline-create-trigger{margin-top:.5rem}.inline-create-hint{margin-top:.35rem;font-size:.9rem;color:#64748b}.inline-create-hint.disabled{color:#94a3b8}.entity-types-header{display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;gap:.75rem}.entity-types-header h1{margin:0;font-size:1.6rem;color:#0f172a}.entity-types-subtitle{margin:.25rem 0 0;color:#64748b;font-size:.95rem}body.theme-dark .entity-types-header h1{color:#f8fafc}body.theme-dark .entity-types-subtitle{color:#cbd5f5}.alert{padding:.75rem 1rem;border-radius:8px;font-size:.95rem;border:1px solid transparent}.alert.info{background:#e0f2fe;border-color:#bae6fd;color:#0c4a6e}.alert.warning{background:#fef3c7;border-color:#fcd34d;color:#92400e}.alert.error{background:#fee2e2;border-color:#fecaca;color:#991b1b}body.theme-dark .alert.info{background:#3b82f633;border-color:#3b82f673;color:#bfdbfe}body.theme-dark .alert.warning{background:#fbbf2433;border-color:#fbbf2473;color:#fde68a}body.theme-dark .alert.error{background:#f8717138;border-color:#f8717173;color:#fecaca}.toast-banner{padding:.65rem 1rem;border-radius:8px;font-size:.95rem;font-weight:500;box-shadow:0 4px 12px #0f172a1f;align-self:flex-start}.toast-banner.info{background:#eef2ff;color:#3730a3}.toast-banner.success{background:#dcfce7;color:#166534}.toast-banner.error{background:#fee2e2;color:#b91c1c}.toast-banner-link{margin-left:.75rem;font-weight:600;text-decoration:underline;color:var(--accent-primary, #2563eb)}body.theme-dark .toast-banner{box-shadow:0 12px 30px #02061799}body.theme-dark .toast-banner.info{background:#4f46e547;color:#e0e7ff}body.theme-dark .toast-banner.success{background:#22c55e38;color:#bbf7d0}body.theme-dark .toast-banner.error{background:#f8717138;color:#fecaca}.toast-banner-link:hover{text-decoration:none}.drawer-panel-open{overflow:hidden}.drawer-panel-wrapper{position:fixed;inset:0;z-index:1000;display:flex;justify-content:flex-end;align-items:stretch;pointer-events:none}.drawer-panel-overlay{position:absolute;inset:0;background:#0006;opacity:0;transition:opacity .3s ease-in-out;pointer-events:auto}.drawer-panel-wrapper--open .drawer-panel-overlay{opacity:1}.drawer-panel{position:relative;height:100%;width:var(--drawer-panel-width, min(420px, 100vw));max-width:100%;background:var(--color-bg-elevated);color:var(--color-text-primary);box-shadow:var(--shadow-xl);display:flex;flex-direction:column;transform:translate(100%);transition:transform .3s ease-in-out;pointer-events:auto;border-radius:16px 0 0 16px;overflow:hidden;border-left:1px solid var(--color-border-default)}.drawer-panel-wrapper--open .drawer-panel{transform:translate(0)}.drawer-panel-wrapper--closing .drawer-panel-overlay{opacity:0}.drawer-panel-wrapper--closing .drawer-panel{transform:translate(100%)}.drawer-panel--sm{--drawer-panel-width: min(360px, 100vw)}.drawer-panel--md{--drawer-panel-width: min(420px, 100vw)}.drawer-panel--lg{--drawer-panel-width: min(560px, 100vw)}.drawer-panel-header{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;padding:1.5rem 1.75rem 1.25rem;border-bottom:1px solid var(--color-border-default);background:inherit}.drawer-panel-heading h2{margin:0;font-size:1.35rem;font-weight:600;color:var(--color-text-primary);line-height:1.3}.drawer-panel-description{margin:.5rem 0 0;color:var(--color-text-muted);font-size:.9rem;line-height:1.5;font-weight:400}.drawer-panel-body{flex:1 1 auto;overflow-y:auto;padding:1.5rem 1.75rem;display:flex;flex-direction:column;gap:1.5rem}.drawer-panel-footer{padding:1.25rem 1.75rem;border-top:1px solid var(--color-border-default);display:flex;gap:.75rem;justify-content:flex-end;background:inherit;box-shadow:0 -8px 16px #0000000d;flex-wrap:wrap}.drawer-panel .icon-btn{font-size:1.5rem;line-height:1;padding:.25rem;width:2.25rem;height:2.25rem;background:transparent;border:none;color:inherit;border-radius:999px;cursor:pointer}.drawer-panel .icon-btn:hover{background:var(--color-bg-surface-hover)}.drawer-panel .icon-btn:focus-visible{outline:2px solid var(--color-focus-ring);outline-offset:2px}.drawer-panel .icon-btn:focus-visible{outline:2px solid var(--accent-primary, #2563eb);outline-offset:2px}.drawer-panel .entity-form{max-width:none;height:100%}@media (max-width: 640px){.drawer-panel--mobile-full{border-radius:0;--drawer-panel-width: 100vw}.drawer-panel-footer{justify-content:center}}body.theme-dark .drawer-panel-overlay{background:#020617bf;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}body.theme-dark .drawer-panel{background:var(--color-bg-elevated);color:var(--color-text-primary);border-left-color:var(--color-border-default);box-shadow:var(--shadow-xl)}body.theme-dark .drawer-panel-header{background:var(--color-bg-elevated);border-bottom-color:var(--color-border-default)}body.theme-dark .drawer-panel-heading h2{color:var(--color-text-primary)}body.theme-dark .drawer-panel-description{color:var(--color-text-muted)}body.theme-dark .drawer-panel-footer{background:var(--color-bg-elevated);border-top-color:var(--color-border-default);box-shadow:0 -8px 16px #0000004d}body.theme-dark .drawer-panel .icon-btn{color:var(--color-text-secondary)}body.theme-dark .drawer-panel .icon-btn:hover,body.theme-dark .drawer-panel .icon-btn:focus-visible{background:var(--color-bg-surface-hover);color:var(--color-text-primary)}body.theme-dark .drawer-field-hint{color:#94a3b8}body.theme-dark .drawer-section-divider{background:#1e293b}body.theme-dark .entity-mini-create-inline{border-color:#1e293b;background:#0f172abf}.entity-mini-create-inline{margin-top:1rem;padding:1rem;border:1px solid rgba(17,24,39,.12);border-radius:.5rem;background:#f9fafba6}.entity-mini-create-inline .form-two-column{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:.75rem}.entity-mini-create-inline .form-two-column .form-group{flex:1 1 240px;margin-bottom:0}.entity-mini-create-inline .inline-actions{display:flex;gap:.75rem;justify-content:flex-end;margin-top:.75rem}.form-group.entity-select-highlight select{border-color:#22c55e99;box-shadow:0 0 #22c55e00;animation:entityAddedHighlight 2s ease-out}@keyframes entityAddedHighlight{0%{box-shadow:0 0 0 4px #22c55e59}to{box-shadow:0 0 #22c55e00}}.entity-mini-create-inline .form-error.warning{background:#fef3c7;border-color:#fde68a;color:#b45309}.drawer-field-hint{margin-top:.35rem;color:var(--text-muted, #4b5563);font-size:.9rem}.drawer-section-divider{margin:1.5rem -1.5rem;border-top:1px solid rgba(17,24,39,.08)}.helper-hint{margin-top:.35rem;font-size:.9rem;color:var(--text-muted, #4b5563)}.helper-hint strong{color:var(--text-primary, #111827)}.advanced-options{margin-top:1.5rem;border:1px solid rgba(17,24,39,.08);border-radius:.75rem;background:var(--surface-base, #fff);overflow:hidden}.advanced-options-toggle{width:100%;display:flex;align-items:center;gap:.75rem;padding:.9rem 1.2rem;background:transparent;border:none;font-size:1rem;font-weight:600;cursor:pointer;text-align:left}.advanced-options-toggle:hover{background:#1118270a}.advanced-options-toggle:focus-visible{outline:2px solid var(--accent-primary, #2563eb);outline-offset:2px}.advanced-indicator{margin-left:auto;margin-right:.5rem;font-size:.85rem;color:var(--accent-primary, #2563eb);font-weight:500}.advanced-chevron{font-size:1.1rem;color:var(--text-muted, #4b5563)}.advanced-options-body{border-top:1px solid rgba(17,24,39,.08);background:#f9fafba6;padding:1.2rem}.entity-types-table-wrapper{background:#fff;border-radius:8px;box-shadow:0 1px 4px #0f172a14;overflow:hidden}.entity-types-table tbody tr:hover{background:#f8fafc}.entity-types-table .description-cell{max-width:420px;color:#475569}.relationship-types-page .entity-types-table td:nth-child(2),.relationship-types-page .entity-types-table td:nth-child(3),.relationship-types-page .entity-types-table td:nth-child(6){color:#475569}body.theme-dark .entity-types-table-wrapper{background:#0f172ad9;box-shadow:0 18px 36px #020617a6;border:1px solid rgba(148,163,184,.35)}body.theme-dark .entity-types-table tbody tr:hover{background:#6366f12e}body.theme-dark .entity-types-table .description-cell{color:#e2e8f0cc}body.theme-dark .relationship-types-page .entity-types-table td:nth-child(2),body.theme-dark .relationship-types-page .entity-types-table td:nth-child(3),body.theme-dark .relationship-types-page .entity-types-table td:nth-child(6){color:#e2e8f0bf}.actions-column{width:140px}.entity-type-actions{display:flex;align-items:center;gap:.4rem}.field-card-metadata{display:grid;gap:.5rem}.field-card-metadata div{display:flex;justify-content:space-between;gap:.75rem;font-size:.95rem;color:#334155}.field-card-metadata dt{font-weight:600;color:#0f172a}.field-card-metadata dd{margin:0;text-align:right;color:#475569}.entity-type-field-form .form-grid{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}.entity-type-field-form .form-group-full{grid-column:1 / -1}.entity-type-field-form .checkbox-group{flex-direction:column;gap:.35rem}.entity-type-field-form .checkbox-control{display:inline-flex;align-items:center;gap:.5rem;font-weight:600;color:#0f172a}.field-hint{font-size:.85rem;color:#64748b}.icon-btn.danger{color:#b91c1c}.icon-btn.danger:hover{background:#fee2e2}.entity-type-cards{display:none;gap:.75rem}.entity-type-card{background:#fff;border-radius:10px;box-shadow:0 1px 4px #0f172a1f;padding:1rem 1.1rem;display:flex;flex-direction:column;gap:.6rem}.field-layout-card,.field-rules-card{background:#fff;border-radius:12px;box-shadow:0 1px 4px #0f172a1f;padding:1rem 1.25rem;display:flex;flex-direction:column;gap:.75rem}.layout-card-actions{display:flex;align-items:center;gap:.5rem}.btn.ghost{background:transparent;border:1px solid #c7d2fe;color:#1d4ed8;padding:.45rem .9rem;border-radius:8px;font-weight:600}.btn.ghost:hover,.btn.ghost:focus-visible{background:#eef2ff;border-color:#818cf8}.field-layout-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.5rem}.field-layout-row{display:flex;align-items:center;justify-content:space-between;border:1px solid #e2e8f0;border-radius:10px;padding:.6rem .8rem;background:#f8fafc}.field-layout-info{display:flex;align-items:center;gap:.85rem}.field-layout-index{width:28px;height:28px;border-radius:999px;background:#e0f2fe;color:#0369a1;font-weight:600;display:inline-flex;align-items:center;justify-content:center}.field-layout-details{display:flex;flex-direction:column;gap:.1rem}.field-layout-name{font-weight:600;color:#0f172a}.field-layout-meta{font-size:.85rem;color:#64748b}.layout-controls{display:flex;gap:.35rem}.field-rules-list{display:flex;flex-direction:column;gap:.75rem}.field-rule-card{border:1px solid #e2e8f0;border-radius:12px;padding:.85rem .95rem;display:flex;justify-content:space-between;gap:1rem}.field-rule-content h3{margin:0 0 .35rem;font-size:1.05rem;color:#0f172a}.field-rule-match{margin:0 0 .5rem;font-size:.9rem;color:#475569}.field-rule-condition-list{margin:0 0 .4rem;padding-left:1.1rem;color:#334155}.field-rule-condition-list li{margin-bottom:.2rem}.field-rule-action-list{display:flex;flex-wrap:wrap;gap:.35rem}.field-rule-action-list span{background:#e0f2fe;color:#0c4a6e;border-radius:999px;padding:.2rem .6rem;font-size:.85rem}.field-rule-controls{display:flex;gap:.35rem;align-items:flex-start}.field-rule-card .icon-btn{width:32px;height:32px}.field-rule-form .field-rule-editor-section{margin-top:1rem;padding-top:.75rem;border-top:1px solid #e2e8f0;display:flex;flex-direction:column;gap:.5rem}.field-rule-editor-heading{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.field-rule-list{display:flex;flex-direction:column;gap:.5rem}.field-rule-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.5rem;align-items:center;background:#f8fafc;border:1px solid #e2e8f0;border-radius:10px;padding:.5rem}.field-rule-row .icon-btn{justify-self:flex-end}.field-rule-enum-values{display:flex;flex-wrap:wrap;gap:.35rem}.field-rule-enum-option{display:inline-flex;align-items:center;gap:.35rem;padding:.2rem .6rem;border-radius:999px;border:1px solid #cbd5f5;background:#fff;font-size:.85rem;color:#0f172a}.field-rule-enum-option input{margin:0}.card-header{display:flex;justify-content:space-between;align-items:center;gap:.75rem}.card-header h3{margin:0;font-size:1.1rem;color:#0f172a}.card-description{margin:0;color:#475569;line-height:1.4}.card-meta{margin:0;color:#64748b;font-size:.85rem}.card-placeholder{text-align:center;background:#fff;border-radius:8px;padding:1rem;color:#475569}body.theme-dark .entity-type-card,body.theme-dark .field-layout-card,body.theme-dark .field-rules-card{background:#0f172ad9;border:1px solid rgba(148,163,184,.35);box-shadow:0 18px 36px #020617a6;color:#e2e8f0}body.theme-dark .field-layout-row{border-color:#94a3b859;background:#0f172a99}body.theme-dark .field-layout-index{background:#0ea5e940;color:#bae6fd}body.theme-dark .card-placeholder{background:#0f172ad9;color:#cbd5f5}.side-panel-overlay{position:fixed;inset:0;background:#0f172a73;display:flex;justify-content:flex-end;align-items:stretch;z-index:30;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}@keyframes slideInPanel{0%{transform:translate(40px);opacity:0}to{transform:translate(0);opacity:1}}.side-panel{width:min(420px,100%);background:#fff;height:100%;display:flex;flex-direction:column;box-shadow:-4px 0 16px #0f172a2e;animation:slideInPanel .25s ease-out}.side-panel-header{display:flex;align-items:center;justify-content:space-between;padding:1.2rem 1.5rem .5rem}.side-panel-header h2{margin:0;font-size:1.25rem;color:#0f172a}.side-panel-content{padding:0 1.5rem 1.5rem;overflow-y:auto;flex:1}.entity-type-form{display:flex;flex-direction:column;gap:1rem}.entity-type-form .form-group input,.entity-type-form .form-group textarea{width:100%}.relationship-type-form{display:flex;flex-direction:column;gap:1rem}.relationship-type-form .checkbox-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.5rem}.relationship-type-form .checkbox-control{display:inline-flex;align-items:center;gap:.5rem;font-weight:600;color:#0f172a}.relationship-type-form .checkbox-control input{width:auto}.relationship-type-form .field-hint{margin:0}.form-error{background:#fee2e2;color:#b91c1c;border:1px solid #fecaca;border-radius:6px;padding:.65rem .75rem;font-size:.9rem}@media (max-width: 768px){.entity-types-table-wrapper{display:none}.entity-type-cards{display:flex;flex-direction:column}}.entities-page,.entities-header{display:flex;flex-direction:column;gap:1rem}.entities-header-top{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;flex-wrap:wrap}.entities-header-left{display:flex;flex-direction:column;gap:.25rem}.entities-header-controls-row{display:flex;align-items:center;justify-content:space-between;gap:.75rem;flex-wrap:wrap;width:100%}.entities-header-controls-row .entities-controls{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;margin-left:auto}.entities-filters-refresh-group{display:flex;align-items:center;gap:.5rem}.entities-importance-filters{display:flex;gap:6px;align-items:center;padding:.35rem .6rem;border-radius:8px;background:#94a3b814;border:1px solid rgba(148,163,184,.2);margin-right:.5rem}.importance-filter{font-size:.8125rem;padding:6px 12px;border-radius:6px;transition:all .15s ease}.importance-filter.importance-critical.is-active{background:#dc2626;color:#fff;border-color:#dc2626}.importance-filter.importance-important.is-active{background:#ea580c;color:#fff;border-color:#ea580c}.importance-filter.importance-medium.is-active{background:#6b7280;color:#fff;border-color:#6b7280}.importance-filter-clear{padding:6px 8px;min-width:auto}body.theme-dark .entities-importance-filters{background:#1e293b99;border-color:#94a3b84d}.entity-importance-indicator{display:inline-block;margin-right:6px;font-size:.875rem;vertical-align:middle}.importance-badge{display:inline-block;padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:600;background:var(--importance-color, #6b7280);color:#fff}.entities-header h1{margin:0;font-size:1.6rem;color:var(--color-text-primary)}.entities-subtitle{margin:.4rem 0 0;color:var(--color-text-muted);font-size:.9rem;font-weight:400;letter-spacing:.01em}body.theme-dark .entities-subtitle{color:var(--color-text-muted);opacity:.85}.entities-filter-chip{display:inline-flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.3rem .65rem;background:#e0f2fe;color:#0369a1;border-radius:999px;font-size:.85rem;font-weight:600}.entities-filter-chip .link-btn{color:inherit}.entities-controls{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.entities-page--mobile .entities-controls{flex-direction:column;align-items:stretch;gap:.75rem}.entities-page--mobile .entities-controls>*{width:100%}.entities-page--mobile .entities-controls .btn{justify-content:center}.entities-page--mobile .entities-controls .search-input{width:100%}@media (max-width: 768px){.entities-header{gap:.75rem}.entities-header-controls-row{flex-direction:column;align-items:stretch;gap:.75rem}.entities-header-controls-row .search-input.compact{width:100%}.entities-header-controls-row .entities-controls{margin-left:0;width:100%;flex-wrap:wrap}.entities-importance-filters{width:100%;justify-content:center;margin-right:0}}@media (max-width: 640px){.entities-header-top{flex-direction:column;align-items:stretch;gap:.5rem}.entities-header h1{font-size:1.4rem}.entities-header-controls-row{gap:.75rem;flex-direction:column;align-items:stretch}.entities-header-controls-row .search-input.compact{width:100%;box-sizing:border-box}.entities-header-controls-row .entities-importance-filters{width:100%;margin-right:0;box-sizing:border-box}.entities-controls{display:flex;flex-direction:column;gap:.75rem;width:100%;margin-left:0}.entities-filters-refresh-group{display:flex;align-items:center;gap:.5rem;width:100%;box-sizing:border-box}.entities-filters-refresh-group .btn{flex:1;box-sizing:border-box}.entities-filters-refresh-group .icon-btn{flex:0 0 auto;min-width:44px;width:44px;height:44px;box-sizing:border-box}.entities-column-menu-wrapper{width:100%;box-sizing:border-box}.entities-column-menu-wrapper .btn{width:100%;justify-content:center;box-sizing:border-box}.entities-importance-filters{flex-wrap:wrap;justify-content:flex-start;padding:.5rem;box-sizing:border-box}.entities-importance-filters .importance-filter{flex:1 1 auto;min-width:calc(33.333% - 4px);box-sizing:border-box}.search-input.compact{width:100%!important;box-sizing:border-box}.entities-header-controls-row .btn.submit{width:100%;justify-content:center;margin-top:0;box-sizing:border-box}}.entities-group-row td{background:#f1f5f9;font-weight:600;color:#0f172a}.entities-group-label{margin-left:.35rem}.entities-group-count{margin-left:.35rem;color:#64748b;font-weight:500}.entities-column-menu-wrapper{position:relative}.entities-column-drawer-overlay{position:fixed;inset:0;display:flex;justify-content:flex-end;background:#0f172a73;z-index:30}.entities-column-drawer{width:min(420px,90vw);max-width:100%;height:100%;background:#fff;box-shadow:-12px 0 32px #0f172a2e;display:flex;flex-direction:column}.entities-column-drawer-header{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;padding:1.25rem 1.5rem;border-bottom:1px solid #e2e8f0;background:#fff;position:sticky;top:0;z-index:1}.entities-column-drawer-header h3{margin:0;font-size:1.05rem;color:#0f172a}.entities-column-info{margin:.35rem 0 0;font-size:.85rem;color:#64748b}.entities-column-drawer-body{flex:1;overflow-y:auto;padding:1rem 1.5rem;display:flex;flex-direction:column;gap:.75rem}.entities-column-hint{margin:0;font-size:.85rem;color:#475569;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:.75rem}.entities-column-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.5rem}.entities-column-item{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.6rem .75rem;border-radius:10px;border:1px solid transparent;background:#f8fafc;transition:border-color .2s ease,background-color .2s ease,box-shadow .2s ease}.entities-column-item:hover{border-color:#cbd5f5;background:#f1f5f9}.entities-column-item.is-selected{border-color:#cbd5f5;background:#eef2ff}.entities-column-item.is-dragging{background:#e0e7ff;box-shadow:0 12px 24px #0f172a2e}.entities-column-item.is-drop-target{border-color:#2563eb}.entities-column-item-main{display:flex;align-items:center;gap:.6rem;flex:1;min-width:0}.entities-column-item-main input{width:16px;height:16px}.entities-column-name{flex:1;font-weight:600;font-size:.92rem;color:#0f172a;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.entities-column-type-badge{display:inline-flex;align-items:center;font-size:.7rem;font-weight:600;color:#475569;background:#e2e8f0;border-radius:999px;padding:.15rem .5rem;text-transform:uppercase}.entities-column-handle{display:inline-flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:8px;border:1px solid transparent;background:#e2e8f0;color:#475569;cursor:grab;transition:background-color .2s ease,color .2s ease,border-color .2s ease}.entities-column-handle:hover{background:#cbd5f5;color:#1e293b}.entities-column-handle.is-disabled{cursor:not-allowed;opacity:.55;background:#f1f5f9;color:#94a3b8}.entities-column-dropzone{margin-top:.5rem;border:1px dashed #cbd5f5;border-radius:8px;padding:.65rem;font-size:.85rem;color:#475569;background:#f8fafc;text-align:center;transition:border-color .2s ease,background-color .2s ease,color .2s ease}.entities-column-dropzone.is-active{border-color:#2563eb;background:#e0f2fe;color:#1e3a8a}.entities-column-empty{margin:0;font-size:.85rem;color:#94a3b8}.entities-column-error{margin:0;font-size:.85rem;color:#b91c1c}.entities-column-drawer-footer{padding:1rem 1.5rem;border-top:1px solid #e2e8f0;background:#fff;display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;flex-wrap:wrap;position:sticky;bottom:0}.entities-column-footer-left,.entities-column-footer-right{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.entities-column-admin{display:flex;flex-direction:column;align-items:flex-start;gap:.25rem;border-left:1px solid #e2e8f0;padding-left:.75rem;margin-left:.75rem}.entities-column-admin-label{font-size:.75rem;font-weight:600;color:#475569;text-transform:uppercase;letter-spacing:.04em}body.theme-dark .entities-column-drawer{background:#0f172a;box-shadow:-18px 0 36px #02061799;border-left:1px solid #1e293b}body.theme-dark .entities-column-drawer-header{background:#0b1628f2;border-bottom:1px solid #1e293b}body.theme-dark .entities-column-drawer-header h3{color:#f8fafc}body.theme-dark .entities-column-info{color:#94a3b8}body.theme-dark .entities-column-drawer-body{background:transparent}body.theme-dark .entities-column-hint{background:#0f172ab3;border-color:#1e293b;color:#cbd5f5}body.theme-dark .entities-column-item{background:#0f172aa6;border-color:#1e293b}body.theme-dark .entities-column-item:hover{border-color:#2563eb;background:#2563eb2e}body.theme-dark .entities-column-item.is-selected{border-color:#2563eb;background:#2563eb40}body.theme-dark .entities-column-item.is-dragging{background:#2563eb4d;box-shadow:0 18px 40px #02061799}body.theme-dark .entities-column-name{color:#f8fafc}body.theme-dark .entities-column-type-badge{background:#94a3b833;color:#cbd5f5}body.theme-dark .entities-column-handle{background:#94a3b82e;border:1px solid #1e293b;color:#cbd5f5}body.theme-dark .entities-column-handle:hover{background:#94a3b852;color:#f8fafc}body.theme-dark .entities-column-handle.is-disabled{background:#0f172a80;color:#64748b}body.theme-dark .entities-column-dropzone{border-color:#1e293b;background:#0f172aa6;color:#cbd5f5}body.theme-dark .entities-column-dropzone.is-active{border-color:#2563eb;background:#2563eb40;color:#f8fafc}body.theme-dark .entities-column-empty{color:#94a3b8}body.theme-dark .entities-column-error{color:#fca5a5}body.theme-dark .entities-column-drawer-footer{background:#0b1628f2;border-top:1px solid #1e293b}body.theme-dark .entities-column-admin{border-left-color:#1e293b}body.theme-dark .entities-column-admin-label{color:#94a3b8}.entities-table-wrapper{background:#fff;border-radius:8px;box-shadow:0 1px 4px #0f172a14;overflow:hidden}.entities-table td{vertical-align:top}.entities-table tbody tr:hover{background:#f8fafc}.entities-table .entity-name-link{color:#1d4ed8;font-weight:600;text-decoration:none}.entities-table .entity-name-link:hover,.entities-table .entity-name-link:focus{text-decoration:underline}.entity-actions{display:flex;align-items:center;gap:.4rem}.visibility-badge{display:inline-flex;align-items:center;justify-content:center;padding:.2rem .55rem;border-radius:999px;font-size:.8rem;font-weight:600;text-transform:capitalize}.visibility-badge.badge-visible{background:#dcfce7;color:#166534}.visibility-badge.badge-partial{background:#fef3c7;color:#b45309}.visibility-badge.badge-hidden{background:#e2e8f0;color:#475569}body.theme-dark .entities-table-wrapper{background:#0f172a;box-shadow:0 18px 36px #0206178c;border:1px solid #1e293b}body.theme-dark .entities-table tbody tr:hover{background:#3b82f61f}body.theme-dark .entities-table .entity-name-link{color:#93c5fd}body.theme-dark .entities-table .entity-name-link:hover,body.theme-dark .entities-table .entity-name-link:focus{color:#bfdbfe}body.theme-dark .visibility-badge.badge-visible{background:#22c55e2e;color:#bbf7d0}body.theme-dark .visibility-badge.badge-partial{background:#eab3082e;color:#fde68a}body.theme-dark .visibility-badge.badge-hidden{background:#94a3b840;color:#e2e8f0}.condition-modal-backdrop{position:fixed;inset:0;background:#0f172a73;display:flex;align-items:center;justify-content:center;padding:1.5rem;z-index:40}.condition-modal{background:#fff;border-radius:12px;box-shadow:0 25px 40px #0f172a3d;width:min(520px,95vw);max-height:90vh;overflow-y:auto;padding:1.25rem 1.5rem;display:flex;flex-direction:column;gap:1rem}.condition-modal-header{display:flex;align-items:center;justify-content:space-between;gap:.75rem}.condition-modal-header h2{margin:0;font-size:1.25rem;color:#0f172a}.condition-logic{display:flex;flex-direction:column;gap:.5rem;color:#475569}.logic-toggle{display:flex;flex-wrap:wrap;gap:.5rem}.logic-btn{border:1px solid #cbd5f5;background:#f1f5f9;color:#1e293b;border-radius:999px;padding:.4rem .8rem;font-size:.85rem;cursor:pointer}.logic-btn.is-active{background:#2563eb;color:#fff;border-color:#2563eb}.condition-list{display:flex;flex-direction:column;gap:.6rem}.condition-row{display:grid;grid-template-columns:minmax(140px,1.2fr) minmax(140px,1.2fr) minmax(140px,1fr) auto;gap:.5rem;align-items:center}.condition-row select,.condition-row input{width:100%;padding:.35rem .5rem;border:1px solid #cbd5f5;border-radius:6px;font-size:.9rem}.condition-value.placeholder{color:#94a3b8;font-size:.85rem}.condition-actions{display:flex;justify-content:space-between;align-items:center;gap:.75rem;flex-wrap:wrap}.condition-action-right{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:flex-end}@media (max-width: 640px){.condition-row{grid-template-columns:1fr}}body.theme-dark .condition-modal-backdrop{background:#020617a6}body.theme-dark .condition-modal{background:#0f172a;color:#e2e8f0;border:1px solid #1e293b;box-shadow:0 28px 56px #020617a6}body.theme-dark .condition-modal-header h2{color:#f8fafc}body.theme-dark .condition-logic{color:#cbd5f5}body.theme-dark .logic-btn{border-color:#1e293b;background:#0f172abf;color:#e2e8f0}.unsaved-dialog-backdrop{position:fixed;inset:0;background:#0f172a8c;display:flex;align-items:center;justify-content:center;padding:1.5rem;z-index:45}.unsaved-dialog{width:min(460px,95vw);background:#fff;border-radius:16px;box-shadow:0 30px 45px #0f172a4d;padding:1.75rem;display:flex;flex-direction:column;gap:1.25rem}.unsaved-dialog-header{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.unsaved-dialog-label{margin:0 0 .3rem;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:#94a3b8}.unsaved-dialog-header h2{margin:0;font-size:1.35rem;color:#0f172a}.unsaved-dialog-body p{margin:0 0 .85rem;color:#475569;line-height:1.5}.unsaved-dialog-body p:last-child{margin-bottom:0}.unsaved-dialog-help{font-size:.9rem;color:#94a3b8}.unsaved-dialog-actions{display:flex;flex-direction:column;gap:.5rem}.unsaved-dialog-actions .btn{white-space:normal;text-align:center}@media (min-width: 640px){.unsaved-dialog-actions{flex-direction:row;justify-content:flex-end}.unsaved-dialog-actions .btn{flex:1}}body.theme-dark .unsaved-dialog-backdrop{background:#020617b3}body.theme-dark .unsaved-dialog{background:#0f172a;border:1px solid #1e293b;box-shadow:0 30px 60px #020617bf}body.theme-dark .unsaved-dialog-header h2{color:#f8fafc}body.theme-dark .unsaved-dialog-label,body.theme-dark .unsaved-dialog-help,body.theme-dark .unsaved-dialog-body p{color:#cbd5f5}body.theme-dark .logic-btn.is-active{background:#2563eb;border-color:#2563eb;color:#f8fafc}body.theme-dark .condition-row select,body.theme-dark .condition-row input{background:#0f172acc;border-color:#1e293b;color:#f8fafc}body.theme-dark .condition-row select:focus,body.theme-dark .condition-row input:focus{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb40;outline:none}body.theme-dark .condition-value.placeholder{color:#94a3b8}body.theme-dark .condition-actions{color:inherit}.entity-form{display:flex;flex-direction:column;gap:1rem}.entity-form-image-wrapper{display:flex;gap:1rem;align-items:flex-start;flex-wrap:wrap}.entity-form-image-panel{flex:0 0 160px;display:flex;flex-direction:column;gap:.75rem}.entity-form-image-panel .entity-image-preview{width:160px;min-height:160px;height:160px}.entity-form-image-panel .entity-image-preview img{object-fit:cover}.entity-form-image-panel-actions{display:flex;flex-direction:column;gap:.5rem}.entity-form-image-fields{flex:1;min-width:0;display:flex;flex-direction:column;gap:1rem}.entity-form-upload-section{display:flex;flex-direction:column;gap:.5rem}.entity-form-upload-preview{border:1px dashed #cbd5f5;border-radius:.75rem;padding:.5rem;background:#f8fafc;display:flex;align-items:center;justify-content:center;min-height:150px}.entity-form-upload-preview img{max-width:100%;max-height:190px;object-fit:contain;display:block}@media (max-width: 640px){.entity-form-image-wrapper{flex-direction:column}.entity-form-image-panel{flex-direction:row;flex-wrap:wrap}.entity-form-image-panel .entity-image-preview{width:120px;min-height:120px}.entity-form-image-panel-actions{width:100%;flex-direction:row;flex-wrap:wrap}}.perspective-toggle{border:1px solid #e2e8f0;border-radius:8px;padding:.85rem 1rem 1rem;background:#f8fafc;display:flex;flex-direction:column;gap:.6rem}.perspective-toggle legend{margin:0;font-size:.95rem;font-weight:600;color:#0f172a}.perspective-toggle-options{display:flex;flex-direction:column;gap:.4rem}.perspective-toggle-option{display:flex;align-items:center;gap:.5rem;padding:.45rem .6rem;border-radius:6px;border:1px solid transparent;font-size:.95rem;cursor:pointer;background:#fff;transition:border-color .15s ease,background .15s ease}.perspective-toggle-option input{margin:0}.perspective-toggle-option span{color:#0f172a}.perspective-toggle-option:hover,.perspective-toggle-option:focus-within{border-color:#cbd5f5}.perspective-toggle-option.active{border-color:#6366f1;background:#eef2ff}.perspective-toggle-option.disabled{cursor:not-allowed;opacity:.7}.entity-form .form-group{display:flex;flex-direction:column;gap:.35rem}.entity-form .form-group input,.entity-form .form-group select,.entity-form .form-group textarea{padding:.5rem .65rem;border:1px solid #cbd5f5;border-radius:6px;font-size:.95rem}.entity-form textarea{resize:vertical;min-height:120px}.reference-field-control{display:flex;flex-direction:column;gap:.5rem}.reference-field-input-row{display:flex;align-items:center;gap:.5rem}.reference-field-info-btn{flex-shrink:0;color:#64748b}.reference-field-info-btn:hover,.reference-field-info-btn:focus-visible{color:#1e293b}body.theme-dark .reference-field-info-btn{color:#cbd5f5}body.theme-dark .reference-field-info-btn:hover,body.theme-dark .reference-field-info-btn:focus-visible{color:#fff}.reference-field-control select{min-height:2.5rem}.form-two-column{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.metadata-editor{border:1px solid #e2e8f0;border-radius:8px;padding:1rem;background:#f8fafc;display:flex;flex-direction:column;gap:.85rem}.metadata-header{display:flex;align-items:center;justify-content:space-between;gap:.75rem}.metadata-header h3{margin:0;font-size:1rem;color:#0f172a}.metadata-list{display:flex;flex-direction:column;gap:.75rem}.metadata-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr)) auto;gap:.5rem;align-items:center}.metadata-actions{display:flex;align-items:center;justify-content:center}.metadata-actions .icon-btn{color:#b91c1c}.metadata-actions .icon-btn:hover{background:#fee2e2}.form-loading{text-align:center;padding:1.5rem 0;color:#475569}.empty-title{font-weight:600;margin-bottom:.35rem;color:#0f172a}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.entity-select{position:relative}.entity-select.disabled .entity-select-input{cursor:not-allowed;background-color:#e2e8f0;color:#475569}.entity-select-input-wrapper{display:flex;align-items:center;position:relative}.entity-select-input{width:100%;padding:.5rem 2.25rem .5rem .75rem;border:1px solid #cbd5f5;border-radius:.5rem;font-size:.95rem;line-height:1.5;color:#0f172a}.entity-select-input:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px #6366f126}.entity-select-clear{position:absolute;right:.6rem;background:transparent;border:none;color:#64748b;font-size:1.1rem;cursor:pointer;line-height:1;padding:.15rem}.entity-select-clear:hover{color:#334155}.entity-select-dropdown{position:absolute;top:calc(100% + .25rem);left:0;right:0;background:#fff;border:1px solid #cbd5f5;border-radius:.75rem;box-shadow:0 10px 30px #0f172a2e;z-index:10;padding:.35rem 0;max-height:18rem;display:flex;flex-direction:column}.entity-select-results{list-style:none;margin:0;padding:0;max-height:12rem;overflow-y:auto}.entity-select-option{display:flex;justify-content:space-between;align-items:center;padding:.45rem .85rem;cursor:pointer;font-size:.9rem;color:#0f172a}.entity-select-option:hover,.entity-select-option.selected{background:#eef2ff}.entity-select-option-type{font-size:.78rem;color:#6366f1;margin-left:.75rem}.entity-select-status,.entity-select-error{padding:.6rem .85rem;font-size:.85rem;color:#475569}.entity-select-error{color:#dc2626}.entity-select-load-more{align-self:center;margin:.4rem .65rem .65rem;padding:.35rem .75rem;background:#6366f1;color:#fff;border:none;border-radius:.45rem;cursor:pointer;font-size:.85rem}.entity-select-load-more:hover{background:#4f46e5}@media (max-width: 640px){.entities-controls{justify-content:flex-start}.metadata-row{grid-template-columns:1fr}.metadata-actions{justify-content:flex-start}}.entity-link-with-preview{display:inline-flex;align-items:center;gap:.35rem}.entity-info-trigger{border:none;background:transparent;display:inline-flex;align-items:center;justify-content:center;padding:.1rem;color:#94a3b8;cursor:pointer;transition:color .15s ease}.entity-info-trigger:hover,.entity-info-trigger:focus-visible{color:#334155}.entity-info-trigger--field-button{background:#fff;border:1.5px solid #cbd5e1;border-radius:.375rem;padding:.3rem .5rem;color:#475569;transition:all .2s ease;box-shadow:0 1px 2px #0f172a14}.entity-info-trigger--field-button:hover,.entity-info-trigger--field-button:focus-visible{background:#f8fafc;border-color:#94a3b8;color:#1e293b;box-shadow:0 2px 4px #0f172a1f;transform:translateY(-1px)}.relationship-phrase{font-weight:500;color:#111827}.entity-relationship-link{color:#2563eb;text-decoration:none}.entity-relationship-link:hover{text-decoration:underline}.entities-column-item{display:flex;justify-content:space-between;align-items:center;padding:6px 8px;border-radius:6px;background:#f8f9fa;color:#222;margin-bottom:4px;border:1px solid #ddd;transition:background .15s ease,border .15s ease}.entities-column-item:hover{background:#f1f3f5}.entities-column-item.is-dragging{opacity:.5;background:#e0f0ff;border-color:#4da3ff}.entities-column-handle{cursor:grab;opacity:.6}.entities-column-handle:active{cursor:grabbing}.drop-indicator{height:3px;background:#4da3ff;border-radius:1px;margin:4px 0;transition:opacity .1s}.drop-indicator.end{margin-top:6px}.entities-column-type-badge{background:#e9ecef;border-radius:4px;font-size:11px;padding:2px 6px;color:#555}.entities-column-name{margin-left:6px;flex:1}.entity-notes-page-wrapper{max-width:1024px;margin-left:auto;margin-right:auto;padding-left:1.5rem;padding-right:1.5rem;padding-top:2rem;padding-bottom:0;box-sizing:border-box;width:100%;min-width:0}.entity-notes-card-strict{background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;padding:1.5rem;margin-bottom:1.5rem;width:100%;box-sizing:border-box;min-width:0;max-width:none}.entity-notes-header-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.entity-notes-title{font-size:1.25rem;line-height:1.75rem;font-weight:600;margin:0;color:#0f172a}.entity-notes-campaign-line{font-size:.875rem;color:#525252;margin:0;margin-bottom:1rem}.entity-notes-tabs-row{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.entity-notes-strict-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.entity-notes-strict-title{font-size:1.25rem;line-height:1.75rem;font-weight:600;margin:0;color:#0f172a}.entity-notes-strict-campaign{font-size:.875rem;color:#525252;margin:0;margin-bottom:1rem}.entity-notes-strict-tabs{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.entity-notes-strict-tab-button{background:none;border:1px solid #d4d4d4;border-radius:.375rem;padding:.5rem 1rem;font-size:.875rem;color:#525252;cursor:pointer;transition:all .2s}.entity-notes-strict-tab-button:hover{background:#f5f5f5;border-color:#a3a3a3}.entity-notes-strict-tab-button.active{background:#2563eb;border-color:#2563eb;color:#fff}.entity-notes-strict-filter{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.entity-notes-strict-filter-label{font-size:.875rem;font-weight:500;color:#525252}.entity-notes-strict-filter-select{border:1px solid #d4d4d4;border-radius:.375rem;padding:.25rem .75rem;font-size:.875rem;color:#0f172a;background:#fff;cursor:pointer}.entity-notes-strict-empty{font-size:.875rem;color:#737373;margin:0}.entity-notes-strict-list{display:flex;flex-direction:column;gap:0}.entity-notes-strict-note-item{border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;margin-bottom:1rem}.entity-notes-strict-note-item:last-child{margin-bottom:0}.entity-notes-strict-note-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.entity-notes-strict-note-title-row{display:flex;align-items:center;gap:.5rem}.entity-notes-strict-note-title{font-weight:600;color:#0f172a}.entity-notes-strict-note-visibility{font-size:.75rem;background:#e5e7eb;color:#404040;border-radius:.25rem;padding:.125rem .5rem}.entity-notes-strict-note-timestamp{font-size:.75rem;color:#737373}.entity-notes-strict-note-body{font-size:.875rem;color:#404040;margin:0;margin-bottom:1rem}.entity-notes-strict-note-actions{display:flex;align-items:center;gap:.75rem}.entity-notes-strict-edit-button{font-size:.875rem;border:1px solid #d4d4d4;border-radius:.375rem;padding:.25rem .75rem;background:#fff;color:#404040;cursor:pointer;transition:background .2s;font-family:inherit}.entity-notes-strict-edit-button:hover{background:#f5f5f5}.entity-notes-strict-delete-button{font-size:.875rem;border:1px solid #fca5a5;border-radius:.375rem;padding:.25rem .75rem;background:#fff;color:#b91c1c;cursor:pointer;transition:background .2s;font-family:inherit}.entity-notes-strict-delete-button:hover{background:#fef2f2}.entity-notes-strict-delete-button:disabled{opacity:.5;cursor:not-allowed}.entity-notes-strict-edit-panel{border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem}.entity-notes-strict-textarea{width:100%;border:1px solid #d4d4d4;border-radius:.375rem;padding:.5rem .75rem;font-size:.875rem;margin-bottom:1rem;min-height:120px;resize:none;font-family:inherit;box-sizing:border-box}.entity-notes-strict-share-label{font-size:.875rem;font-weight:500;color:#525252;margin:0;margin-bottom:.5rem}.entity-notes-strict-share-options{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.entity-notes-strict-share-option{display:flex;align-items:center;gap:.5rem;font-size:.875rem;cursor:pointer}.entity-notes-strict-share-option input[type=radio]{margin:0;cursor:pointer}.entity-notes-strict-edit-actions{display:flex;align-items:center;gap:1rem}.entity-notes-strict-mentions{display:flex;flex-direction:column;gap:1rem}.entity-notes-strict-mentions-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.entity-notes-strict-mention-toggle{display:flex;gap:.5rem}.entity-notes-strict-mention-toggle-button{background:none;border:1px solid #d4d4d4;border-radius:.375rem;padding:.5rem 1rem;font-size:.875rem;color:#525252;cursor:pointer;transition:all .2s}.entity-notes-strict-mention-toggle-button:hover{background:#f5f5f5;border-color:#a3a3a3}.entity-notes-strict-mention-toggle-button.active{background:#2563eb;border-color:#2563eb;color:#fff}.entity-notes-strict-mention-count{margin-left:.5rem;background:#fff3;border-radius:999px;padding:.125rem .5rem;font-size:.75rem}.entity-notes-strict-alert{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem;border-radius:.375rem;margin-bottom:1rem}.entity-notes-strict-alert.error{background:#fee2e2;border:1px solid #fecaca;color:#991b1b}.entity-notes-strict-alert p{margin:0;font-size:.875rem}.entity-notes-strict-loading{display:flex;align-items:center;gap:.5rem;padding:1rem;color:#525252;font-size:.875rem}.entity-notes-strict-loading .spin{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.btn-primary{background:var(--color-btn-primary);color:var(--color-btn-primary-text);border:none;border-radius:.375rem;padding:.5rem 1rem;font-size:.875rem;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:background .2s}.btn-primary:hover:not(:disabled){background:var(--color-btn-primary-hover)}.btn-primary:disabled{opacity:.5;cursor:not-allowed}.btn-secondary{background:var(--color-bg-elevated);color:var(--color-text-secondary);border:1px solid var(--color-border-default);border-radius:.375rem;padding:.5rem 1rem;font-size:.875rem;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s}.btn-secondary:hover:not(:disabled){background:var(--color-bg-surface-hover);border-color:var(--color-border-strong)}.btn-secondary:disabled{opacity:.5;cursor:not-allowed}body.theme-dark .entity-notes-card-strict{background:var(--color-bg-surface);border-color:var(--color-border-default)}body.theme-dark .entity-notes-title,body.theme-dark .entity-notes-campaign-line,body.theme-dark .entity-notes-strict-title,body.theme-dark .entity-notes-strict-campaign,body.theme-dark .entity-notes-strict-filter-label{color:#d4d4d4}body.theme-dark .entity-notes-strict-filter-select{background:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-empty{color:#a3a3a3}body.theme-dark .entity-notes-strict-note-item{border-color:var(--color-border-default);background:var(--color-bg-surface-hover)}body.theme-dark .entity-notes-strict-note-title{color:#d4d4d4}body.theme-dark .entity-notes-strict-note-visibility{background:var(--color-bg-surface-active);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-note-timestamp{color:#a3a3a3}body.theme-dark .entity-notes-strict-note-body,body.theme-dark .entity-notes-strict-action-button{color:#d4d4d4}body.theme-dark .entity-notes-strict-action-button:hover{color:#f5f5f5}body.theme-dark .entity-notes-strict-edit-panel{border-color:var(--color-border-default);background:var(--color-bg-surface-hover)}body.theme-dark .entity-notes-strict-textarea{background:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-share-label{color:#d4d4d4}body.theme-dark .entity-notes-strict-edit-button{background:#262626;border-color:#525252;color:#d4d4d4}body.theme-dark .entity-notes-strict-edit-button:hover{background:#404040}body.theme-dark .entity-notes-strict-delete-button{background:#262626;border-color:#dc2626;color:#fca5a5}body.theme-dark .entity-notes-strict-delete-button:hover{background:#7f1d1d}body.theme-dark .entity-notes-strict-tab-button{background:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-tab-button:hover{background:var(--color-bg-surface-active);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-tab-button.active{background:#2563eb;border-color:#2563eb;color:#fff}body.theme-dark .entity-notes-strict-mention-toggle-button{background:var(--color-bg-surface-hover);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-mention-toggle-button:hover{background:var(--color-bg-surface-active);border-color:var(--color-border-default);color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-mention-toggle-button.active{background:#2563eb;border-color:#2563eb;color:#fff}body.theme-dark .entity-notes-strict-mention-count{background:#ffffff40;color:var(--color-text-primary)}body.theme-dark .entity-notes-strict-mention-toggle-button.active .entity-notes-strict-mention-count{background:#ffffff4d;color:#fff}.max-w-5xl{max-width:1024px}.mx-auto{margin-left:auto;margin-right:auto}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pt-8{padding-top:2rem}.bg-white{background:#fff}.border{border-width:1px}.border-neutral-200{border-color:#e5e7eb}.border-neutral-100{border-color:#f5f5f5}.border-neutral-300{border-color:#d4d4d4}.rounded-xl{border-radius:.75rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.shadow-sm{box-shadow:0 1px 2px #0000000d}.shadow-lg{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.p-6{padding:1.5rem}.p-4{padding:1rem}.mb-6{margin-bottom:1.5rem}.mb-4{margin-bottom:1rem}.mb-1{margin-bottom:.25rem}.mt-2{margin-top:.5rem}.w-full{width:100%}.w-\[260px\]{width:260px}.w-\[420px\]{width:420px}.flex{display:flex}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-neutral-600{color:#525252}.text-neutral-700{color:#404040}.text-neutral-500{color:#737373}.text-blue-600{color:#2563eb}.text-left{text-align:left}.border-b{border-bottom-width:1px}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.hover\:underline:hover{text-decoration:underline}.hover\:text-neutral-900:hover{color:#171717}.last\:border-0:last-child{border-bottom-width:0}.block{display:block}.absolute{position:absolute}.relative{position:relative}.top-full{top:100%}.right-0{right:0}.z-10{z-index:10}.space-y-4>*+*{margin-top:1rem}body.theme-dark .bg-white{background:#171717}body.theme-dark .border-neutral-200{border-color:#404040}body.theme-dark .border-neutral-100{border-color:#262626}body.theme-dark .border-neutral-300{border-color:#525252}body.theme-dark .text-neutral-600{color:#a3a3a3}body.theme-dark .text-neutral-700{color:#d4d4d4}body.theme-dark .text-neutral-500{color:#737373}body.theme-dark .text-blue-600{color:#60a5fa}
